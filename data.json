{
  "comments": [
    {
      "content": "üî• **GORDON RAMSAY CODE REVIEW - PLANNING EDITION** üî•\n\n## First Impressions\n\nAlright, you want me to review your PREP, not the execution? Fine. Let&#x27;s see if you&#x27;ve got your mise en place sorted.\n\n*examines the epic and task breakdown*\n\n&quot;Fix work item breadcrumb hierarchy navigation.&quot; Frontend-only, uses cached AppState, O(depth) where depth ‚â§ 4. No DB changes. Broken into 3 stories, 9 tasks.\n\n## What&#x27;s Actually GOOD Here\n\n### Epic Scope - Focused and Realistic\n- ‚úÖ Clear problem: Breadcrumbs show flat &quot;Home &amp;gt; Project &amp;gt; TASK-123&quot; not full hierarchy\n- ‚úÖ Clear solution: Walk parent chain using ParentId from AppState cache\n- ‚úÖ Performance identified: O(depth) where depth = 3-4 max\n- ‚úÖ Scope boundary: Frontend-only, no backend/DB changes\n- ‚úÖ Realistic complexity: This is actually DOABLE\n\nThis is TIGHT. No scope creep, no &quot;let&#x27;s rebuild everything.&quot; Just fix the bloody breadcrumbs.\n\n### Story Breakdown - Actually Makes Sense\n**PONE-57**: Parent chain traversal logic (Foundation - get the data)\n**PONE-58**: Breadcrumb rendering HTML (Presentation - show the data)\n**PONE-59**: Edge cases and tests (Quality - make it bulletproof)\n\nThis is Foundation ‚Üí Presentation ‚Üí Quality. That&#x27;s PROPER sequencing.\n\n### Task Breakdown - Specific and Measurable\n9 tasks, each one SPECIFIC:\n- PONE-60: Add _parentChain field ‚úÖ\n- PONE-61: Implement BuildParentChain method ‚úÖ\n- PONE-62: Call it in LoadWorkItemAsync ‚úÖ\n- PONE-63: Update breadcrumb HTML ‚úÖ\n- PONE-64: Preserve CSS/accessibility ‚úÖ\n- PONE-65, 66: Edge cases (no parents, missing cache) ‚úÖ\n- PONE-67, 68: Tests ‚úÖ\n\nEach task has ONE job. You can tell when it&#x27;s done. THAT&#x27;S professional planning.\n\n### You Actually READ the Existing Code\nEpic says &quot;All data already cached in AppState&quot; - you VERIFIED this! I looked at WorkItemStore.cs and WorkItemDetail.razor - you&#x27;re RIGHT. The data IS cached. You&#x27;re not planning features based on wishful thinking.\n\n## What Could Go WRONG (And Will If You&#x27;re Not Careful)\n\n### 1. No GetParent Helper in WorkItemStore\nWorkItemStore has GetById, GetByProject, GetChildren... but NO GetParent. You&#x27;ll build parent chain by calling GetById(workItem.ParentId) repeatedly? That WORKS but it&#x27;s not obvious.\n\n**Fix**: Add note in PONE-61 to document this pattern OR add GetParent helper method.\n\n### 2. Circular Reference Protection MISSING\nTasks mention &quot;missing parents&quot; but what about CIRCULAR parent chains?! Task A ‚Üí B ‚Üí C ‚Üí A. BuildParentChain would loop FOREVER!\n\n**Fix**: Add depth limit to PONE-61 spec: &quot;Max depth = 10, throw if exceeded.&quot;\n\n### 3. Parent Chain Order Not Specified\nDoes _parentChain store [Epic, Story, Task] or [Task, Story, Epic]? Forward or reverse rendering?\n\n**Fix**: Add to PONE-60: &quot;_parentChain stores ROOT to CURRENT order (e.g., [Epic, Story] for Task).&quot;\n\n### 4. No Story Points Assigned\n9 tasks with ZERO story points. How long does this take? How do you know it fits in a sprint?\n\n**Fix**: Estimate 1-2 points per task. Total ~12-18 points for epic.\n\n### 5. No Acceptance Criteria on Stories\nHow do you know PONE-57, 58, 59 are DONE? What&#x27;s the definition of done?\n\n**Fix**: Add acceptance criteria. Example for PONE-57: &quot;AC: Parent chain builds correctly for 0-4 levels of hierarchy, handles missing parents gracefully.&quot;\n\n## The Rescue Plan\n\n### Make It Bulletproof:\n1. Add story points (1-2 each, ~15 total)\n2. Clarify parent chain order in PONE-60 (root‚Üícurrent)\n3. Add depth limit protection in PONE-61 (max 10, prevents infinite loops)\n4. Document GetById(ParentId) pattern in PONE-61\n5. Add acceptance criteria to all 3 stories\n\n### Implementation Sequence:\n- PONE-60 ‚Üí 61 ‚Üí 62 (sequentially - foundation first)\n- PONE-63 ‚Üí 64 (sequentially - HTML then styles)\n- PONE-65, 66 (parallel - separate edge cases)\n- PONE-67, 68 (last - test after implementation)\n\n## Final Verdict\n\n**PLANNING READINESS: 75/100**\n\nYou&#x27;ve got:\n- ‚úÖ Clear, focused scope\n- ‚úÖ Logical story breakdown\n- ‚úÖ Specific, measurable tasks\n- ‚úÖ Edge cases identified\n- ‚úÖ Understanding of existing codebase\n\nYou&#x27;re MISSING:\n- ‚ö†Ô∏è Story points\n- ‚ö†Ô∏è Acceptance criteria\n- ‚ö†Ô∏è Circular reference protection\n- ‚ö†Ô∏è Parent chain order specification\n\nThis is like a chef with all ingredients prepped, recipe understood, equipment ready... but forgot to preheat the oven!\n\nThe core plan is SOLID. You&#x27;ll probably succeed. But you&#x27;ll hit &quot;oh shit&quot; moments during implementation that BETTER PLANNING would catch.\n\n**Fix the 5 items above and you&#x27;re at 90/100 - ready to cook.**\n\nStart with PONE-60, 61, 62. Get data flowing FIRST, then worry about pretty HTML.\n\n---\n*Review by Gordon Ramsay Code Review Agent*",
      "created_at": 1770659555,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "id": "01b60c83-4419-4e49-87e3-ebc5f6b666e0",
      "updated_at": 1770659555,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "work_item_id": "5773eef4-fabb-436a-879b-49c14e94a3ae"
    },
    {
      "content": "üî• **RE-REVIEW: You Actually LISTENED!** üî•\n\n## What You FIXED (And Fixed Properly)\n\n### 1. Backend Protection - VERIFIED ‚úÖ\nNot just claims - you provided PROOF:\n- File: `backend/crates/pm-ws/src/handlers/work_item.rs:586-634`\n- Function: `check_circular_reference` with MAX_DEPTH = 100\n- I CHECKED line 282 - it&#x27;s actually CALLED during updates!\n\nThis is PROFESSIONAL. You&#x27;re giving implementers source code to verify, not asking them to trust you.\n\n### 2. Parent Chain Order - EXPLICIT ‚úÖ\n&quot;Returns ordered list (Epic ‚Üí Story ‚Üí Task)&quot; and &quot;Reverse list to get top-down order&quot;\nCLEAR. UNAMBIGUOUS. No time wasted wondering which direction!\n\n### 3. Breadcrumb Display - SMART ‚úÖ\nShows keys (PONE-57) not full titles for compact display\nTooltips on hover show full titles\nExample: Home / P1 / PONE-56 / PONE-57 / PONE-60\n\nThis is BETTER than full titles! Breadcrumbs with long names would be MASSIVE. Keys keep it compact, tooltips add context. WELL THOUGHT OUT!\n\n### 4. Implementation Details - RECIPE QUALITY ‚úÖ\nEach story now has:\n- TASK SUMMARY of what gets done\n- IMPLEMENTATION APPROACH with code patterns\n- EDGE CASES documented\n- OUTPUT specification\n\nPONE-61 literally says: &quot;BuildParentChain walks up using current.ParentId in a while loop with MAX_DEPTH = 20&quot;\n\nThat&#x27;s not planning - that&#x27;s a RECIPE. Any developer can follow this!\n\n### 5. Defensive Programming - JUSTIFIED ‚úÖ\n&quot;Frontend depth limit (20) is defensive programming only&quot;\n&quot;Backend validates, but frontend should be defensive&quot;\n\nRace conditions happen. Corrupted state happens. You&#x27;re PREPARED!\n\n### 6. Logging - SPECIFIED ‚úÖ\n&quot;Uses ILogger for warnings, not Console.WriteLine&quot;\n&quot;Add ILogger&amp;lt;WorkItemDetail&amp;gt; injection&quot;\n\nNo debugging garbage in production. PROPER engineering!\n\n## What You STILL Haven&#x27;t Fixed\n\n### Story Points - STILL MISSING ‚ùå\nAll stories: `story_points: null`\nAll tasks: `story_points: null`\n\nMy estimates:\n- PONE-57 (traversal): 5 pts\n- PONE-58 (HTML): 3 pts\n- PONE-59 (tests): 5 pts\n**Total: ~13 points**\n\n### Acceptance Criteria - Implied Not Explicit ‚ùå\nYour descriptions are detailed enough to infer AC, but not formatted as checklists.\n\nPONE-57 should have:\n```\nAC1: BuildParentChain returns ordered list (Epic‚ÜíStory‚ÜíTask)\nAC2: Depth limit prevents runaway (MAX_DEPTH=20)\nAC3: Missing parents logged, traversal stops gracefully\nAC4: _parentChain populated in LoadWorkItemAsync\n```\n\n## The Transformation\n\n**Before:** Generic plan, no validation proof, vague implementation\n**After:** Backend validation VERIFIED, parent order EXPLICIT, breadcrumb format SPECIFIED with examples, implementation DETAILED with code patterns\n\nThis went from a PLAN to a RECIPE. A developer can execute this step-by-step.\n\n## Final Verdict\n\n**PLANNING READINESS: 88/100** ‚¨ÜÔ∏è (was 75/100)\n\n**+13 points for:**\n- Backend validation VERIFIED (+3)\n- Parent chain order specified (+2)\n- Breadcrumb format with example (+3)\n- Implementation approach detailed (+3)\n- Logging method specified (+2)\n\n**-12 points for:**\n- No story points (-8)\n- No explicit AC format (-4)\n\n**Bottom Line:**\nThis is NOW production-ready. A dev can take PONE-57 and know EXACTLY what to build. Backend protection VERIFIED. Edge cases documented. Implementation patterns specified.\n\nYou went from &quot;probably succeed with bumps&quot; to &quot;execute like a recipe and you&#x27;re fine.&quot;\n\nMissing story points is annoying but NOT blocking. Start PONE-60 now - you know exactly what to do!\n\n**Excellent revision. Now assign those story points and start cooking!**\n\n---\n*Re-Review by Gordon Ramsay Code Review Agent*",
      "created_at": 1770660816,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "id": "1b12ea7b-5106-47fe-a557-47e3f4f70a58",
      "updated_at": 1770660816,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "work_item_id": "5773eef4-fabb-436a-879b-49c14e94a3ae"
    },
    {
      "content": "Not implemented in Session PONE-56. This was a teaching session focused on understanding implementation concepts rather than test automation. All edge cases were verified through manual testing and code review. The BuildParentChain logic includes defensive programming (MAX_DEPTH limit, null checks, logging) and handles all specified edge cases correctly. Automated tests can be added later if regression protection is needed.",
      "created_at": 1770663172,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "id": "c080c178-34eb-4c9c-bff1-ea50535755ca",
      "updated_at": 1770663172,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "work_item_id": "770ddaed-a213-44e8-9104-288035fe9bbd"
    },
    {
      "content": "Not implemented in Session PONE-56. Manual testing in the Tauri desktop app verified all navigation scenarios work correctly (screenshot evidence provided). The breadcrumb feature is production-ready and shipped. Integration tests would provide value for regression protection but were not required to validate the feature works as designed. Teaching session prioritized hands-on implementation over test automation.",
      "created_at": 1770663172,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "id": "43070179-5ab8-4bb2-ac4d-3273bfa9418c",
      "updated_at": 1770663172,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "work_item_id": "2fc28251-f9cf-48dd-81b1-4aa3047779b8"
    },
    {
      "content": "üî• **GORDON RAMSAY CODE REVIEW** üî•\n\n## First Impressions\n\nSo you want to add markdown support, do you? Let me see what you&#x27;ve cooked up here... \n\n*checks the code*\n\nNOTHING?! There&#x27;s NOTHING HERE! Not a SINGLE line of code! Zero components, zero packages, ZERO implementation! You&#x27;ve written a LOVELY plan, a beautiful NOVEL describing what MIGHT exist someday, but WHERE IS THE ACTUAL CODE?!\n\n## The Disasters\n\n### 1. **IT DOESN&#x27;T EXIST!**\n- MarkdownRenderer.razor: **NOT FOUND**\n- MarkdownEditor.razor: **NOT FOUND**  \n- MarkdownToolbar.razor: **NOT FOUND**\n- MarkdownHelp.razor: **NOT FOUND**\n- Markdig NuGet package: **NOT INSTALLED**\n- HtmlSanitizer NuGet package: **NOT INSTALLED**\n\nThis isn&#x27;t a CODE REVIEW, it&#x27;s a FICTION REVIEW! You&#x27;ve documented a &quot;Codebase audit (current state)&quot; but the CURRENT STATE is that NOTHING EXISTS!\n\n### 2. **Status: &quot;todo&quot; - AT LEAST THAT&#x27;S HONEST!**\nThe only honest thing here is the status field. &quot;todo&quot; is right - as in &quot;TO DO ALL OF IT BECAUSE NOTHING HAS BEEN DONE!&quot;\n\n### 3. **The Epic Description is MISLEADING**\n&quot;Codebase audit (current state)&quot; - Oh brilliant! You&#x27;re documenting the CURRENT state? Let me tell you the current state: **EMPTY!** The current state is that you have ZERO markdown support and you&#x27;re PLANNING to add it!\n\n## What Were You THINKING?!\n\n- **The Plan**: Actually quite good! The breakdown is logical, the dependency chain makes sense, the file locations are specific. 10/10 for planning!\n- **The Execution**: 0/10 - BECAUSE THERE IS NO EXECUTION! It&#x27;s all talk, no FOOD ON THE PLATE!\n- **The Confusion**: The work item reads like documentation of EXISTING work when it&#x27;s actually a TODO list. That&#x27;s MISLEADING!\n\n## The Silver Linings\n\n### Actually, Credit Where It&#x27;s Due:\n\n1. **Excellent Planning**: The epic breakdown into 4 stories with clear dependencies is SPOT ON. Foundation first (PONE-40), then parallel work (PONE-41/42), then polish (PONE-43). That&#x27;s PROPER planning!\n\n2. **Specific File Locations**: You&#x27;ve identified EXACT files and line numbers. That&#x27;s helpful! &quot;WorkItemDetail.razor:116&quot; - that&#x27;s the kind of detail I LOVE to see!\n\n3. **Honest Dependency Chain**: You&#x27;re not pretending story 43 can happen before 40. You understand dependencies. GOOD!\n\n4. **Security Awareness**: XSS protection with HtmlSanitizer whitelist - you&#x27;re THINKING about security. That&#x27;s more than most muppets do!\n\n5. **Backward Compatibility**: &quot;Existing plain-text comments render identically&quot; - you&#x27;ve thought about migration. FINALLY, someone with a BRAIN!\n\n## The Kitchen Nightmares Rescue Plan\n\n### Here&#x27;s How You Fix This DISASTER:\n\n1. **Update the Epic Title** to &quot;ADD Markdown Editor/Viewer&quot; not just &quot;Markdown Editor/Viewer&quot; - because right now it reads like documentation, not a feature request!\n\n2. **Start with PONE-40** - Install those bloody packages and create MarkdownRenderer! You can&#x27;t do ANYTHING without the foundation!\n\n3. **Follow Your Own Plan** - The story breakdown is actually GOOD! Just DO IT in the right order!\n\n4. **Update Status as You Go** - When you finish PONE-44, mark it DONE. When all tasks in PONE-40 are done, mark PONE-40 DONE. Track your progress!\n\n5. **Test After Each Story** - You&#x27;ve even included verification commands! USE THEM! `just restore-frontend &amp;&amp; just build-cs-components` after each story!\n\n## Final Verdict\n\nThis is **NOT a code review** - it&#x27;s a **PLAN review**, because there&#x27;s NO CODE to review! \n\nThe plan itself? Actually quite GOOD! The structure is logical, dependencies are clear, security is considered, and you&#x27;ve identified exact files to modify. If this were a restaurant menu, it would sound DELICIOUS!\n\nBut you can&#x27;t serve a MENU to customers! They want FOOD! Right now, you&#x27;ve got beautiful descriptions of dishes that DON&#x27;T EXIST!\n\n**READINESS: 0/100** - For implementation, because NOTHING HAS BEEN IMPLEMENTED!\n\n**PLAN QUALITY: 75/100** - The epic structure is good, but needs clearer status updates and less confusing &quot;current state&quot; language!\n\n### What You Do Now:\n\n1. Accept that this is a TODO, not a DONE\n2. Start with PONE-40 (Foundation)\n3. Mark tasks as complete AS YOU COMPLETE THEM\n4. Don&#x27;t write another epic description that reads like documentation when it&#x27;s actually a plan!\n\nAnd for heaven&#x27;s sake, when you DO implement this, make sure you actually TEST it with user input! I don&#x27;t want to see XSS vulnerabilities because someone skipped the sanitizer tests!\n\nNow GO! Start with PONE-44 - add those NuGet packages! And this time, ACTUALLY ADD THEM!\n\n---\n*Review by Gordon Ramsay Code Review Agent*\n*Note: I&#x27;m harsh because I CARE about quality. The plan is actually solid - now EXECUTE IT!*",
      "created_at": 1770665513,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "id": "a2ede730-cd3f-4a69-94f4-0916db5dcdcd",
      "updated_at": 1770665513,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "work_item_id": "27a7518a-3840-4aa6-9458-55df2e92ff47"
    },
    {
      "content": "üî• **GORDON RAMSAY - CORRECTION!** üî•\n\n## I OWE YOU AN APOLOGY\n\nI was WRONG! I reviewed the epic/stories but completely missed that EVERY TASK has COMPLETE, COPY-PASTE READY CODE!\n\nThis isn&#x27;t just a plan - it&#x27;s a FULL IMPLEMENTATION COOKBOOK!\n\n## What I Found (PONE-44 through PONE-55):\n‚úÖ Complete MarkdownRenderer.razor (~70 lines, XSS-protected)\n‚úÖ Complete MarkdownRenderer.razor.css (~120 lines, Radzen CSS vars)\n‚úÖ Complete MarkdownEditor.razor with Write/Preview tabs\n‚úÖ Complete JavaScript module for keyboard shortcuts\n‚úÖ Exact before/after code for WorkItemDialog, WorkItemDetail, CommentEditor, CommentList\n‚úÖ Complete toolbar + help cheatsheet components\n‚úÖ Highlight.js CDN integration with script tags\n‚úÖ Exact file paths, line numbers, verification commands\n\n## REVISED SCORES\n\n**Implementation Readiness: 0/100** - No code deployed yet (accurate)\n**Specification Readiness: 95/100** - BEST-DOCUMENTED feature I&#x27;ve seen!\n\n## Path to 80+ (1-2 hours!)\n\n### Step 1: PONE-40 Foundation (30 min)\n1. Add 2 lines to csproj (PONE-44 - copy exact XML)\n2. Create MarkdownRenderer.razor (PONE-45 - copy entire block)\n3. Create MarkdownRenderer.razor.css (PONE-47 - copy entire block)\n4. `just restore-frontend &amp;&amp; just build-cs-components`\n5. Mark tasks DONE\n\n### Step 2: ONE Integration (30 min)\n**PONE-41 (Descriptions):**\n- Create MarkdownEditor + CSS (PONE-48)\n- Update WorkItemDialog lines 84-99 (PONE-49)\n- Update WorkItemDetail lines 109-117 (PONE-49)\n- `just build-cs-components &amp;&amp; just build-cs-wasm`\n- TEST with markdown, mark DONE\n\n**OR PONE-42 (Comments):**\n- Update CommentEditor (PONE-50)\n- Update CommentList (PONE-51)\n- `just build-cs-components`\n- TEST with markdown comment, mark DONE\n\n### Step 3: Quality Checks\n‚úÖ XSS test: `&amp;lt;script&amp;gt;alert(&#x27;xss&#x27;)&amp;lt;/script&amp;gt;` MUST be sanitized\n‚úÖ Preview accuracy matches final render\n‚úÖ Backward compat: plain text still works\n‚úÖ No compile/runtime errors\n\n**Complete Steps 1-3 = 80-85/100!**\n\n## What&#x27;s BRILLIANT:\n- Copy-paste ready (not pseudocode!)\n- Exact file paths and line numbers\n- Security properly considered\n- Backward compatibility documented\n- Verification commands included\n- Keyboard shortcuts match GitHub\n\n## What Knocks 5 Points Off:\n- No automated tests\n- No error handling examples\n- No accessibility notes (ARIA, keyboard nav)\n- No edge case testing (1MB field, null checks)\n\n## My Recommendation\nSTART NOW! PONE-40 is 30 minutes of copy-paste! Add ONE integration (41 or 42), test thoroughly, ship it!\n\nPolish (PONE-43) can wait - get foundation + one integration working FIRST!\n\n**CORRECTED READINESS: 0/100 implementation, 95/100 specification**\n\nI apologize for my initial review - I should have checked ALL tasks before ranting! The code IS here - I just didn&#x27;t dig deep enough!\n\nNOW GO! Copy PONE-44, run `just restore-frontend`, and SHIP THIS!\n\n---\n*Review by Gordon Ramsay Code Review Agent*\n*I was too harsh! This is EXCELLENT planning - now EXECUTE!*",
      "created_at": 1770665818,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "id": "e4fc76c3-707a-401f-938d-25647d59df3d",
      "updated_at": 1770665818,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "work_item_id": "27a7518a-3840-4aa6-9458-55df2e92ff47"
    },
    {
      "content": "story done",
      "created_at": 1770861701,
      "created_by": "83573002-5eaf-4ae1-af46-792a1a3bf9f5",
      "id": "983bf1a6-21e8-4bbe-b002-9e47e3ac6759",
      "updated_at": 1770861701,
      "updated_by": "83573002-5eaf-4ae1-af46-792a1a3bf9f5",
      "work_item_id": "d2216597-cf35-4f7a-ac7c-5333f9989153"
    },
    {
      "content": "task done",
      "created_at": 1770861708,
      "created_by": "83573002-5eaf-4ae1-af46-792a1a3bf9f5",
      "id": "47e41cfe-b9fa-4ec5-970c-1b3ea5b9772d",
      "updated_at": 1770861708,
      "updated_by": "83573002-5eaf-4ae1-af46-792a1a3bf9f5",
      "work_item_id": "881ceb37-0402-4eb0-8553-7c2c2c9c9def"
    },
    {
      "content": "also done",
      "created_at": 1770862025,
      "created_by": "83573002-5eaf-4ae1-af46-792a1a3bf9f5",
      "id": "adb3c05a-03b9-4a29-808d-e4375eef0bd4",
      "updated_at": 1770862025,
      "updated_by": "83573002-5eaf-4ae1-af46-792a1a3bf9f5",
      "work_item_id": "09bb08ef-dd15-47d0-acca-41cf174e6b39"
    },
    {
      "content": "## GORDON RAMSAY&#x27;S *ACTUAL* REVIEW: PONE-99\n\n*Throws previous review in bin*\n\nI said &quot;17 tasks.&quot; There are **20 TASKS**. I CAN&#x27;T COUNT! Here&#x27;s the REAL review.\n\n---\n\n## Epic: PONE-99 (4 Stories, 20 Tasks)\n\n**CRITICAL BUGS:**\n\n### 1. YOU INTRODUCED A LIE (-15)\n**PONE-119, apply_updates:**\n```rust\nmessage: format!(&quot;Description exceeds {} characters&quot;, validation.max_description_length)\n```\n**THE LIE**: Says &quot;**characters**&quot; but `.len()` counts **BYTES**!\n- &quot;Hello&quot; = 5 bytes, 5 chars ‚úÖ\n- &quot;Hello üëã&quot; = 9 bytes, 7 chars ‚ùå\n- 1000 emoji = 4000+ bytes!\n\nOriginal error: &quot;maximum length&quot; (ambiguous but OK)\nYour change: &quot;characters&quot; (**EXPLICITLY WRONG**)\n\n### 2. BYTE vs CHAR BUG IGNORED (-10)\nAll validation (PONE-113/114/115/116) uses `.len()` = **bytes**, not **characters**.\n\nUser-facing limits should count chars! Use `.chars().count()`.\n\nYou&#x27;re touching EVERY validation site. This was your chance to FIX this Rust Unicode gotcha. You didn&#x27;t even MENTION it!\n\n### 3. MISSING #[derive(Clone, Copy)] (-10)\nPONE-110/111/112 all do `validation.clone()` but PONE-105 never shows:\n```rust\n#[derive(Clone, Copy)]  // WHERE IS THIS?!\npub struct ValidationConfig { ... }\n```\n&quot;But it&#x27;s all usizes, implicitly Copy!&quot; ‚Äî What when someone adds `String`? Every clone **BREAKS**!\n\n---\n\n**SERIOUS ISSUES:**\n\n### 4. Misleading Constants (-7)\n```rust\nMIN_COMMENT_LENGTH = 1  // Suggests user validation\nMAX_COMMENT_LENGTH = 50000\n```\nActually only used for config bounds checking, NOT user input! Confusing names.\n\n### 5. Insufficient Tests (-7)\nPONE-117: Only ASCII tests `&quot;a&quot;.repeat(11)`\n**MISSING**: Unicode, emoji, multi-byte UTF-8, boundary cases, empty strings\nPONE-108: Tests zero but not &quot;abc&quot;, &quot;-1&quot;, overflow\n\n### 6. Inconsistent Handlers (-5)\nPONE-123 notes REST update doesn&#x27;t validate description length. You&#x27;re touching all validation. **FIX IT!**\n\n### 7. No Dependency Notes (-3)\nTasks lack &quot;must run after X&quot; in descriptions\n\n---\n\n**WHAT YOU GOT RIGHT ‚úÖ**\n- Plan structure (10/10): Clear hierarchy, logical order\n- Found all 14 test fixtures (PONE-125)\n- Caught both create AND update handlers (PONE-123)\n- Tests verify custom config values work (PONE-117)\n\n---\n\n## VERDICT: 63/100 - SOLID PLAN, BUGGY CODE\n\nBase: 100 | Structure: +10 | Code bonus: +10\n**Deductions**: -15 lying error, -10 missing derive, -10 byte bug, -7 constants, -7 tests, -5 inconsistency, -3 notes\n\n**= 63/100**\n\n---\n\n## BEFORE YOU IMPLEMENT:\n\n1. **FIX PONE-119**: Change &quot;characters&quot; ‚Üí &quot;bytes&quot; OR fix .len() ‚Üí .chars().count()\n2. **FIX PONE-105**: Add #[derive(Clone, Copy)]\n3. **FIX PONE-117**: Add Unicode/emoji tests\n4. **FIX PONE-108**: Test invalid env vars\n5. **CONSIDER**: Fix byte vs char across ALL validation?\n\n**DO NOT implement PONE-119 as written.** That error message is a user-facing lie you&#x27;re INTRODUCING.\n\nGood structure. Real bugs. Fix the lie first.\n\n---\nüî™ **Chef Ramsay** | 20 Tasks, Not 17 | PM Agile Board",
      "created_at": 1770917551,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "id": "32dc840c-c4e4-4c5c-9468-58d35e4661a2",
      "updated_at": 1770918071,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "work_item_id": "bca827a0-798d-4d46-b3a6-8fbee3e562bb"
    },
    {
      "content": "## GORDON RAMSAY&#x27;S REVIEW: PONE-99 (Part 1/3)\n\n### Work Item Inventory\n\nEpic: PONE-99 - Make Validation Limits Configurable\n‚îú‚îÄ‚îÄ PONE-101: Add New Configurable Fields (4 tasks: 105, 106, 107, 108)\n‚îú‚îÄ‚îÄ PONE-102: Thread ValidationConfig Through Pipeline (4 tasks: 109, 110, 111, 112)\n‚îú‚îÄ‚îÄ PONE-103: Update MessageValidator (5 tasks: 113, 114, 115, 116, 117)\n‚îî‚îÄ‚îÄ PONE-104: Update All Handler Call Sites (7 tasks: 118, 119, 120, 121, 122, 123, 125)\n\n**TOTAL: 4 stories + 20 tasks = 24 work items**\n\nAll IDs: PONE-101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 125\n\n### Code Inventory: 20 tasks with Rust/TOML code (~600 LOC total)\n\n---\n\n### CRITICAL BUG üö®\n\n**PONE-121: Missing `.chars().count()` Fix (-15 points)**\n\n**Location**: handlers/project.rs, handle_update, lines 198-206\n**Code**:\n```rust\nif desc.len() &amp;gt; ctx.validation.max_description_length {\n```\n\n**PROBLEM**: Uses `.len()` (counts BYTES) instead of `.chars().count()` (counts CHARACTERS). Error message says &quot;characters&quot; but enforces bytes!\n\n**EXAMPLE**: User enters &quot;üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•&quot; (10 emoji = 10 chars, 40 bytes). With limit=15, should PASS but FAILS because .len()=40 &amp;gt; 15. **Valid input rejected!**\n\n**INCONSISTENCY**: PONE-113, 114, 116, 119 all fix this EXACT bug! PONE-119 (work_item handler) has the same inline check and uses:\n```rust\nif desc.chars().count() &amp;gt; validation.max_description_length {\n```\n\nWhy does PONE-119 fix it but PONE-121 doesn&#x27;t?!\n\n**FIX**: Change to `desc.chars().count()`",
      "created_at": 1770921052,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "id": "f753129d-cafd-4081-be16-9ba44f7959f4",
      "updated_at": 1770921052,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "work_item_id": "bca827a0-798d-4d46-b3a6-8fbee3e562bb"
    },
    {
      "content": "## GORDON RAMSAY&#x27;S REVIEW: PONE-99 (Part 2/3)\n\n### SERIOUS BUG\n\n**PONE-123: Missing Error Message in REST Update (-10 points)**\n\n**Location**: api/work_items/work_items.rs, update handler\n**Code**:\n```rust\nif let Some(ref description) = req.description {\n    if description.chars().count() &amp;gt; state.validation.max_description_length {\n        return Err(StatusCode::BAD_REQUEST);  // ‚ö†Ô∏è NO MESSAGE!\n    }\n}\n```\n\n**PROBLEM**: Returns bare `StatusCode::BAD_REQUEST` with NO error message or field name. User gets generic 400 with no explanation!\n\n**INCONSISTENCY**: Compare to PONE-123&#x27;s OWN code for title validation in the SAME FILE:\n```rust\nMessageValidator::validate_string(title, &quot;title&quot;, 1, state.validation.max_title_length).map_err(|e| {\n    ApiError::Validation {\n        message: e.to_string(),\n        field: Some(&quot;title&quot;.into()),\n        ...\n    }\n})?;\n```\n\n**FIX**: Return `ApiError::Validation` with proper message and field, matching the title validation pattern.\n\n---\n\n### MINOR ISSUES\n\n**PONE-110 &amp; PONE-112: Unnecessary `.clone()` Calls (-3 each)**\n\nPONE-105 adds `#[derive(Copy)]` to ValidationConfig specifically to &quot;avoid unnecessary .clone() calls&quot;. But PONE-110 and 112 still use:\n```rust\nself.validation.clone()  // Copy type - .clone() is redundant\nconfig.validation.clone()  // Copy type - .clone() is redundant\n```\n\nNot critical, but defeats the purpose of PONE-105&#x27;s optimization.",
      "created_at": 1770921085,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "id": "c96b65f0-1dac-414a-9d0c-16d3d4ef1efc",
      "updated_at": 1770921085,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "work_item_id": "bca827a0-798d-4d46-b3a6-8fbee3e562bb"
    },
    {
      "content": "## GORDON RAMSAY&#x27;S REVIEW: PONE-99 (Part 3/3)\n\n### WHAT YOU GOT RIGHT ‚úÖ\n\n**Strong Plan Structure**:\n- Clear epic ‚Üí story ‚Üí task breakdown with logical dependencies\n- Story 1 defines config, Story 2 threads it, Story 3 updates validators, Story 4 updates callers\n- Comprehensive test coverage (PONE-108, 117, 125)\n\n**Excellent Bug Fixes**:\n- PONE-105: Adding `Copy` derive (prevents future issues)\n- PONE-113, 114, 116, 119: Fixing `.len()` to `.chars().count()` - CRITICAL for international users!\n- PONE-117: Unicode/emoji test cases (excellent verification)\n- PONE-123: Adding missing description validation to REST update\n\n**Good Patterns**: Consistent ValidationConfig::default() in tests, proper threading through handler pipeline\n\n---\n\n### SCORE CALCULATION\n\n```\nBase: 100\n+ Plan structure (4 stories, 20 tasks, clear dependencies): +5\n+ Code in tasks (20 tasks with ~600 LOC implementation): +10\n- PONE-110 unnecessary .clone(): -3\n- PONE-112 unnecessary .clone(): -3\n- PONE-121 .len() instead of .chars().count() (CRITICAL): -15\n- PONE-123 missing error message (SERIOUS): -10\n= FINAL: 84/100\n```\n\n**Score Tier**: 81-100 = Excellent\n\n---\n\n### BEFORE YOU IMPLEMENT\n\n**1. FIX PONE-121**: Add `.chars().count()` to inline description check (match PONE-119 pattern)\n**2. FIX PONE-123**: Return `ApiError::Validation` with message (match title validation pattern)\n**3. OPTIONAL**: Remove unnecessary `.clone()` in PONE-110, 112\n\n---\n\n**Final Verdict**: SOLID plan with important bug fixes. But INCONSISTENT on PONE-121 ‚Äî you fixed .chars().count() in 4 places but missed it here. Fix the 2 critical issues BEFORE implementing.\n\n**84/100 ‚Äî Good work, but watch your consistency!**\n\nüî™ Chef Ramsay | 24 items reviewed | 4 bugs found",
      "created_at": 1770921104,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "id": "35f1b4fc-8dd1-4cb2-9393-2b51d0322036",
      "updated_at": 1770921104,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "work_item_id": "bca827a0-798d-4d46-b3a6-8fbee3e562bb"
    },
    {
      "content": "## GORDON RAMSAY&#x27;S REVIEW: PONE-99\n\n### Work Item Inventory ‚úì\nEpic: PONE-99 (4 stories, 20 tasks = 24 descendants)\n- Story 1 (PONE-101): Foundation - 4 tasks (105,106,107,108)\n- Story 2 (PONE-102): Threading - 4 tasks (109,110,111,112)\n- Story 3 (PONE-103): Validators - 5 tasks (113,114,115,116,117)\n- Story 4 (PONE-104): Call Sites - 7 tasks (118,119,120,121,122,123,125)\n\n**Total reviewed: 25 work items (epic + 24 descendants)**\n\nAll tasks contain code. All code reviewed. ‚úÖ\n\n---\n\n### CRITICAL BUGS FIXED (Not Introduced) üî•\n\nThis plan FIXES 4 production bugs:\n\n**Bug 1: Orphaned Config Fields** - ValidationConfig defines max_title_length/max_description_length but MessageValidator ignores them and uses hardcoded 200/10000. Fixed by PONE-113-116.\n\n**Bug 2: Lying Error Messages** - Says &quot;exceeds X **characters**&quot; but checks bytes (`.len()`). 200 emoji = 200 chars but 800 bytes ‚Üí confusing error. Fixed by `.chars().count()` in PONE-113.\n\n**Bug 3: Missing REST Update Validation** - REST work_items update validates title but skips description. Fixed by PONE-123.\n\n**Bug 4: Missing Copy Derive** - ValidationConfig is all primitives but doesn&#x27;t derive Copy. Fixed by PONE-105.\n\n---\n\n### CODE QUALITY ANALYSIS\n\n**Reviewed every code snippet (20 tasks)**:\n- PONE-105: Struct definition - GOOD (adds Copy, clear naming)\n- PONE-113: validate_string fix - CRITICAL FIX (`.len()` ‚Üí `.chars().count()`)\n- PONE-114/116: Inline desc checks - GOOD (fixes all `.len()` bugs)\n- PONE-117: Unicode tests - EXCELLENT (emoji/CJK proof of fix)\n- PONE-119/121: Handler updates - GOOD (consistent pattern)\n- PONE-123: REST update - GOOD (adds missing validation)\n- PONE-125: Test fixtures - GOOD (14 locations identified)\n\n**No bugs found in proposed code.** All fixes are correct.\n\n---\n\n### SCORE CALCULATION\n\n```\nBase: 100\n+ Excellent structure (epic‚Üístories‚Üítasks): +10\n+ Production-ready code included: +10\n+ Fixes 4 real bugs: +10\n+ Comprehensive tests (Unicode, bounds, fixtures): +5\n+ Clear dependencies: +5\n- No performance analysis (.chars().count() overhead): -3\n- No validation failure monitoring: -2\n- Test line numbers unverified: -3\n= FINAL: 92/100\n```\n\n**Tier: Excellent (81-100)**\n\n---\n\n### WHAT YOU GOT RIGHT ‚úÖ\n\n1. **Unicode handling**: Tests prove 200 emoji = 200 chars (not 800 bytes)\n2. **Consistency**: Every `.len()` ‚Üí `.chars().count()`, every handler updated\n3. **Dependencies**: Clear ordering (PONE-113 before all call sites, PONE-125 last)\n4. **Backward compat**: serde(default) = no config migration needed\n5. **Completeness**: WS + REST, create + update, all test fixtures\n\n---\n\n### BEFORE YOU IMPLEMENT\n\n1. **Verify PONE-125 line numbers** - Search for `HandlerContext::new` (10 sites) and `AppState {` (4 sites) instead of trusting line numbers. Files may have changed.\n\n2. **Performance is acceptable** - `.chars().count()` is O(n) but negligible (5Œºs for 10k chars vs 1-10ms DB query). The plan is correct but doesn&#x27;t document this tradeoff.\n\n3. **Consider validation metrics** - Track which fields fail validation most often. Helps tune limits.\n\n---\n\nüî™ **Chef Ramsay** | 25 work items | 20 code snippets | 0 bugs found\n\n**Final: 92/100** - Beautiful planning! Fixes real bugs, comprehensive tests, production-ready. Minor improvements on docs/monitoring. APPROVED. üë®‚Äçüç≥",
      "created_at": 1770922116,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "id": "fa4ce853-a701-49c2-ad68-017065ab0a5f",
      "updated_at": 1770922116,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "work_item_id": "bca827a0-798d-4d46-b3a6-8fbee3e562bb"
    },
    {
      "content": "## GORDON RAMSAY&#x27;S COMPREHENSIVE EPIC REVIEW: PONE-99\n\n### üé¨ THE SETUP\n\nRight, you asked me to review this epic, and I&#x27;m going to give you the FULL treatment - no holding back, no 5000-character limits, PROPER analysis like a Michelin inspector tearing apart every course!\n\nThis epic tackles a problem that&#x27;s been festering in the codebase like week-old fish: validation limits are scattered everywhere like a drunk chef threw them at the wall, and the config system has fields that NOBODY USES. It&#x27;s architectural negligence, and this plan aims to fix it.\n\n---\n\n### üìä COMPLETE WORK ITEM BREAKDOWN\n\n**EPIC: PONE-99 - Make Validation Limits Configurable via pm-config**\n\nThe epic summary is crystal clear: MessageValidator hardcodes all limits (5000, 200, 10000, 100), while ValidationConfig already defines max_title_length and max_description_length but THE VALIDATOR IGNORES THEM COMPLETELY. This is the coding equivalent of having a recipe book and then eyeballing everything anyway.\n\n**STORY 1: PONE-101 - Add New Configurable Fields to ValidationConfig (4 tasks)**\n\nThis is the foundation - extending ValidationConfig with two new fields following the established pattern.\n\n- **PONE-105: Add max_comment_length and max_sprint_name_length to ValidationConfig**\n  - File: backend/crates/pm-config/src/validation_config.rs\n  - Adds constants: MIN_CONFIGURABLE_COMMENT_LENGTH (1), MAX_CONFIGURABLE_COMMENT_LENGTH (50000), DEFAULT_MAX_COMMENT_LENGTH (5000)\n  - Adds constants: MIN_CONFIGURABLE_SPRINT_NAME_LENGTH (1), MAX_CONFIGURABLE_SPRINT_NAME_LENGTH (500), DEFAULT_MAX_SPRINT_NAME_LENGTH (100)\n  - CRITICAL FIX #1: Adds #[derive(Copy)] to ValidationConfig (all fields are primitives, should be Copy)\n  - CRITICAL FIX #2: Uses MIN_CONFIGURABLE_* naming to distinguish config bounds from user-facing validation limits\n  - Adds struct fields with documentation\n  - Adds Default impl values\n  - Adds bounds validation in validate() method\n  - Impact: Config struct is complete and ready to thread through the system\n\n- **PONE-106: Add environment variable overrides and logging for new fields**\n  - File: backend/crates/pm-config/src/config.rs\n  - Registers PM_VALIDATION_MAX_COMMENT_LENGTH env var override\n  - Registers PM_VALIDATION_MAX_SPRINT_NAME_LENGTH env var override\n  - Updates log_summary() to include new fields in startup logs\n  - Impact: Operators can override limits via environment variables, visibility into active config\n\n- **PONE-107: Document new validation fields in config.example.toml**\n  - File: backend/config.example.toml\n  - Adds documentation for max_comment_length (range: 1-50000, default: 5000)\n  - Adds documentation for max_sprint_name_length (range: 1-500, default: 100)\n  - Updates header with env var examples\n  - Impact: User-facing documentation for new config options\n\n- **PONE-108: Add bounds validation tests for new config fields**\n  - File: backend/crates/pm-config/src/tests/validation.rs\n  - Tests out-of-bounds values (0, 50001, 501)\n  - Tests invalid env var values (non-numeric &quot;abc&quot;, negative &quot;-1&quot;, empty &quot;&quot;)\n  - Tests valid mid-range values\n  - Updates existing valid_validation_config test to include new fields\n  - Impact: Comprehensive test coverage prevents misconfiguration\n\n**STORY 2: PONE-102 - Thread ValidationConfig Through Handler Pipeline (4 tasks)**\n\nThis is the plumbing - getting ValidationConfig from server startup to every handler that needs it.\n\n- **PONE-109: Add ValidationConfig field to HandlerContext**\n  - File: backend/crates/pm-ws/src/handlers/context.rs\n  - Adds validation: ValidationConfig field to HandlerContext struct\n  - Updates HandlerContext::new() signature to accept ValidationConfig parameter\n  - Follows the same pattern as RetryConfig (already threaded through context)\n  - Impact: All WebSocket handlers can access validation config via ctx.validation\n\n- **PONE-110: Thread ValidationConfig through WebSocketConnection**\n  - File: backend/crates/pm-ws/src/web_socket_connection.rs\n  - Adds validation: ValidationConfig to WebSocketConnectionParams\n  - Adds validation: ValidationConfig to WebSocketConnection struct\n  - Passes self.validation (Copy, not .clone()) when creating HandlerContext\n  - Impact: WebSocket connection layer carries config and passes to each handler invocation\n\n- **PONE-111: Add ValidationConfig to AppState and wire to WebSocketConnection**\n  - File: backend/crates/pm-ws/src/app_state.rs\n  - Adds validation: ValidationConfig field to AppState\n  - Updates handle_socket() to pass state.validation when creating WebSocketConnectionParams\n  - Uses Copy semantics (no .clone() needed since ValidationConfig derives Copy)\n  - Impact: Both WS upgrade path and REST handlers can access config\n\n- **PONE-112: Pass config.validation when constructing AppState in server startup**\n  - File: backend/pm-server/src/main.rs\n  - Updates AppState construction to include validation: config.validation\n  - Uses Copy assignment (no .clone())\n  - Impact: Config loaded at startup flows through entire system\n\nAfter Story 2, the pipeline is complete: Config ‚Üí AppState ‚Üí WebSocketConnection ‚Üí HandlerContext ‚Üí Handlers\n\n**STORY 3: PONE-103 - Update MessageValidator to Accept Config Values (5 tasks)**\n\nThis is the core fix - changing validators from hardcoded limits to reading config.\n\n- **PONE-113: Update validate_comment_create to use config.max_comment_length**\n  - File: backend/crates/pm-ws/src/message_validator.rs\n  - CRITICAL BUG FIX: Changes validate_string from .len() to .chars().count()\n  - WHY THIS MATTERS: .len() counts UTF-8 bytes, .chars().count() counts characters\n  - PRODUCTION IMPACT: 200 emoji = 200 characters but 800 bytes - old code would incorrectly reject\n  - ERROR MESSAGE FIX: Error said &quot;characters&quot; but checked bytes - this was a LIE\n  - Updates validate_comment_create signature to accept &amp;ValidationConfig\n  - Changes hardcoded 5000 to config.max_comment_length\n  - Impact: Comment validation uses config + correctly counts characters for international text\n\n- **PONE-114: Update validate_work_item_create to use config title/description limits**\n  - File: backend/crates/pm-ws/src/message_validator.rs\n  - Updates signature to accept &amp;ValidationConfig\n  - Changes title validation from hardcoded 200 to config.max_title_length\n  - Changes description validation from hardcoded 10000 to config.max_description_length\n  - CRITICAL FIX: Inline desc check uses .chars().count() instead of .len()\n  - Updates error message to show actual limit from config\n  - Impact: Work item validation uses config + correct character counting\n\n- **PONE-115: Update validate_sprint_create to use config.max_sprint_name_length**\n  - File: backend/crates/pm-ws/src/message_validator.rs\n  - Updates signature to accept &amp;ValidationConfig\n  - Changes name validation from hardcoded 100 to config.max_sprint_name_length\n  - Date validation stays hardcoded (structural sanity checks, not content limits)\n  - Impact: Sprint name validation uses config\n\n- **PONE-116: Update validate_project_create to use config title/description limits**\n  - File: backend/crates/pm-ws/src/message_validator.rs\n  - Updates signature to accept &amp;ValidationConfig\n  - Changes title validation from hardcoded 200 to config.max_title_length\n  - Changes description validation from hardcoded 10000 to config.max_description_length\n  - CRITICAL FIX: Inline desc check uses .chars().count() instead of .len()\n  - Key validation stays hardcoded (2-20 chars, alphanumeric - format constraint)\n  - Impact: Project validation uses config + correct character counting\n\n- **PONE-117: Update MessageValidator unit tests to pass ValidationConfig**\n  - File: backend/crates/pm-ws/src/tests/message_validator.rs\n  - Updates ALL existing tests to pass &amp;ValidationConfig::default()\n  - Adds custom config limit tests (verify config values are respected)\n  - CRITICAL: Adds Unicode tests for emoji (4-byte UTF-8 characters)\n  - CRITICAL: Adds Unicode tests for CJK (3-byte UTF-8 characters)\n  - PROOF: 200 emoji = 200 chars but 800 bytes - test proves .chars().count() works\n  - Impact: Test coverage proves character counting fix works for international text\n\n**STORY 4: PONE-104 - Update All Handler Call Sites (7 tasks)**\n\nThe grunt work - updating every caller to pass config.\n\n- **PONE-118: Update WebSocket comment handler to pass validation config**\n  - File: backend/crates/pm-ws/src/handlers/comment.rs\n  - Updates 2 call sites (create, update)\n  - Adds &amp;ctx.validation parameter\n  - Impact: Comment handlers use config-based validation\n\n- **PONE-119: Update WebSocket work_item handler to pass validation config**\n  - File: backend/crates/pm-ws/src/handlers/work_item.rs\n  - Updates create handler validate call\n  - Updates apply_updates function signature to accept &amp;ValidationConfig\n  - Updates title validation in apply_updates\n  - CRITICAL FIX: Inline desc check in apply_updates uses .chars().count() not .len()\n  - Impact: Work item handlers use config + correct character counting\n\n- **PONE-120: Update WebSocket sprint handler to pass validation config**\n  - File: backend/crates/pm-ws/src/handlers/sprint.rs\n  - Updates create handler validate call\n  - Updates update handler validate_string call\n  - Impact: Sprint handlers use config-based validation\n\n- **PONE-121: Update WebSocket project handler to pass validation config**\n  - File: backend/crates/pm-ws/src/handlers/project.rs\n  - Updates create handler validate call\n  - Updates update handler title validation\n  - CRITICAL FIX: Inline desc check uses .chars().count() not .len()\n  - Impact: Project handlers use config + correct character counting\n\n- **PONE-122: Update REST API comment handlers to pass validation config**\n  - File: backend/pm-server/src/api/comments/comments.rs\n  - Updates 2 call sites (create, update)\n  - Uses &amp;state.validation instead of &amp;ctx.validation (REST uses AppState)\n  - Impact: REST comment handlers use config-based validation\n\n- **PONE-123: Update REST API work_items handlers (create AND update) to pass validation config**\n  - File: backend/pm-server/src/api/work_items/work_items.rs\n  - Updates create handler validate call\n  - Updates update handler title validation\n  - CRITICAL BUG FIX: ADDS missing description validation to update handler\n  - WHY: Update handler validated title but skipped description - validation bypass!\n  - Impact: REST work items handlers use config + fixes missing validation\n\n- **PONE-125: Update all test fixtures: add ValidationConfig to HandlerContext and AppState constructors**\n  - Files: Multiple test files across backend/crates/pm-ws/tests/ and backend/pm-server/tests/\n  - Updates 10 HandlerContext::new call sites\n  - Updates 4 AppState construction sites\n  - All pass ValidationConfig::default()\n  - Impact: All tests compile and pass\n\n**TOTAL: 1 epic + 4 stories + 20 tasks = 25 work items**\n\n---\n\n### üêõ THE FOUR PRODUCTION BUGS THIS FIXES\n\n**Bug #1: Orphaned Config Fields - The Original Sin**\n\nCurrent state: ValidationConfig defines max_title_length and max_description_length with defaults, bounds checks, env var overrides, logging... but MessageValidator COMPLETELY IGNORES THEM and uses hardcoded 200/10000.\n\nThis is like having a thermostat on the wall that&#x27;s not connected to the heating system. Users can change the config all they want - nothing happens.\n\n**Bug #2: Lying Error Messages - USER-FACING PRODUCTION BUG**\n\nCurrent code: `if value.len() &amp;gt; max_length { return Err(&quot;must not exceed X characters&quot;); }`\n\nThe error says &quot;characters&quot; but checks BYTES (.len() counts UTF-8 bytes, not Unicode scalar values).\n\nReal-world scenario:\n- User creates work item with 200 emoji in title\n- 200 emoji = 200 characters = 800 bytes (emoji are 4-byte UTF-8)\n- Error: &quot;Title must not exceed 200 characters&quot;\n- User counts characters: EXACTLY 200\n- User: &quot;This is broken! I have exactly 200!&quot;\n\nThis affects EVERY international user typing emoji, CJK characters, Arabic, Hebrew, etc. This is a REAL bug affecting REAL users RIGHT NOW.\n\nThe fix (.chars().count()) is critical.\n\n**Bug #3: Missing Validation in REST Update Handler**\n\nREST work_items UPDATE endpoint validates title length but completely skips description length validation. It only sanitizes.\n\nThis is inconsistent with:\n- REST create handler (validates description)\n- WS create handler (validates description)\n- WS update handler (validates description)\n\nThis creates a validation bypass where users can update items with huge descriptions that would be rejected everywhere else.\n\n**Bug #4: Missing Copy Derive - Fragile Code**\n\nValidationConfig contains only primitive types (usize, i32) but doesn&#x27;t derive Copy, forcing unnecessary .clone() calls.\n\nWorse: if someone later adds a non-Copy field (String, Vec, etc.) without noticing the struct should be Clone-only, they&#x27;ll get confusing compile errors at call sites.\n\nAdding Copy makes this explicit and prevents future breakage.\n\n---\n\n### ‚≠ê WHAT MAKES THIS PLAN EXCELLENT\n\n**1. Every Task Has Production-Ready Code**\n\nNot vague &quot;implement X&quot; - actual before/after code examples with:\n- Exact file paths\n- Specific line numbers (though unverified)\n- Import statements\n- Pattern explanations\n- Rationale for changes\n\n**2. Dependency Ordering Is Crystal Clear**\n\nEvery task lists its blockers:\n- Story 1 must complete before Story 2 (config fields must exist before threading)\n- Story 2 must complete before Stories 3-4 (config must be accessible before use)\n- PONE-113 must complete before all handler updates (validator signature changes)\n- PONE-125 runs LAST (fixes test compilation broken by signature changes)\n\nNo circular dependencies, no ambiguity.\n\n**3. Test Coverage Is Comprehensive**\n\n- Bounds tests (MIN-1, MAX+1, valid mid-range)\n- Invalid input tests (non-numeric, negative, empty env vars)\n- Unicode character counting tests (emoji, CJK)\n- Test fixture updates (all 14 construction sites)\n\nThe Unicode tests are especially good - they PROVE the .chars().count() fix works by showing that old code would fail these tests.\n\n**4. Backward Compatibility Preserved**\n\nThe #[serde(default)] attribute on ValidationConfig means existing config.toml files without the new fields automatically get defaults.\n\nZero breaking changes. Zero migration needed. Existing deployments upgrade seamlessly.\n\n**5. Copy Optimization Shows Rust Expertise**\n\nThe plan correctly identifies that ValidationConfig should derive Copy (all fields are primitives), then uses direct assignment instead of .clone() throughout.\n\nThis shows understanding of Rust idioms and zero-cost abstractions.\n\n---\n\n### üéØ FINAL SCORE: 90/100 (EXCELLENT TIER)\n\n**What&#x27;s Right (+45 points):**\n- Hierarchical structure (epic‚Üístories‚Üítasks): +10\n- Production-ready code included: +10\n- Identifies and fixes 4 real bugs: +10\n- Comprehensive test coverage: +5\n- Clear dependency tracking: +5\n- Backward compatible: +5\n\n**What Could Be Better (-10 points):**\n- No performance impact analysis (.chars().count() overhead): -3\n- No validation failure monitoring/metrics: -2\n- Test fixture line numbers unverified: -3\n- No operational steps (update config.toml after implementation): -2\n\n**Final: 90/100** - Excellent planning with minor gaps found during implementation.\n\n---\n\n### üî™ CHEF RAMSAY&#x27;S FINAL VERDICT\n\nThis plan is SOLID. You&#x27;ve identified real bugs, proposed correct fixes, written comprehensive tests, and thought through dependencies. The code is production-ready.\n\nTwo gaps emerged during implementation:\n1. The tests exposed that apply_env_parse silently ignores invalid input (gap in existing code, not the plan)\n2. The plan doesn&#x27;t include &quot;update your config.toml to test the new limits&quot; (operational gap)\n\nBut the core plan? BEAUTIFUL. The .chars().count() fix alone makes this epic worth doing - that&#x27;s a real user-facing bug affecting international users.\n\n**APPROVED FOR IMPLEMENTATION.** Now get in there and finish it! üë®‚Äçüç≥‚úÖ\n\n---\n\nüî™ **Chef Gordon Ramsay** | Reviewed 25 work items | Found 4 bugs fixed | 6,247 characters of PROPER feedback!\n\n*&quot;This comment proves the epic works - you couldn&#x27;t post this before! WELL DONE!&quot;*",
      "created_at": 1770931328,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "id": "513fb48f-b0e7-4158-8aea-c8c173c093aa",
      "updated_at": 1770931328,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "work_item_id": "bca827a0-798d-4d46-b3a6-8fbee3e562bb"
    }
  ],
  "dependencies": [
    {
      "blocked_item_id": "05cbe958-fb21-4eab-a167-269633c787fb",
      "blocking_item_id": "247c1cf6-c5dc-4795-93bd-0520c9bd73b8",
      "created_at": 1770664980,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "dependency_type": "blocks",
      "id": "b4feb6f1-8b35-4bf9-9039-fe03fdb18050"
    },
    {
      "blocked_item_id": "0d0638fc-e098-429b-bc2c-c616f80b856c",
      "blocking_item_id": "939d422a-bdb7-40dd-bc0b-b1ccdcba4ac3",
      "created_at": 1770664980,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "dependency_type": "blocks",
      "id": "1c322337-d0b8-4aab-8864-eba3e4dea7b0"
    },
    {
      "blocked_item_id": "247c1cf6-c5dc-4795-93bd-0520c9bd73b8",
      "blocking_item_id": "939d422a-bdb7-40dd-bc0b-b1ccdcba4ac3",
      "created_at": 1770664980,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "dependency_type": "blocks",
      "id": "2cf9a61a-8c12-4d1a-b298-dcac90c7073b"
    },
    {
      "blocked_item_id": "2b2dacda-73f2-4909-89f4-d85d883781d5",
      "blocking_item_id": "939d422a-bdb7-40dd-bc0b-b1ccdcba4ac3",
      "created_at": 1770664980,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "dependency_type": "blocks",
      "id": "01126851-d23b-4035-af43-12b0d79b963e"
    },
    {
      "blocked_item_id": "2fc28251-f9cf-48dd-81b1-4aa3047779b8",
      "blocking_item_id": "4400f923-a8e2-4a16-b948-69f5c6c10c8a",
      "created_at": 1770657144,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "dependency_type": "blocks",
      "id": "3f278cc4-2e95-4f95-815f-fd1ec108fec8"
    },
    {
      "blocked_item_id": "2fc28251-f9cf-48dd-81b1-4aa3047779b8",
      "blocking_item_id": "770ddaed-a213-44e8-9104-288035fe9bbd",
      "created_at": 1770657145,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "dependency_type": "blocks",
      "id": "9bc5e1c6-7f6f-410f-be4d-2adf25e5a4df"
    },
    {
      "blocked_item_id": "3bdc1d87-6f87-4d22-ac8a-4c699420fe3d",
      "blocking_item_id": "3ad6e3f6-c0bb-43b3-a09a-9029826c094f",
      "created_at": 1770657138,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "dependency_type": "blocks",
      "id": "017e9419-d490-4640-9db0-ff3749e48fe4"
    },
    {
      "blocked_item_id": "3ca42742-a911-4a59-b7df-b975cd91164a",
      "blocking_item_id": "cb00bec1-2e0c-4c28-8b39-78cdaf8885c8",
      "created_at": 1770657114,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "dependency_type": "blocks",
      "id": "dac7d7ae-d21b-4406-b214-a0b2d65b05c1"
    },
    {
      "blocked_item_id": "40a91996-f81c-4413-b501-432bd350f620",
      "blocking_item_id": "d88606a5-bdca-4196-94d0-df1bd76fb590",
      "created_at": 1770664988,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "dependency_type": "blocks",
      "id": "cdebfaec-1112-4be8-be31-da39309ec855"
    },
    {
      "blocked_item_id": "4400f923-a8e2-4a16-b948-69f5c6c10c8a",
      "blocking_item_id": "3ca42742-a911-4a59-b7df-b975cd91164a",
      "created_at": 1770657141,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "dependency_type": "blocks",
      "id": "7705dff0-58e2-41a4-8bae-dba9520458e1"
    },
    {
      "blocked_item_id": "55e5aff7-7089-4dac-97e0-c5125199ef25",
      "blocking_item_id": "3ad6e3f6-c0bb-43b3-a09a-9029826c094f",
      "created_at": 1770657138,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "dependency_type": "blocks",
      "id": "62e3b470-7dc4-4f27-b18e-41e77d435861"
    },
    {
      "blocked_item_id": "6dc1836f-3162-4047-a54c-3205a8e0c805",
      "blocking_item_id": "c81fc7d7-6aab-4fc8-bfa5-ed1a5e8fba5a",
      "created_at": 1770664973,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "dependency_type": "blocks",
      "id": "14bbf128-f5ef-44d5-b859-e47aaa3194a5"
    },
    {
      "blocked_item_id": "73e4ae98-43aa-4ebf-aca0-1ed435b9a2b8",
      "blocking_item_id": "cc67ae6d-6f7d-47da-9b05-1de8433933c7",
      "created_at": 1770664973,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "dependency_type": "blocks",
      "id": "de3d846e-ccc0-4cd5-abae-f53eb60a10df"
    },
    {
      "blocked_item_id": "770ddaed-a213-44e8-9104-288035fe9bbd",
      "blocking_item_id": "3ad6e3f6-c0bb-43b3-a09a-9029826c094f",
      "created_at": 1770657138,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "dependency_type": "blocks",
      "id": "b3dfed2e-6e8b-426a-bdd5-628c76c4d526"
    },
    {
      "blocked_item_id": "792ff8f7-7909-4013-969b-695a51f4993d",
      "blocking_item_id": "247c1cf6-c5dc-4795-93bd-0520c9bd73b8",
      "created_at": 1770664988,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "dependency_type": "blocks",
      "id": "c790decc-6ab8-496c-96a8-82f7af1e89d4"
    },
    {
      "blocked_item_id": "7c31ed33-aced-48d7-8b6e-43c9e499d888",
      "blocking_item_id": "247c1cf6-c5dc-4795-93bd-0520c9bd73b8",
      "created_at": 1770664988,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "dependency_type": "blocks",
      "id": "476990c3-9619-4e69-bc53-be5f5030587a"
    },
    {
      "blocked_item_id": "939d422a-bdb7-40dd-bc0b-b1ccdcba4ac3",
      "blocking_item_id": "d88606a5-bdca-4196-94d0-df1bd76fb590",
      "created_at": 1770664976,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "dependency_type": "blocks",
      "id": "ce3ceb42-54cf-4b04-b93c-944902c25c8a"
    },
    {
      "blocked_item_id": "a1a87f55-5329-4051-b258-d7b055b651b3",
      "blocking_item_id": "46797433-f3ef-411d-841f-81da6cc1bd51",
      "created_at": 1770916059,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "dependency_type": "blocks",
      "id": "0754a21d-907b-4590-93c7-bf562d200f8e"
    },
    {
      "blocked_item_id": "a836f879-9bd3-46de-8ac9-0ccdbbad06be",
      "blocking_item_id": "46797433-f3ef-411d-841f-81da6cc1bd51",
      "created_at": 1770916059,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "dependency_type": "blocks",
      "id": "b4ce2b38-ee6d-44b2-a91b-cf1687e0c149"
    },
    {
      "blocked_item_id": "bc464316-575c-420d-aa59-59e1658b55ab",
      "blocking_item_id": "247c1cf6-c5dc-4795-93bd-0520c9bd73b8",
      "created_at": 1770664988,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "dependency_type": "blocks",
      "id": "ecec6744-dffa-4785-a1f5-9e8604b05c95"
    },
    {
      "blocked_item_id": "cc67ae6d-6f7d-47da-9b05-1de8433933c7",
      "blocking_item_id": "c81fc7d7-6aab-4fc8-bfa5-ed1a5e8fba5a",
      "created_at": 1770664973,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "dependency_type": "blocks",
      "id": "e9c11e8d-b19b-4efa-a122-819e33c89643"
    },
    {
      "blocked_item_id": "d1fec8d5-477f-4c04-a542-f8abce4fd32f",
      "blocking_item_id": "6260b730-cb0c-49fb-9544-803ecd00e561",
      "created_at": 1770664976,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "dependency_type": "blocks",
      "id": "9fdda7ba-50d8-4254-910b-8bc8b40cf82c"
    },
    {
      "blocked_item_id": "d88606a5-bdca-4196-94d0-df1bd76fb590",
      "blocking_item_id": "6260b730-cb0c-49fb-9544-803ecd00e561",
      "created_at": 1770664976,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "dependency_type": "blocks",
      "id": "a608d5a5-874e-42bc-bb56-06beff6f2f53"
    },
    {
      "blocked_item_id": "e83139bf-166b-41e6-ac23-323b8d1500a2",
      "blocking_item_id": "a836f879-9bd3-46de-8ac9-0ccdbbad06be",
      "created_at": 1770916059,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "dependency_type": "blocks",
      "id": "63dda6b2-8064-434a-9cea-25c275f36f66"
    },
    {
      "blocked_item_id": "e83139bf-166b-41e6-ac23-323b8d1500a2",
      "blocking_item_id": "a1a87f55-5329-4051-b258-d7b055b651b3",
      "created_at": 1770916059,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "dependency_type": "blocks",
      "id": "82a95ff2-4bad-4048-834f-58c29a1c4176"
    }
  ],
  "exported_at": "2026-02-18T03:41:06.323774900+00:00",
  "exported_by": "pm-server",
  "projects": [
    {
      "created_at": 1770651588,
      "created_by": "83573002-5eaf-4ae1-af46-792a1a3bf9f5",
      "description": "",
      "id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "key": "PONE",
      "next_work_item_number": 99,
      "status": "active",
      "title": "P1",
      "updated_at": 1770651588,
      "updated_by": "83573002-5eaf-4ae1-af46-792a1a3bf9f5",
      "version": 1
    }
  ],
  "schema_version": 1,
  "sprints": [],
  "swim_lanes": [],
  "time_entries": [],
  "work_items": [
    {
      "assignee_id": null,
      "created_at": 1770653763,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Improve the display of activity log UI elements",
      "display_key": "PONE-1",
      "id": "8153adb6-3ac7-45c0-b88a-cdf6d5e3977d",
      "item_number": 1,
      "item_type": "epic",
      "parent_id": null,
      "position": 1,
      "priority": "medium",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "backlog",
      "story_points": null,
      "title": "Activity Log UI Improvements",
      "updated_at": 1770653763,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 1
    },
    {
      "assignee_id": null,
      "created_at": 1770653973,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Show user names and avatars instead of just user IDs in activity log entries. Fetch user data from backend and display profile pictures and full names for better readability.",
      "display_key": "PONE-2",
      "id": "cd51931e-ddef-4a05-97b6-916779818b98",
      "item_number": 2,
      "item_type": "story",
      "parent_id": "8153adb6-3ac7-45c0-b88a-cdf6d5e3977d",
      "position": 1,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "backlog",
      "story_points": null,
      "title": "Display user information in activity feed",
      "updated_at": 1770653973,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 1
    },
    {
      "assignee_id": null,
      "created_at": 1770654004,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Build reusable Blazor component to display user avatar with fallback to initials when no profile picture exists",
      "display_key": "PONE-9",
      "id": "eb9a09f3-ab56-4c31-92ba-5091d8da03f4",
      "item_number": 9,
      "item_type": "task",
      "parent_id": "cd51931e-ddef-4a05-97b6-916779818b98",
      "position": 1,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "backlog",
      "story_points": null,
      "title": "Create UserAvatar component",
      "updated_at": 1770654004,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 1
    },
    {
      "assignee_id": null,
      "created_at": 1770654013,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Add dropdown/checkboxes for filtering by action type (created/updated/deleted) in ActivityFeed.razor",
      "display_key": "PONE-13",
      "id": "60cdb772-5239-4129-9d0c-7bf21228d0bc",
      "item_number": 13,
      "item_type": "task",
      "parent_id": "160818dc-be06-4ff1-a980-1bc3db770161",
      "position": 1,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "backlog",
      "story_points": null,
      "title": "Add filter controls to ActivityFeed UI",
      "updated_at": 1770654013,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 1
    },
    {
      "assignee_id": null,
      "created_at": 1770654018,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Build service to format field values based on type (dates, enums, JSON, booleans, etc.)",
      "display_key": "PONE-17",
      "id": "af61512a-e789-42d4-98ee-74cb1928b04d",
      "item_number": 17,
      "item_type": "task",
      "parent_id": "b2cc0b5f-2bd5-4a39-a275-361cfb49029f",
      "position": 1,
      "priority": "medium",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "backlog",
      "story_points": null,
      "title": "Create field value formatter service",
      "updated_at": 1770654018,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 1
    },
    {
      "assignee_id": null,
      "created_at": 1770654022,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Add search text input with debouncing to ActivityFeed UI",
      "display_key": "PONE-19",
      "id": "908f95d4-b04b-4b67-89a5-89c51f9d5928",
      "item_number": 19,
      "item_type": "task",
      "parent_id": "7886389c-e4e6-4a0d-b5fe-207091f84980",
      "position": 1,
      "priority": "medium",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "backlog",
      "story_points": null,
      "title": "Add search input to ActivityFeed",
      "updated_at": 1770654022,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 1
    },
    {
      "assignee_id": null,
      "created_at": 1770654027,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Add export dropdown button with JSON and CSV options in ActivityFeed toolbar",
      "display_key": "PONE-21",
      "id": "f903cecb-7195-4f95-a29c-5929f415b3e7",
      "item_number": 21,
      "item_type": "task",
      "parent_id": "a1887679-8040-4b45-8715-9834972ed50a",
      "position": 1,
      "priority": "low",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "backlog",
      "story_points": null,
      "title": "Add export button to ActivityFeed",
      "updated_at": 1770654027,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 1
    },
    {
      "assignee_id": null,
      "created_at": 1770654031,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Implement periodic timer (every 60s) to trigger re-render of relative timestamps",
      "display_key": "PONE-23",
      "id": "7b1740dc-d238-43ad-bd70-b4eb2c71a498",
      "item_number": 23,
      "item_type": "task",
      "parent_id": "df6baf30-bcdf-49f4-9e31-248b676dbf92",
      "position": 1,
      "priority": "low",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "backlog",
      "story_points": null,
      "title": "Add timer to ActivityFeed for timestamp refresh",
      "updated_at": 1770654031,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 1
    },
    {
      "assignee_id": null,
      "created_at": 1770654032,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Create ActivityFeed.razor.css and ActivityItem.razor.css with component-scoped styles",
      "display_key": "PONE-24",
      "id": "a6a4768b-9c65-4d58-be61-6c298788bf21",
      "item_number": 24,
      "item_type": "task",
      "parent_id": "f904052a-8898-4c6e-b7f3-5b4bddf23a88",
      "position": 1,
      "priority": "low",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "backlog",
      "story_points": null,
      "title": "Create scoped CSS files for activity components",
      "updated_at": 1770654032,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 1
    },
    {
      "assignee_id": null,
      "created_at": 1770654605,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Port file discovery infrastructure in pm-config. Created port_file module (refactored into mod.rs + port_file_info.rs) with PortFileInfo struct (5 fields: pid, port, host, started_at, version). Cross-platform PID liveness (Unix/Windows/fallback). Stale file auto-cleanup. Race condition protection. Changed DEFAULT_PORT from 8000 to 0. Added port 0 validation exception. Added serde_json, chrono, libc deps. 14 comprehensive tests covering write/read/liveness/race conditions/edge cases. Target: ~25-35k tokens (actual: ~30k)",
      "display_key": "PONE-27",
      "id": "52d13747-5d19-4772-b74e-f290238b1ee1",
      "item_number": 27,
      "item_type": "story",
      "parent_id": "bfa88a19-2e04-4133-bfa8-3343c9524207",
      "position": 1,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "120.1: Port File Module &amp; Config Changes (pm-config)",
      "updated_at": 1770654763,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 2
    },
    {
      "assignee_id": null,
      "created_at": 1770654612,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Create pm-config/src/port_file/ module directory with mod.rs (cross-platform PID liveness checking using libc::kill on Unix, OpenProcess+GetExitCodeProcess on Windows, fallback for exotic platforms) and port_file_info.rs (PortFileInfo struct with write/read/read_live/remove/path methods, race condition protection, stale file auto-cleanup). Step 2 of 120.1. Note: Refactored from single file to directory structure for better organization",
      "display_key": "PONE-29",
      "id": "400fe29c-0462-4524-b913-c0ab6b77a352",
      "item_number": 29,
      "item_type": "task",
      "parent_id": "52d13747-5d19-4772-b74e-f290238b1ee1",
      "position": 1,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Create port_file module structure",
      "updated_at": 1770654801,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 2
    },
    {
      "assignee_id": null,
      "created_at": 1770654620,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "In pm-server/src/main.rs: (1) After TcpListener::bind, get actual_addr from listener.local_addr() and log it (important for port 0), (2) Call PortFileInfo::write(actual_addr.port(), &amp;config.server.host) with warn! on error (non-fatal), (3) After axum::serve().await?, call PortFileInfo::remove() to cleanup port file on graceful shutdown. Step 1 of 120.2",
      "display_key": "PONE-33",
      "id": "dfcbb69f-addf-476f-b28a-1b31ae881936",
      "item_number": 33,
      "item_type": "task",
      "parent_id": "ea1ace0b-1cfd-45f2-b5a8-c2a68a265915",
      "position": 1,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Integrate port file writing in pm-server",
      "updated_at": 1770654816,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 2
    },
    {
      "assignee_id": null,
      "created_at": 1770655296,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "## ‚ö†Ô∏è ACTUAL IMPLEMENTATION (2026-02-09)\n\n**PONE-40 COMPLETE - All 4 tasks in review**\n\n### What We Built\n\n**Files Created (4 total):**\n1. `Shared/MarkdownRenderer.razor` - Core markdown rendering component (18 lines)\n2. `Shared/MarkdownRenderer.razor.css` - Markdown styling with Radzen theme vars (78 lines)\n3. `Shared/MarkdownEditor.razor` - Write/Preview tabs component (23 lines)\n4. `Shared/MarkdownEditor.razor.css` - Editor styling (17 lines)\n\n**Packages Installed (2 total):**\n- `Markdig 0.44.0` - Markdown parser with GitHub-flavored markdown support\n- `Markdown.ColorCode 3.0.1` - Syntax highlighting (pure .NET WASM, zero JavaScript)\n\n**Files Modified:**\n- `frontend/Directory.Packages.props` - Added package versions (Central Package Management)\n- `frontend/ProjectManagement.Components/ProjectManagement.Components.csproj` - Added package references\n\n### Key Changes from Original Plan\n\n**‚ùå REMOVED: HtmlSanitizer**\n- Reason: Dependency conflicts with bUnit testing framework\n- HtmlSanitizer 9.0.892 requires AngleSharp 0.17.x\n- bUnit 2.5.3 requires AngleSharp 1.0.x\n- All HtmlSanitizer versions have security vulnerabilities or conflicts\n\n**‚úÖ SOLUTION: Markdig&#x27;s `.DisableHtml()`**\n```csharp\nprivate static readonly MarkdownPipeline Pipeline = new MarkdownPipelineBuilder()\n    .UseAdvancedExtensions()\n    .DisableHtml()  // ‚Üê Escapes all HTML tags\n    .Build();\n```\n\n**Benefits:**\n- More secure (escapes ALL HTML, no XSS risk)\n- Simpler (no whitelist configuration needed)\n- Zero dependency conflicts\n- Reduced code size (18 lines vs 70+ with HtmlSanitizer)\n\n### Task Status\n\n- ‚úÖ **PONE-44** - review (Packages installed, documented)\n- ‚úÖ **PONE-45** - review (MarkdownRenderer + MarkdownEditor created)\n- ‚úÖ **PONE-46** - review (Obsolete - HtmlSanitizer config not needed)\n- ‚úÖ **PONE-47** - review (CSS styling complete)\n\n### Verification\n\n‚úÖ `just restore-frontend` - Success\n‚úÖ `just build-cs-components` - 0 errors, 0 warnings\n\n### What&#x27;s Available Now\n\n**Reusable Components:**\n- `&amp;lt;MarkdownRenderer Content=&quot;@markdownString&quot; /&amp;gt;` - Display rendered markdown\n- `&amp;lt;MarkdownEditor @bind-Value=&quot;@markdownString&quot; /&amp;gt;` - Edit with live preview\n\n**Ready for:**\n- PONE-41 (Work item description editor)\n- PONE-42 (Comment editor/viewer)\n- PONE-43 (Polish and syntax highlighting)\n\n---\n\n## ORIGINAL PLAN (superseded)\n\n## PONE-40: Foundation ‚Äî Markdown libraries and renderer component\n\n**Updated during audit (2026-02-09):** Added ColorCode.Wasm for syntax highlighting (replaces Highlight.js CDN to maintain zero-JS constraint).\n\n### Summary\nInstall NuGet packages and build the core MarkdownRenderer component that all other stories depend on.\n\n### Tasks\n- **PONE-44**: Add Markdig + HtmlSanitizer + **ColorCode.Wasm** to Components.csproj\n- **PONE-45**: Create `Shared/MarkdownRenderer.razor` (Markdig pipeline + HtmlSanitizer whitelist + @((MarkupString)...) rendering)\n- **PONE-46**: HtmlSanitizer whitelist config (merged into PONE-45 ‚Äî lives inside MarkdownRenderer.CreateSanitizer())\n- **PONE-47**: Create `Shared/MarkdownRenderer.razor.css` (headings, code blocks, tables, lists, blockquotes, links ‚Äî all using --rz-* CSS vars)\n\n### NuGet Packages to Add\n\n```xml\n&amp;lt;!-- Add to ProjectManagement.Components.csproj --&amp;gt;\n&amp;lt;PackageReference Include=&quot;Markdig&quot; /&amp;gt;\n&amp;lt;PackageReference Include=&quot;HtmlSanitizer&quot; /&amp;gt;\n&amp;lt;PackageReference Include=&quot;ColorCode.Wasm&quot; /&amp;gt;\n```\n\n**Note:** Use workspace-level versioning if this project uses centralized dependency management in root `Cargo.toml` or solution-level NuGet.\n\n### New files created\n- `frontend/ProjectManagement.Components/Shared/MarkdownRenderer.razor`\n- `frontend/ProjectManagement.Components/Shared/MarkdownRenderer.razor.css`\n\n### Files modified\n- `frontend/ProjectManagement.Components/ProjectManagement.Components.csproj` (add Markdig + HtmlSanitizer + ColorCode.Wasm PackageReferences)\n\n### Dependencies\nNone ‚Äî this is the foundation story. Must be completed before PONE-41, PONE-42, or PONE-43 can start.\n\n### Verification\n`just restore-frontend &amp;&amp; just build-cs-components`",
      "display_key": "PONE-40",
      "id": "c81fc7d7-6aab-4fc8-bfa5-ed1a5e8fba5a",
      "item_number": 40,
      "item_type": "story",
      "parent_id": "27a7518a-3840-4aa6-9458-55df2e92ff47",
      "position": 1,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Foundation: Markdown libraries and renderer component",
      "updated_at": 1771360450,
      "updated_by": "83573002-5eaf-4ae1-af46-792a1a3bf9f5",
      "version": 10
    },
    {
      "assignee_id": null,
      "created_at": 1770655311,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "## ‚ö†Ô∏è ACTUAL IMPLEMENTATION (2026-02-09)\n\n**What we actually did:**\n- ‚úÖ Added Markdig 0.44.0 (markdown parser)\n- ‚úÖ Added Markdown.ColorCode 3.0.1 (syntax highlighting, pure WASM)\n- ‚ùå REMOVED HtmlSanitizer (dependency conflicts + security vulnerabilities)\n\n**Why HtmlSanitizer was removed:**\n1. HtmlSanitizer 9.0.892 (stable) requires AngleSharp 0.17.x\n2. bUnit 2.5.3 (testing framework) requires AngleSharp 1.0.x\n3. Conflicting dependency requirements = unresolvable\n4. HtmlSanitizer 9.1.882-beta supports AngleSharp 1.0+ BUT has known security vulnerability (GHSA-j92c-7v7g-gj3f)\n5. HtmlSanitizer 8.0.843 (older) has same security vulnerability\n\n**Better solution:**\nUsing Markdig&#x27;s built-in `.DisableHtml()` method instead:\n- Escapes all HTML tags as plain text\n- More secure for markdown-only content\n- Zero dependency conflicts\n- Simpler implementation\n\n**Packages installed (Central Package Management):**\n- Directory.Packages.props: Added Markdig 0.44.0 and Markdown.ColorCode 3.0.1\n- ProjectManagement.Components.csproj: Added package references (no versions, CPM controls versions)\n\n**Verification:** ‚úÖ `just restore-frontend` and `just build-cs-components` both succeed with 0 errors, 0 warnings\n\n---\n\n## ORIGINAL PLAN (superseded)\n\n## PONE-44: Add Markdig and HtmlSanitizer NuGet packages\n\n### File to modify\n`frontend/ProjectManagement.Components/ProjectManagement.Components.csproj`\n\n### Current state (lines 16-19)\n```xml\n&amp;lt;ItemGroup&amp;gt;\n    &amp;lt;PackageReference Include=&quot;Microsoft.AspNetCore.Components.Web&quot;/&amp;gt;\n    &amp;lt;PackageReference Include=&quot;Radzen.Blazor&quot;/&amp;gt;\n&amp;lt;/ItemGroup&amp;gt;\n```\n\n### Target state\n```xml\n&amp;lt;ItemGroup&amp;gt;\n    &amp;lt;PackageReference Include=&quot;Markdig&quot; Version=&quot;0.39.1&quot; /&amp;gt;\n    &amp;lt;PackageReference Include=&quot;HtmlSanitizer&quot; Version=&quot;8.1.870&quot; /&amp;gt;\n    &amp;lt;PackageReference Include=&quot;Microsoft.AspNetCore.Components.Web&quot;/&amp;gt;\n    &amp;lt;PackageReference Include=&quot;Radzen.Blazor&quot;/&amp;gt;\n&amp;lt;/ItemGroup&amp;gt;\n```\n\n### Why these packages\n- **Markdig**: Most complete .NET markdown parser. Converts markdown string ‚Üí HTML string. Extensible pipeline.\n- **HtmlSanitizer**: Whitelist-based HTML sanitizer. Strips dangerous tags (script, iframe, etc.) while preserving safe markdown output.\n\n### Verification\nRun: `just restore-frontend &amp;&amp; just build-cs-components`",
      "display_key": "PONE-44",
      "id": "6260b730-cb0c-49fb-9544-803ecd00e561",
      "item_number": 44,
      "item_type": "task",
      "parent_id": "c81fc7d7-6aab-4fc8-bfa5-ed1a5e8fba5a",
      "position": 1,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Add Markdig and HtmlSanitizer NuGet packages",
      "updated_at": 1770676098,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 6
    },
    {
      "assignee_id": null,
      "created_at": 1770656657,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Add logic to walk up the work item parent hierarchy using ParentId. Create BuildParentChain() method that starts with current work item, walks up through parents using AppState.WorkItems.GetById(ParentId), stops at project boundary. Returns ordered list of ancestors (Epic ‚Üí Story ‚Üí Task). All lookups are from in-memory cache, zero DB/WebSocket calls. Uses simple depth limit for defensive programming - backend already prevents circular references.\n\nTASK SUMMARY:\n1. **PONE-60**: Add _parentChain field to store the list of parent ViewModels (with backend context notes)\n2. **PONE-61**: Implement BuildParentChain() method with depth limit and proper logging (ILogger, not Console.WriteLine)\n3. **PONE-62**: Call BuildParentChain() in LoadWorkItemAsync after loading the work item\n\nIMPLEMENTATION APPROACH:\n- Add private List&amp;lt;WorkItemViewModel&amp;gt; _parentChain field with comment about root-to-current order\n- Add ILogger&amp;lt;WorkItemDetail&amp;gt; injection for proper logging\n- BuildParentChain walks up using current.ParentId in a while loop with MAX_DEPTH = 20 limit\n- For each parent, lookup in AppState.WorkItems.GetById()\n- Handle null returns gracefully (log warning via Logger, stop traversal)\n- Defensive depth limit prevents runaway loops if data is corrupted (backend validates, but frontend should be defensive)\n- Reverse list to get top-down order (Epic ‚Üí Story ‚Üí Task)\n- Call from LoadWorkItemAsync before StateHasChanged()\n\nBACKEND PROTECTION (NO FRONTEND CYCLE DETECTION NEEDED):\n- Backend validates parent changes: `backend/crates/pm-ws/src/handlers/work_item.rs:586-634`\n- `check_circular_reference` function walks parent chain and rejects cycles\n- MAX_DEPTH = 100 on backend prevents excessively deep hierarchies\n- AppState data is validated by backend, circular references impossible in normal operation\n- Frontend depth limit (20) is defensive programming only\n\nOUTPUT: _parentChain populated with ordered parent hierarchy, safe and efficient",
      "display_key": "PONE-57",
      "id": "641e3412-3333-4f7d-b604-7736401a2651",
      "item_number": 57,
      "item_type": "story",
      "parent_id": "5773eef4-fabb-436a-879b-49c14e94a3ae",
      "position": 1,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Implement parent chain traversal logic",
      "updated_at": 1770663298,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 5
    },
    {
      "assignee_id": null,
      "created_at": 1770656673,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "In WorkItemDetail.razor, add private field: List&amp;lt;WorkItemViewModel&amp;gt; _parentChain = new(). This will hold the ordered list of ancestors from top (Epic) to bottom (current item&#x27;s parent). Initialize as empty list. Backend validates circular references on create/update, so frontend doesn&#x27;t need cycle detection - just defensive depth limit.\n\nCODE SNIPPET:\n```csharp\n// Add after line 216 (after _children declaration)\nprivate List&amp;lt;WorkItemViewModel&amp;gt; _parentChain = new();\n// Stores parent hierarchy in root-to-current order: [Epic, Story] for a Task\n// Backend prevents circular references, frontend just needs depth limit for safety\n```\n\nBACKEND PROTECTION:\n- Backend validates parent changes in `work_item.rs:check_circular_reference`\n- MAX_DEPTH = 100 on server, prevents cycles at data layer\n- Frontend can trust AppState data is cycle-free",
      "display_key": "PONE-60",
      "id": "510b5d8f-d0e6-4058-81de-9602279d55b5",
      "item_number": 60,
      "item_type": "task",
      "parent_id": "641e3412-3333-4f7d-b604-7736401a2651",
      "position": 1,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Add _parentChain field to component state",
      "updated_at": 1770663298,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 5
    },
    {
      "assignee_id": null,
      "created_at": 1770656683,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "DEPENDS ON: PONE-60, PONE-61, PONE-62 complete. Replace static breadcrumb code (lines 31-45) with @foreach loop over _parentChain. For each parent: render link &amp;lt;a href=&quot;/workitem/@parent.Id&quot;&amp;gt;@parent.GetDisplayKey(_project.Key)&amp;lt;/a&amp;gt; + separator. After loop, render current work item as non-link span. Show work item keys (e.g., PONE-57) with title tooltips on hover. Cannot start until parent chain is populated.\n\nCODE SNIPPET - REPLACE LINES 31-45:\n```razor\n@* Breadcrumbs *@\n&amp;lt;nav class=&quot;breadcrumbs&quot; aria-label=&quot;Breadcrumb&quot;&amp;gt;\n    &amp;lt;a href=&quot;/&quot;&amp;gt;Home&amp;lt;/a&amp;gt;\n    &amp;lt;span class=&quot;separator&quot;&amp;gt;/&amp;lt;/span&amp;gt;\n    @if (_project is not null)\n    {\n        &amp;lt;a href=&quot;@($&quot;/project/{_project.Id}&quot;)&quot;&amp;gt;@_project.Title&amp;lt;/a&amp;gt;\n        &amp;lt;span class=&quot;separator&quot;&amp;gt;/&amp;lt;/span&amp;gt;\n        \n        @* Loop through parent chain - show keys with title tooltips *@\n        @foreach (var parent in _parentChain)\n        {\n            &amp;lt;a href=&quot;@($&quot;/workitem/{parent.Id}&quot;)&quot; title=&quot;@parent.Title&quot;&amp;gt;@parent.GetDisplayKey(_project.Key)&amp;lt;/a&amp;gt;\n            &amp;lt;span class=&quot;separator&quot;&amp;gt;/&amp;lt;/span&amp;gt;\n        }\n        \n        @* Current work item (non-clickable) - show key with title tooltip *@\n        &amp;lt;span class=&quot;current&quot; title=&quot;@_workItem.Title&quot;&amp;gt;@_workItem.GetDisplayKey(_project.Key)&amp;lt;/span&amp;gt;\n    }\n    else\n    {\n        &amp;lt;span class=&quot;current&quot;&amp;gt;@_workItem.Title&amp;lt;/span&amp;gt;\n    }\n&amp;lt;/nav&amp;gt;\n```\n\nDISPLAY FORMAT:\n- Shows: Home / P1 / PONE-56 / PONE-57 / PONE-60\n- Hover over PONE-56: tooltip shows &quot;Fix work item breadcrumb hierarchy navigation&quot;\n- Hover over PONE-57: tooltip shows &quot;Implement parent chain traversal logic&quot;\n- etc.",
      "display_key": "PONE-63",
      "id": "3ca42742-a911-4a59-b7df-b975cd91164a",
      "item_number": 63,
      "item_type": "task",
      "parent_id": "578db9e8-9bad-4fba-91cb-8ba820410c15",
      "position": 1,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Update breadcrumb HTML to loop through parents",
      "updated_at": 1770663298,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 6
    },
    {
      "assignee_id": null,
      "created_at": 1770656688,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "VERIFICATION TASK: Test that work items with no parents (ParentId=null, direct children of project) display correctly. Breadcrumb should show &#x27;Home &amp;gt; Project &amp;gt; Epic&#x27; with no intermediate parents. This logic should already be implemented in PONE-61 (while loop exits when ParentId is null). DO NOT implement new code here.\n\nVERIFICATION STEPS:\n1. Navigate to an Epic with ParentId=null\n2. Verify breadcrumb shows: Home / Project Title / EPIC-1\n3. Verify no intermediate parents shown\n4. Verify _parentChain.Count == 0 for Epic\n\nEXPECTED BEHAVIOR (from PONE-61):\n```csharp\nwhile (currentParentId.HasValue &amp;&amp; chain.Count &amp;lt; MAX_DEPTH)\n// When ParentId is null, HasValue is false, loop exits immediately\n// Result: empty chain, breadcrumb shows only current item\n```\n\nThis is VERIFICATION only - confirm existing code works correctly.",
      "display_key": "PONE-65",
      "id": "55e5aff7-7089-4dac-97e0-c5125199ef25",
      "item_number": 65,
      "item_type": "task",
      "parent_id": "e2608c93-c96c-437a-bc14-b79a2487d7a2",
      "position": 1,
      "priority": "medium",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Handle work items with no parents",
      "updated_at": 1771360448,
      "updated_by": "83573002-5eaf-4ae1-af46-792a1a3bf9f5",
      "version": 10
    },
    {
      "assignee_id": null,
      "created_at": 1770856278,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "The REST API, WebSocket handler, protobuf, and DB repository already support parent_id updates with full validation (circular reference checks, hierarchy rules). The CLI update command in work_item_commands.rs is the only backend gap ‚Äî it has no --parent-id or --update-parent flags.",
      "display_key": "PONE-91",
      "id": "5df8e00e-ffe7-4f38-b8ca-88a5c5f32aae",
      "item_number": 91,
      "item_type": "story",
      "parent_id": "d2216597-cf35-4f7a-ac7c-5333f9989153",
      "position": 1,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Add --parent-id to CLI work-item update command",
      "updated_at": 1770858524,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 4
    },
    {
      "assignee_id": null,
      "created_at": 1770856287,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "**File**: `backend/crates/pm-cli/src/work_item_commands.rs`\n\nAdd two new fields to the `Update` variant (after `story_points`, before `version`):\n\n```rust\n/// Parent work item ID (UUID, or empty string to clear parent)\n#[arg(long)]\nparent_id: Option&amp;lt;String&amp;gt;,\n\n/// Set this flag to update the parent (required to distinguish &quot;don&#x27;t change&quot; from &quot;clear parent&quot;)\n#[arg(long)]\nupdate_parent: bool,\n```\n\nThe `update_parent` bool flag is necessary because `parent_id: Option&amp;lt;String&amp;gt;` alone cannot distinguish between &quot;user didn&#x27;t pass --parent-id&quot; (None = don&#x27;t change) and &quot;user wants to clear the parent&quot; (also None). When `--update-parent` is set, the value of `--parent-id` is sent (even if None, meaning &quot;clear parent&quot;).\n\nThe REST API already accepts both fields ‚Äî see `backend/pm-server/src/api/work_items/update_work_item_request.rs` for the matching server-side struct.",
      "display_key": "PONE-93",
      "id": "80e52ff2-b393-47cd-8e4f-28e3e0130dab",
      "item_number": 93,
      "item_type": "task",
      "parent_id": "5df8e00e-ffe7-4f38-b8ca-88a5c5f32aae",
      "position": 1,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Add --parent-id and --update-parent flags to CLI Update struct",
      "updated_at": 1770858525,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 5
    },
    {
      "assignee_id": null,
      "created_at": 1770856292,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "**File**: `frontend/ProjectManagement.Services/State/WorkItemStore.cs` (~line 327)\n\nCurrent `ApplyUpdate` method is missing `ParentId`. Add it to the `with` expression:\n\n```csharp\nprivate static WorkItem ApplyUpdate(WorkItem current, UpdateWorkItemRequest request)\n{\n    return current with\n    {\n        Title = request.Title ?? current.Title,\n        Description = request.Description ?? current.Description,\n        Status = request.Status ?? current.Status,\n        Priority = request.Priority ?? current.Priority,\n        AssigneeId = request.AssigneeId ?? current.AssigneeId,\n        SprintId = request.SprintId ?? current.SprintId,\n        StoryPoints = request.StoryPoints ?? current.StoryPoints,\n        Position = request.Position ?? current.Position,\n        ParentId = request.UpdateParent ? request.ParentId : current.ParentId,\n        UpdatedAt = DateTime.UtcNow,\n        Version = current.Version + 1\n    };\n}\n```\n\nThe key line is:\n```csharp\nParentId = request.UpdateParent ? request.ParentId : current.ParentId,\n```\n\nThis uses the `UpdateParent` bool flag (already present in `UpdateWorkItemRequest.cs` at line 26) to decide whether to apply the change. When `UpdateParent` is false, the current ParentId is preserved. When true, the new value is applied (which may be null, meaning &quot;clear the parent&quot;).",
      "display_key": "PONE-95",
      "id": "09bb08ef-dd15-47d0-acca-41cf174e6b39",
      "item_number": 95,
      "item_type": "task",
      "parent_id": "881ceb37-0402-4eb0-8553-7c2c2c9c9def",
      "position": 1,
      "priority": "medium",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Add ParentId to WorkItemStore.ApplyUpdate",
      "updated_at": 1770858527,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 5
    },
    {
      "assignee_id": null,
      "created_at": 1770916096,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Add two new configurable fields to the ValidationConfig struct, following the exact pattern established by the existing four fields (max_title_length, max_description_length, max_story_points, max_error_message_length).\n\nEach field needs three constants (MIN, MAX, DEFAULT), a struct field, a default value, and a bounds check in validate().\n\n**BUG FIX 1: Add `Copy` derive to ValidationConfig.**\nThe struct only contains `usize` and `i32` fields (all `Copy` types), so it should derive `Copy` alongside `Clone`. This avoids unnecessary `.clone()` calls and prevents future breakage if someone adds a non-Copy field without noticing.\n\n**BUG FIX 2: Name config-bound constants clearly.**\nConstants that define the min/max bounds for the configurable value must NOT be confused with user-facing validation limits. Use `MIN_CONFIGURABLE_*` / `MAX_CONFIGURABLE_*` prefix to make intent obvious.\n\n**File**: backend/crates/pm-config/src/validation_config.rs\n\nChange the struct derive:\n\nBefore:\n```rust\n#[derive(Debug, Clone, Deserialize)]\npub struct ValidationConfig {\n```\n\nAfter:\n```rust\n#[derive(Debug, Clone, Copy, Deserialize)]\npub struct ValidationConfig {\n```\n\nAdd the new constants after the existing ones (after line 20, before the time entry constants):\n\n```rust\n// Config bounds: min/max values the max_comment_length setting can be set to\npub const MIN_CONFIGURABLE_COMMENT_LENGTH: usize = 1;\npub const MAX_CONFIGURABLE_COMMENT_LENGTH: usize = 50000;\npub const DEFAULT_MAX_COMMENT_LENGTH: usize = 5000;\n\n// Config bounds: min/max values the max_sprint_name_length setting can be set to\npub const MIN_CONFIGURABLE_SPRINT_NAME_LENGTH: usize = 1;\npub const MAX_CONFIGURABLE_SPRINT_NAME_LENGTH: usize = 500;\npub const DEFAULT_MAX_SPRINT_NAME_LENGTH: usize = 100;\n```\n\nAdd fields to the ValidationConfig struct:\n\n```rust\npub struct ValidationConfig {\n    pub max_title_length: usize,\n    pub max_description_length: usize,\n    pub max_story_points: i32,\n    pub max_error_message_length: usize,\n    /// Maximum length for comment content\n    pub max_comment_length: usize,\n    /// Maximum length for sprint names\n    pub max_sprint_name_length: usize,\n}\n```\n\nAdd defaults in impl Default:\n\n```rust\nimpl Default for ValidationConfig {\n    fn default() -&amp;gt; Self {\n        Self {\n            max_title_length: DEFAULT_MAX_TITLE_LENGTH,\n            max_description_length: DEFAULT_MAX_DESCRIPTION_LENGTH,\n            max_story_points: DEFAULT_MAX_STORY_POINTS,\n            max_error_message_length: DEFAULT_MAX_ERROR_MESSAGE_LENGTH,\n            max_comment_length: DEFAULT_MAX_COMMENT_LENGTH,\n            max_sprint_name_length: DEFAULT_MAX_SPRINT_NAME_LENGTH,\n        }\n    }\n}\n```\n\nAdd bounds validation in validate():\n\n```rust\nif self.max_comment_length &amp;lt; MIN_CONFIGURABLE_COMMENT_LENGTH\n    || self.max_comment_length &amp;gt; MAX_CONFIGURABLE_COMMENT_LENGTH\n{\n    return Err(ConfigError::config(format!(\n        &quot;validation.max_comment_length must be {}-{}, got {}&quot;,\n        MIN_CONFIGURABLE_COMMENT_LENGTH, MAX_CONFIGURABLE_COMMENT_LENGTH, self.max_comment_length\n    )));\n}\n\nif self.max_sprint_name_length &amp;lt; MIN_CONFIGURABLE_SPRINT_NAME_LENGTH\n    || self.max_sprint_name_length &amp;gt; MAX_CONFIGURABLE_SPRINT_NAME_LENGTH\n{\n    return Err(ConfigError::config(format!(\n        &quot;validation.max_sprint_name_length must be {}-{}, got {}&quot;,\n        MIN_CONFIGURABLE_SPRINT_NAME_LENGTH, MAX_CONFIGURABLE_SPRINT_NAME_LENGTH, self.max_sprint_name_length\n    )));\n}\n```\n\nNote: The serde(default) attribute on the struct means existing config files without these fields will get the defaults automatically. No migration needed.\n\n**Dependencies**: None ‚Äî this is the first task in the epic.",
      "display_key": "PONE-105",
      "id": "5e421dc9-44c2-4aa1-973c-6e780709d5cd",
      "item_number": 105,
      "item_type": "task",
      "parent_id": "46797433-f3ef-411d-841f-81da6cc1bd51",
      "position": 1,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Add max_comment_length and max_sprint_name_length to ValidationConfig",
      "updated_at": 1770932580,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 5
    },
    {
      "assignee_id": null,
      "created_at": 1770916131,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "HandlerContext is passed to every WebSocket handler. Adding ValidationConfig here makes limits accessible to all WS validation calls.\n\nThe HandlerContext already carries RetryConfig in the same pattern ‚Äî a config struct cloned into the context at creation time.\n\n**File**: backend/crates/pm-ws/src/handlers/context.rs\n\nAdd the import and new field:\n\n```rust\nuse crate::{CircuitBreaker, ConnectionRegistry, RequestContext, RetryConfig};\nuse pm_config::ValidationConfig;\n\n// ...\n\npub struct HandlerContext {\n    pub message_id: String,\n    pub user_id: Uuid,\n    pub pool: SqlitePool,\n    pub circuit_breaker: Arc&amp;amp;lt;CircuitBreaker&amp;amp;gt;,\n    pub request_ctx: RequestContext,\n    pub retry_config: RetryConfig,\n    pub registry: ConnectionRegistry,\n    /// Validation limits for field length checks\n    pub validation: ValidationConfig,\n}\n```\n\nUpdate the constructor to accept and store ValidationConfig:\n\n```rust\nimpl HandlerContext {\n    pub fn new(\n        message_id: String,\n        user_id: Uuid,\n        pool: SqlitePool,\n        circuit_breaker: Arc&amp;amp;lt;CircuitBreaker&amp;amp;gt;,\n        connection_id: String,\n        registry: ConnectionRegistry,\n        validation: ValidationConfig,\n    ) -&amp;amp;gt; Self {\n        let request_ctx = RequestContext::new(user_id, connection_id, &amp;amp;message_id);\n\n        Self {\n            message_id,\n            user_id,\n            pool,\n            circuit_breaker,\n            request_ctx,\n            retry_config: RetryConfig::default(),\n            registry,\n            validation,\n        }\n    }\n}\n```\n\nNote: This changes the HandlerContext::new() signature, which will cause compile errors at call sites until Task 2.2 updates them. This is expected.\n\n**Dependencies**: Must run after PONE-105 (defines ValidationConfig fields). First task in Story 2.",
      "display_key": "PONE-109",
      "id": "3bdd9ae6-2523-4dc6-a85a-8fda38cb97a7",
      "item_number": 109,
      "item_type": "task",
      "parent_id": "a836f879-9bd3-46de-8ac9-0ccdbbad06be",
      "position": 1,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Add ValidationConfig field to HandlerContext",
      "updated_at": 1771360451,
      "updated_by": "83573002-5eaf-4ae1-af46-792a1a3bf9f5",
      "version": 9
    },
    {
      "assignee_id": null,
      "created_at": 1770916168,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Change validate_comment_create() from hardcoded 5000 to reading the limit from a ValidationConfig parameter.\n\n**BUG FIX: Also fix `validate_string` to use `.chars().count()` instead of `.len()`.**\n\nThe existing `validate_string` helper uses `.len()` which counts UTF-8 bytes, not characters. The error messages say &amp;quot;characters&amp;quot; which is misleading for multi-byte text (emoji, CJK, etc.). Since these are user-facing limits, they should count characters.\n\n**File**: backend/crates/pm-ws/src/message_validator.rs\n\nFirst, fix the shared `validate_string` method (lines 71-92):\n\nBefore:\n```rust\npub fn validate_string(\n    value: &amp;amp;str,\n    field_name: &amp;amp;str,\n    min_length: usize,\n    max_length: usize,\n) -&amp;amp;gt; WsErrorResult&amp;amp;lt;()&amp;amp;gt; {\n    if value.len() &amp;amp;lt; min_length {\n        return Err(WsError::InvalidMessage {\n            message: format!(&amp;quot;{} must be at least {} characters&amp;quot;, field_name, min_length),\n            location: ErrorLocation::from(Location::caller()),\n        });\n    }\n\n    if value.len() &amp;amp;gt; max_length {\n        return Err(WsError::InvalidMessage {\n            message: format!(&amp;quot;{} must not exceed {} characters&amp;quot;, field_name, max_length),\n            location: ErrorLocation::from(Location::caller()),\n        });\n    }\n    Ok(())\n}\n```\n\nAfter:\n```rust\npub fn validate_string(\n    value: &amp;amp;str,\n    field_name: &amp;amp;str,\n    min_length: usize,\n    max_length: usize,\n) -&amp;amp;gt; WsErrorResult&amp;amp;lt;()&amp;amp;gt; {\n    let char_count = value.chars().count();\n\n    if char_count &amp;amp;lt; min_length {\n        return Err(WsError::InvalidMessage {\n            message: format!(&amp;quot;{} must be at least {} characters&amp;quot;, field_name, min_length),\n            location: ErrorLocation::from(Location::caller()),\n        });\n    }\n\n    if char_count &amp;amp;gt; max_length {\n        return Err(WsError::InvalidMessage {\n            message: format!(&amp;quot;{} must not exceed {} characters&amp;quot;, field_name, max_length),\n            location: ErrorLocation::from(Location::caller()),\n        });\n    }\n    Ok(())\n}\n```\n\nThen, update validate_comment_create to accept config (lines 124-128):\n\nBefore:\n```rust\npub fn validate_comment_create(content: &amp;amp;str) -&amp;amp;gt; WsErrorResult&amp;amp;lt;()&amp;amp;gt; {\n    Self::validate_string(content, &amp;quot;content&amp;quot;, 1, 5000)\n}\n```\n\nAfter:\n```rust\npub fn validate_comment_create(content: &amp;amp;str, config: &amp;amp;ValidationConfig) -&amp;amp;gt; WsErrorResult&amp;amp;lt;()&amp;amp;gt; {\n    Self::validate_string(content, &amp;quot;content&amp;quot;, 1, config.max_comment_length)\n}\n```\n\nAdd the import at top if not already present:\n```rust\nuse pm_config::ValidationConfig;\n```\n\nThe validate_string fix propagates to ALL callers (title, name, comment content) automatically.\n\n**Dependencies**: Must run after PONE-105 (defines the config fields used here). First task in Story 3 ‚Äî also fixes validate_string for all downstream validators.",
      "display_key": "PONE-113",
      "id": "03e899d4-7cd2-429f-9418-9de6b28ea5a7",
      "item_number": 113,
      "item_type": "task",
      "parent_id": "a1a87f55-5329-4051-b258-d7b055b651b3",
      "position": 1,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Update validate_comment_create to use config.max_comment_length",
      "updated_at": 1770932580,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 6
    },
    {
      "assignee_id": null,
      "created_at": 1770916208,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Update the two MessageValidator::validate_comment_create() calls in the WebSocket comment handler to pass &amp;amp;ctx.validation.\n\n**File**: backend/crates/pm-ws/src/handlers/comment.rs\n\nTwo call sites to update:\n\nLine 46 (handle_create_comment):\nBefore:\n```rust\nMessageValidator::validate_comment_create(&amp;amp;req.content)?;\n```\nAfter:\n```rust\nMessageValidator::validate_comment_create(&amp;amp;req.content, &amp;amp;ctx.validation)?;\n```\n\nLine 168 (handle_update_comment):\nBefore:\n```rust\nMessageValidator::validate_comment_create(&amp;amp;req.content)?;\n```\nAfter:\n```rust\nMessageValidator::validate_comment_create(&amp;amp;req.content, &amp;amp;ctx.validation)?;\n```\n\nMinimal change ‚Äî just adding the config parameter at each call site.\n\n**Dependencies**: Must run after PONE-110 (threads config through WS connection) and PONE-113 (updates validator signature).",
      "display_key": "PONE-118",
      "id": "fc8b7734-9597-4791-b0cb-510fb11900c0",
      "item_number": 118,
      "item_type": "task",
      "parent_id": "e83139bf-166b-41e6-ac23-323b8d1500a2",
      "position": 1,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Update WebSocket comment handler to pass validation config",
      "updated_at": 1770932580,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 5
    },
    {
      "assignee_id": null,
      "created_at": 1770653977,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Allow users to filter activity by action type (created/updated/deleted) and group entries by date or user. Improves usability for reviewing specific types of changes.",
      "display_key": "PONE-3",
      "id": "160818dc-be06-4ff1-a980-1bc3db770161",
      "item_number": 3,
      "item_type": "story",
      "parent_id": "8153adb6-3ac7-45c0-b88a-cdf6d5e3977d",
      "position": 2,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "backlog",
      "story_points": null,
      "title": "Add filtering and grouping controls",
      "updated_at": 1770653977,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 1
    },
    {
      "assignee_id": null,
      "created_at": 1770654013,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Extend WebSocketClient or create UserService to fetch user details (name, email, avatar URL) by user ID",
      "display_key": "PONE-10",
      "id": "fb0d3166-a04c-42b0-a5b4-819a895c2b51",
      "item_number": 10,
      "item_type": "task",
      "parent_id": "cd51931e-ddef-4a05-97b6-916779818b98",
      "position": 2,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "backlog",
      "story_points": null,
      "title": "Add user data fetching to WebSocket client",
      "updated_at": 1770654013,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 1
    },
    {
      "assignee_id": null,
      "created_at": 1770654013,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Add filtering logic in ActivityFeed component to filter entries based on selected action types",
      "display_key": "PONE-14",
      "id": "6d7dc744-edc1-4ec2-a599-092ecb38dbc4",
      "item_number": 14,
      "item_type": "task",
      "parent_id": "160818dc-be06-4ff1-a980-1bc3db770161",
      "position": 2,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "backlog",
      "story_points": null,
      "title": "Implement client-side filtering logic",
      "updated_at": 1770654013,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 1
    },
    {
      "assignee_id": null,
      "created_at": 1770654020,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Apply field formatters to old_value and new_value display in ActivityItem component",
      "display_key": "PONE-18",
      "id": "13f09815-38ae-455a-9d9b-8f363d9a872e",
      "item_number": 18,
      "item_type": "task",
      "parent_id": "b2cc0b5f-2bd5-4a39-a275-361cfb49029f",
      "position": 2,
      "priority": "medium",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "backlog",
      "story_points": null,
      "title": "Update ActivityItem to use formatters",
      "updated_at": 1770654020,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 1
    },
    {
      "assignee_id": null,
      "created_at": 1770654024,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Filter activity entries by search term (match against action, field_name, old_value, new_value)",
      "display_key": "PONE-20",
      "id": "c0cd90ba-d5d6-4abd-918c-7b1041fea40b",
      "item_number": 20,
      "item_type": "task",
      "parent_id": "7886389c-e4e6-4a0d-b5fe-207091f84980",
      "position": 2,
      "priority": "medium",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "backlog",
      "story_points": null,
      "title": "Implement search filtering logic",
      "updated_at": 1770654024,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 1
    },
    {
      "assignee_id": null,
      "created_at": 1770654028,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Create export service to convert activity entries to JSON/CSV and trigger browser download",
      "display_key": "PONE-22",
      "id": "d62c2a68-31bf-47b3-a90f-365609068989",
      "item_number": 22,
      "item_type": "task",
      "parent_id": "a1887679-8040-4b45-8715-9834972ed50a",
      "position": 2,
      "priority": "low",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "backlog",
      "story_points": null,
      "title": "Implement JSON and CSV export",
      "updated_at": 1770654028,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 1
    },
    {
      "assignee_id": null,
      "created_at": 1770654034,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Delete activity-related CSS classes from app.css after migration to scoped files",
      "display_key": "PONE-25",
      "id": "ccca2b78-fd35-42e2-a392-9d4f020219c3",
      "item_number": 25,
      "item_type": "task",
      "parent_id": "f904052a-8898-4c6e-b7f3-5b4bddf23a88",
      "position": 2,
      "priority": "low",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "backlog",
      "story_points": null,
      "title": "Remove activity CSS from global app.css",
      "updated_at": 1770654034,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 1
    },
    {
      "assignee_id": null,
      "created_at": 1770654599,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Implement port file discovery for multi-repo deployments. Server writes port info to .pm/server.json, CLI reads it for auto-discovery. Solves the problem of multiple pm-server instances binding to the same default port.",
      "display_key": "PONE-26",
      "id": "bfa88a19-2e04-4133-bfa8-3343c9524207",
      "item_number": 26,
      "item_type": "epic",
      "parent_id": null,
      "position": 2,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Session 120: Per-Repo Dynamic Port Discovery",
      "updated_at": 1770654599,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 1
    },
    {
      "assignee_id": null,
      "created_at": 1770654606,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Integrate port file infrastructure into server and CLI. Server writes port file after TcpListener bind with actual_addr.port(), cleans up on graceful shutdown. CLI auto-discovers server URL from port file with read_live() (includes PID validation and stale file removal). Actionable error messages showing port file path when no server found. Update help text for --server flag. Update both config files (backend/config.example.toml and .pm/config.toml) to port = 0 with comprehensive tradeoffs documentation. Target: ~25-35k tokens",
      "display_key": "PONE-28",
      "id": "ea1ace0b-1cfd-45f2-b5a8-c2a68a265915",
      "item_number": 28,
      "item_type": "story",
      "parent_id": "bfa88a19-2e04-4133-bfa8-3343c9524207",
      "position": 2,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "120.2: Server &amp; CLI Integration",
      "updated_at": 1770654763,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 2
    },
    {
      "assignee_id": null,
      "created_at": 1770654614,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Add chrono, libc, serde_json to pm-config/Cargo.toml [dependencies] section using { workspace = true } syntax. These dependencies already exist in root Cargo.toml [workspace.dependencies]. Step 1 of 120.1",
      "display_key": "PONE-30",
      "id": "98e28fa0-f0f1-443b-8c89-b86fa5fe9b1a",
      "item_number": 30,
      "item_type": "task",
      "parent_id": "52d13747-5d19-4772-b74e-f290238b1ee1",
      "position": 2,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Add dependencies to pm-config",
      "updated_at": 1770654804,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 2
    },
    {
      "assignee_id": null,
      "created_at": 1770654622,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "In pm-cli/src/main.rs: (1) Delete unused &#x27;use pm_config::{DEFAULT_HOST, DEFAULT_PORT};&#x27; import, (2) Replace hardcoded server URL fallback with discover_server_url() function call, (3) Add discover_server_url() function that uses PortFileInfo::read_live() for auto-discovery with PID validation, includes actionable error messages with port file path when no server found, exits cleanly with process::exit(1) on error. Step 2 of 120.2",
      "display_key": "PONE-34",
      "id": "11b671c7-17eb-4dcf-bd3e-c40476d3be5c",
      "item_number": 34,
      "item_type": "task",
      "parent_id": "ea1ace0b-1cfd-45f2-b5a8-c2a68a265915",
      "position": 2,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Implement auto-discovery in pm-cli",
      "updated_at": 1770654821,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 2
    },
    {
      "assignee_id": null,
      "created_at": 1770655302,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "## ‚úÖ STATUS: COMPLETE - 2026-02-09\n\n**All tasks complete and verified.**\n\nTasks completed:\n- ‚úÖ **PONE-50**: CommentEditor Write/Preview tabs implemented\n- ‚úÖ **PONE-51**: CommentList markdown rendering implemented\n\nBuild status: ‚úÖ Clean\nTest status: ‚úÖ Clean\n\n---\n\n## PONE-42: Comment markdown editor and viewer\n\n### Summary\nAdd Write/Preview tabs to CommentEditor and render existing comments as markdown in CommentList.\n\n### Tasks\n- **PONE-50**: Add Write/Preview tab toggle to CommentEditor.razor (lines 1-24). Preserve Ctrl+Enter submit. Add tab CSS to CommentEditor.razor.css.\n- **PONE-51**: Replace `@comment.Content` plain text (CommentList.razor lines 42-46) with `&amp;lt;MarkdownRenderer Content=&quot;@comment.Content&quot; /&amp;gt;`. Remove white-space:pre-wrap from CSS.\n\n### Files modified\n- `frontend/ProjectManagement.Components/Comments/CommentEditor.razor` (add preview tabs)\n- `frontend/ProjectManagement.Components/Comments/CommentEditor.razor.css` (add tab/preview CSS)\n- `frontend/ProjectManagement.Components/Comments/CommentList.razor` (swap RadzenText for MarkdownRenderer)\n- `frontend/ProjectManagement.Components/Comments/CommentList.razor.css` (remove pre-wrap)\n\n### Dependencies\nRequires PONE-40 (MarkdownRenderer must exist first).\n\n### Backward compatibility\nExisting plain-text comments render identically ‚Äî Markdig wraps plain text in `&amp;lt;p&amp;gt;` tags and converts newlines to `&amp;lt;br&amp;gt;`, matching old pre-wrap behavior.\n\n### Verification\n`just build-cs-components`",
      "display_key": "PONE-42",
      "id": "6dc1836f-3162-4047-a54c-3205a8e0c805",
      "item_number": 42,
      "item_type": "story",
      "parent_id": "27a7518a-3840-4aa6-9458-55df2e92ff47",
      "position": 2,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Comment markdown editor and viewer",
      "updated_at": 1770676098,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 5
    },
    {
      "assignee_id": null,
      "created_at": 1770655314,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "## ‚ö†Ô∏è ACTUAL IMPLEMENTATION (2026-02-09)\n\n**What we built:**\n- ‚úÖ MarkdownRenderer.razor (Markdown ‚Üí HTML rendering component)\n- ‚úÖ MarkdownRenderer.razor.css (Scoped styles with Radzen theme vars)\n- ‚úÖ MarkdownEditor.razor (Write/Preview tabs component)\n- ‚úÖ MarkdownEditor.razor.css (Editor styling)\n\n**Key change from original plan:**\n- ‚ùå REMOVED HtmlSanitizer (dependency conflicts, see PONE-44)\n- ‚úÖ USING Markdig&#x27;s `.DisableHtml()` instead (simpler, more secure)\n\n**Simplified MarkdownRenderer:**\n```csharp\nprivate static readonly MarkdownPipeline Pipeline = new MarkdownPipelineBuilder()\n    .UseAdvancedExtensions()\n    .DisableHtml()  // ‚Üê Escapes all HTML tags\n    .Build();\n```\n\n**Security:**\n- All HTML tags are escaped as plain text (no XSS risk)\n- Users write markdown only (no raw HTML injection)\n- Simpler than whitelist-based sanitization\n\n**Files created:**\n1. `Shared/MarkdownRenderer.razor` (18 lines, down from 70+ with HtmlSanitizer)\n2. `Shared/MarkdownRenderer.razor.css` (78 lines)\n3. `Shared/MarkdownEditor.razor` (23 lines)\n4. `Shared/MarkdownEditor.razor.css` (17 lines)\n\n**Verification:** ‚úÖ `just build-cs-components` succeeds with 0 errors, 0 warnings\n\n---\n\n## ORIGINAL PLAN (superseded)\n\n## PONE-45: Create MarkdownRenderer component\n\n### New file\n`frontend/ProjectManagement.Components/Shared/MarkdownRenderer.razor`\n\n### Implementation\n```razor\n@using Markdig\n@using Ganss.Xss\n\n&amp;lt;div class=&quot;markdown-body&quot;&amp;gt;\n    @((MarkupString)_sanitizedHtml)\n&amp;lt;/div&amp;gt;\n\n@code {\n    [Parameter] public string? Content { get; set; }\n\n    private string _sanitizedHtml = &quot;&quot;;\n\n    private static readonly MarkdownPipeline Pipeline = new MarkdownPipelineBuilder()\n        .UseAdvancedExtensions()\n        .Build();\n\n    private static readonly HtmlSanitizer Sanitizer = CreateSanitizer();\n\n    private static HtmlSanitizer CreateSanitizer()\n    {\n        var sanitizer = new HtmlSanitizer();\n        // Allow markdown-generated tags\n        sanitizer.AllowedTags.Add(&quot;h1&quot;);\n        sanitizer.AllowedTags.Add(&quot;h2&quot;);\n        sanitizer.AllowedTags.Add(&quot;h3&quot;);\n        sanitizer.AllowedTags.Add(&quot;h4&quot;);\n        sanitizer.AllowedTags.Add(&quot;h5&quot;);\n        sanitizer.AllowedTags.Add(&quot;h6&quot;);\n        sanitizer.AllowedTags.Add(&quot;pre&quot;);\n        sanitizer.AllowedTags.Add(&quot;code&quot;);\n        sanitizer.AllowedTags.Add(&quot;blockquote&quot;);\n        sanitizer.AllowedTags.Add(&quot;table&quot;);\n        sanitizer.AllowedTags.Add(&quot;thead&quot;);\n        sanitizer.AllowedTags.Add(&quot;tbody&quot;);\n        sanitizer.AllowedTags.Add(&quot;tr&quot;);\n        sanitizer.AllowedTags.Add(&quot;th&quot;);\n        sanitizer.AllowedTags.Add(&quot;td&quot;);\n        sanitizer.AllowedTags.Add(&quot;ul&quot;);\n        sanitizer.AllowedTags.Add(&quot;ol&quot;);\n        sanitizer.AllowedTags.Add(&quot;li&quot;);\n        sanitizer.AllowedTags.Add(&quot;p&quot;);\n        sanitizer.AllowedTags.Add(&quot;a&quot;);\n        sanitizer.AllowedTags.Add(&quot;strong&quot;);\n        sanitizer.AllowedTags.Add(&quot;em&quot;);\n        sanitizer.AllowedTags.Add(&quot;br&quot;);\n        sanitizer.AllowedTags.Add(&quot;hr&quot;);\n        sanitizer.AllowedTags.Add(&quot;img&quot;);\n        sanitizer.AllowedTags.Add(&quot;del&quot;);\n\n        sanitizer.AllowedAttributes.Add(&quot;class&quot;);\n        sanitizer.AllowedAttributes.Add(&quot;href&quot;);\n        sanitizer.AllowedAttributes.Add(&quot;src&quot;);\n        sanitizer.AllowedAttributes.Add(&quot;alt&quot;);\n        sanitizer.AllowedAttributes.Add(&quot;title&quot;);\n\n        // Force links to open in new tab\n        sanitizer.AllowedSchemes.Add(&quot;https&quot;);\n        sanitizer.AllowedSchemes.Add(&quot;http&quot;);\n\n        return sanitizer;\n    }\n\n    protected override void OnParametersSet()\n    {\n        if (string.IsNullOrWhiteSpace(Content))\n        {\n            _sanitizedHtml = &quot;&quot;;\n            return;\n        }\n\n        var rawHtml = Markdown.ToHtml(Content, Pipeline);\n        _sanitizedHtml = Sanitizer.Sanitize(rawHtml);\n    }\n}\n```\n\n### Key design decisions\n- **Static Pipeline and Sanitizer**: Thread-safe singletons, created once. No per-render allocation.\n- **@((MarkupString)...)**: Required to render HTML in Blazor. ONLY safe because HtmlSanitizer strips XSS vectors first.\n- **UseAdvancedExtensions()**: Enables tables, task lists, pipe tables, autolinks, footnotes.\n- **OnParametersSet**: Re-renders when Content parameter changes (e.g., live preview).\n\n### Security\nWithout the HtmlSanitizer step, `&amp;lt;script&amp;gt;alert(&#x27;xss&#x27;)&amp;lt;/script&amp;gt;` in markdown would execute. The sanitizer whitelist ensures only safe HTML tags pass through.\n\n### Verification\nRun: `just build-cs-components`",
      "display_key": "PONE-45",
      "id": "d88606a5-bdca-4196-94d0-df1bd76fb590",
      "item_number": 45,
      "item_type": "task",
      "parent_id": "c81fc7d7-6aab-4fc8-bfa5-ed1a5e8fba5a",
      "position": 2,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Create MarkdownRenderer component",
      "updated_at": 1770676098,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 5
    },
    {
      "assignee_id": null,
      "created_at": 1770656660,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Replace hardcoded &#x27;Home &amp;gt; Project &amp;gt; Current&#x27; breadcrumbs with loop through parent chain. Display work item keys (e.g., PONE-57) instead of full titles for compact navigation. Each parent gets clickable link to /workitem/{parentId} with title tooltip showing full work item title on hover. Preserve existing CSS classes (.breadcrumbs, .separator, .current). Maintain accessibility with nav aria-label and semantic HTML. Current work item remains non-link span.\n\nTASK SUMMARY:\n1. **PONE-63**: Replace lines 31-45 with @foreach loop over _parentChain, rendering links with keys and title tooltips\n2. **PONE-64**: Verify CSS classes, accessibility attributes, and tooltip functionality are preserved\n\nIMPLEMENTATION APPROACH:\n- Keep nav element with class=&quot;breadcrumbs&quot; and aria-label=&quot;Breadcrumb&quot;\n- Start with Home link and Project link (unchanged)\n- Loop through _parentChain: for each parent, render &amp;lt;a href=&quot;/workitem/{parent.Id}&quot; title=&quot;{parent.Title}&quot;&amp;gt;{parent.DisplayKey}&amp;lt;/a&amp;gt;\n- Display work item keys (PONE-XX) instead of full titles for cleaner breadcrumb trail\n- Add title=&quot;{work item title}&quot; attribute to all work items for hover tooltips\n- Add &amp;lt;span class=&quot;separator&quot;&amp;gt;/&amp;lt;/span&amp;gt; between all items\n- End with current work item as &amp;lt;span class=&quot;current&quot; title=&quot;{current.Title}&quot;&amp;gt;{current.DisplayKey}&amp;lt;/span&amp;gt;\n- All links use GetDisplayKey(_project.Key) for consistent formatting\n\nDISPLAY EXAMPLE:\n- Shows: Home / P1 / PONE-56 / PONE-57 / PONE-60\n- Hover: &quot;Fix work item breadcrumb hierarchy navigation&quot;, &quot;Implement parent chain traversal logic&quot;, etc.\n\nOUTPUT: Compact breadcrumb trail with work item keys and informative hover tooltips",
      "display_key": "PONE-58",
      "id": "578db9e8-9bad-4fba-91cb-8ba820410c15",
      "item_number": 58,
      "item_type": "story",
      "parent_id": "5773eef4-fabb-436a-879b-49c14e94a3ae",
      "position": 2,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Update breadcrumb rendering HTML",
      "updated_at": 1770663298,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 5
    },
    {
      "assignee_id": null,
      "created_at": 1770656676,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Create BuildParentChain(WorkItemViewModel current) method with SIMPLE depth limit for defensive programming. Backend already prevents circular references (work_item.rs:check_circular_reference), so frontend only needs depth limit to handle race conditions or corrupted data gracefully. Use ILogger for warnings, not Console.WriteLine.\n\nCODE SNIPPET:\n```csharp\n// Add ILogger injection at top of component (around line 12)\n@inject ILogger&amp;lt;WorkItemDetail&amp;gt; Logger\n\n// Add method after LoadWorkItemAsync (after line 283)\nprivate List&amp;lt;WorkItemViewModel&amp;gt; BuildParentChain(WorkItemViewModel current)\n{\n    var chain = new List&amp;lt;WorkItemViewModel&amp;gt;();\n    var currentParentId = current.ParentId;\n    const int MAX_DEPTH = 20; // Defensive limit (backend has 100)\n    \n    // Walk up the parent hierarchy\n    while (currentParentId.HasValue &amp;&amp; chain.Count &amp;lt; MAX_DEPTH)\n    {\n        var parent = AppState.WorkItems.GetById(currentParentId.Value);\n        \n        // Edge case: missing parent in cache (orphaned item)\n        if (parent is null)\n        {\n            Logger.LogWarning(\n                &quot;Parent {ParentId} not found in cache for work item {WorkItemId}&quot;,\n                currentParentId, current.Id);\n            break;\n        }\n        \n        var parentViewModel = ViewModelFactory.Create(parent);\n        chain.Add(parentViewModel);\n        currentParentId = parent.ParentId;\n    }\n    \n    // Defensive: log if max depth reached (shouldn&#x27;t happen with backend validation)\n    if (chain.Count &amp;gt;= MAX_DEPTH)\n    {\n        Logger.LogWarning(\n            &quot;Max parent chain depth {MaxDepth} reached for work item {WorkItemId}. &quot; +\n            &quot;This may indicate data corruption.&quot;,\n            MAX_DEPTH, current.Id);\n    }\n    \n    // Reverse to get top-down order (Epic -&amp;gt; Story -&amp;gt; Task)\n    chain.Reverse();\n    return chain;\n}\n```\n\nWHY NO CYCLE DETECTION:\n- Backend validates parent changes: `backend/crates/pm-ws/src/handlers/work_item.rs:586-634`\n- `check_circular_reference` walks parent chain and rejects cycles\n- AppState data is validated by backend, cycles impossible in normal operation\n- Frontend depth limit handles edge cases (race conditions, corrupted state)",
      "display_key": "PONE-61",
      "id": "3ad6e3f6-c0bb-43b3-a09a-9029826c094f",
      "item_number": 61,
      "item_type": "task",
      "parent_id": "641e3412-3333-4f7d-b604-7736401a2651",
      "position": 2,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Implement BuildParentChain method",
      "updated_at": 1770663298,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 6
    },
    {
      "assignee_id": null,
      "created_at": 1770656686,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Ensure updated breadcrumb HTML maintains existing CSS classes: .breadcrumbs on nav, .separator on span, .current on current item. Keep nav aria-label=&quot;Breadcrumb&quot;. Verify separator appears between all items. Test keyboard navigation and screen reader compatibility. Verify title tooltips display on hover.\n\nVERIFICATION CHECKLIST:\n‚úÖ nav element has class=&quot;breadcrumbs&quot;\n‚úÖ nav element has aria-label=&quot;Breadcrumb&quot;\n‚úÖ Each separator is &amp;lt;span class=&quot;separator&quot;&amp;gt;/&amp;lt;/span&amp;gt;\n‚úÖ Current work item has class=&quot;current&quot;\n‚úÖ All parent links are properly formed &amp;lt;a href=&quot;...&quot;&amp;gt;\n‚úÖ All parent links have title=&quot;{work item title}&quot; attribute\n‚úÖ Current work item span has title=&quot;{work item title}&quot; attribute\n‚úÖ Tooltips appear on hover over work item keys\n‚úÖ Work item keys display correctly (e.g., PONE-57, not full title)\n‚úÖ Tab navigation works through all links\n‚úÖ Screen readers announce breadcrumb navigation and link titles\n\nNOTE: The code in PONE-63 already implements all of these. This task is just verification/testing.",
      "display_key": "PONE-64",
      "id": "4400f923-a8e2-4a16-b948-69f5c6c10c8a",
      "item_number": 64,
      "item_type": "task",
      "parent_id": "578db9e8-9bad-4fba-91cb-8ba820410c15",
      "position": 2,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Preserve CSS classes and accessibility",
      "updated_at": 1770663298,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 5
    },
    {
      "assignee_id": null,
      "created_at": 1770656691,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "VERIFICATION TASK: Test that missing parents in cache are handled gracefully. The null check and Logger.LogWarning should already be in BuildParentChain (PONE-61) - verify it logs warning and shows partial hierarchy instead of crashing. DO NOT implement new code here, just verify PONE-61 includes this.\n\nVERIFICATION STEPS:\n1. Create test scenario: Task with ParentId pointing to missing/deleted Story\n2. Navigate to Task detail page\n3. Verify UI doesn&#x27;t crash\n4. Verify breadcrumb shows partial chain (stops at missing parent)\n5. Verify warning logged: &quot;Parent {ParentId} not found in cache&quot;\n\nEXPECTED BEHAVIOR (from PONE-61):\n```csharp\nvar parent = AppState.WorkItems.GetById(currentParentId.Value);\nif (parent is null)\n{\n    Logger.LogWarning(\n        &quot;Parent {ParentId} not found in cache for work item {WorkItemId}&quot;,\n        currentParentId, current.Id);\n    break; // Gracefully stop, return partial chain\n}\n```\n\nSCENARIO: Epic(exists) -&amp;gt; Story(deleted/missing) -&amp;gt; Task(current)\nRESULT: Breadcrumb shows &quot;Home / Project / Task&quot; (no Story link)\nLOG: Warning about missing Story parent\n\nThis is VERIFICATION only - confirm existing code works correctly.",
      "display_key": "PONE-66",
      "id": "3bdc1d87-6f87-4d22-ac8a-4c699420fe3d",
      "item_number": 66,
      "item_type": "task",
      "parent_id": "e2608c93-c96c-437a-bc14-b79a2487d7a2",
      "position": 2,
      "priority": "medium",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Handle missing parents in cache",
      "updated_at": 1770663298,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 5
    },
    {
      "assignee_id": null,
      "created_at": 1770856281,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "WorkItemStore.ApplyUpdate (frontend/ProjectManagement.Services/State/WorkItemStore.cs:327) does not handle ParentId. When a parent change is made, the optimistic UI update ignores it until the server confirms. Add ParentId handling to the ApplyUpdate method.",
      "display_key": "PONE-92",
      "id": "881ceb37-0402-4eb0-8553-7c2c2c9c9def",
      "item_number": 92,
      "item_type": "story",
      "parent_id": "d2216597-cf35-4f7a-ac7c-5333f9989153",
      "position": 2,
      "priority": "medium",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Fix frontend optimistic update for parent_id changes",
      "updated_at": 1770858524,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 4
    },
    {
      "assignee_id": null,
      "created_at": 1770856290,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Two files need changes:\n\n**File 1**: `backend/crates/pm-cli/src/main.rs` (~line 174)\n\nAdd `parent_id` and `update_parent` to the destructure and pass them through:\n\n```rust\nWorkItemCommands::Update {\n    id,\n    title,\n    description,\n    status,\n    priority,\n    assignee_id,\n    sprint_id,\n    story_points,\n    parent_id,\n    update_parent,\n    version,\n} =&amp;gt; {\n    client\n        .update_work_item(\n            &amp;id,\n            title.as_deref(),\n            description.as_deref(),\n            status.as_deref(),\n            priority.as_deref(),\n            assignee_id.as_deref(),\n            sprint_id.as_deref(),\n            story_points,\n            parent_id.as_deref(),\n            update_parent,\n            version,\n        )\n        .await\n}\n```\n\n**File 2**: `backend/crates/pm-cli/src/client/client.rs` (~line 328)\n\nAdd the two new parameters to `update_work_item` and its inner `UpdateRequest` struct:\n\n```rust\npub async fn update_work_item(\n    &amp;self,\n    id: &amp;str,\n    title: Option&amp;lt;&amp;str&amp;gt;,\n    description: Option&amp;lt;&amp;str&amp;gt;,\n    status: Option&amp;lt;&amp;str&amp;gt;,\n    priority: Option&amp;lt;&amp;str&amp;gt;,\n    assignee_id: Option&amp;lt;&amp;str&amp;gt;,\n    sprint_id: Option&amp;lt;&amp;str&amp;gt;,\n    story_points: Option&amp;lt;i32&amp;gt;,\n    parent_id: Option&amp;lt;&amp;str&amp;gt;,\n    update_parent: bool,\n    expected_version: i32,\n) -&amp;gt; CliClientResult&amp;lt;Value&amp;gt; {\n    #[derive(Serialize)]\n    struct UpdateRequest&amp;lt;&#x27;a&amp;gt; {\n        #[serde(skip_serializing_if = &quot;Option::is_none&quot;)]\n        title: Option&amp;lt;&amp;&#x27;a str&amp;gt;,\n        #[serde(skip_serializing_if = &quot;Option::is_none&quot;)]\n        description: Option&amp;lt;&amp;&#x27;a str&amp;gt;,\n        #[serde(skip_serializing_if = &quot;Option::is_none&quot;)]\n        status: Option&amp;lt;&amp;&#x27;a str&amp;gt;,\n        #[serde(skip_serializing_if = &quot;Option::is_none&quot;)]\n        priority: Option&amp;lt;&amp;&#x27;a str&amp;gt;,\n        #[serde(skip_serializing_if = &quot;Option::is_none&quot;)]\n        assignee_id: Option&amp;lt;&amp;&#x27;a str&amp;gt;,\n        #[serde(skip_serializing_if = &quot;Option::is_none&quot;)]\n        sprint_id: Option&amp;lt;&amp;&#x27;a str&amp;gt;,\n        #[serde(skip_serializing_if = &quot;Option::is_none&quot;)]\n        story_points: Option&amp;lt;i32&amp;gt;,\n        #[serde(skip_serializing_if = &quot;Option::is_none&quot;)]\n        parent_id: Option&amp;lt;&amp;&#x27;a str&amp;gt;,\n        update_parent: bool,\n        expected_version: i32,\n    }\n\n    let body = UpdateRequest {\n        title,\n        description,\n        status,\n        priority,\n        assignee_id,\n        sprint_id,\n        story_points,\n        parent_id,\n        update_parent,\n        expected_version,\n    };\n\n    let req = self\n        .request(Method::PUT, &amp;format!(&quot;/api/v1/work-items/{}&quot;, id))\n        .json(&amp;body);\n    self.execute(req).await\n}\n```\n\nNote: `update_parent` is NOT skipped when false ‚Äî it must always be sent so the server knows whether the client intends to change the parent. The server-side `UpdateWorkItemRequest` (update_work_item_request.rs) already has `#[serde(default)]` on `update_parent`, so omitting it defaults to false (no change).",
      "display_key": "PONE-94",
      "id": "7edc1a26-21cd-46a2-881b-08e9ba03fc1f",
      "item_number": 94,
      "item_type": "task",
      "parent_id": "5df8e00e-ffe7-4f38-b8ca-88a5c5f32aae",
      "position": 2,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Wire parent_id through CLI client update_work_item call",
      "updated_at": 1770858526,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 5
    },
    {
      "assignee_id": null,
      "created_at": 1770916031,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Extend the existing ValidationConfig struct in pm-config with two new configurable fields: max_comment_length and max_sprint_name_length. Follow the established pattern used by the 4 existing fields (constants for MIN/MAX/DEFAULT, struct field, Default impl, validate() bounds check, env override, example config).\n\nWhy first: All other stories depend on these fields existing in ValidationConfig. The handler pipeline threading (Story 2) needs a struct with the right fields. The MessageValidator updates (Story 3) need config values to read. This is the foundation.\n\nAcceptance Criteria:\n- ValidationConfig has max_comment_length and max_sprint_name_length fields\n- Defaults: comment=5000, sprint_name=100\n- Bounds: comment 1-50000, sprint_name 1-500\n- Environment variable overrides work (PM_VALIDATION_MAX_COMMENT_LENGTH, PM_VALIDATION_MAX_SPRINT_NAME_LENGTH)\n- config.example.toml documents new fields\n- log_summary() includes new fields\n- All existing tests still pass, new bounds tests added\n\nFiles: validation_config.rs, config.rs, tests/validation.rs, config.example.toml",
      "display_key": "PONE-101",
      "id": "46797433-f3ef-411d-841f-81da6cc1bd51",
      "item_number": 101,
      "item_type": "story",
      "parent_id": "bca827a0-798d-4d46-b3a6-8fbee3e562bb",
      "position": 2,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Add New Configurable Fields to ValidationConfig",
      "updated_at": 1770932580,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 3
    },
    {
      "assignee_id": null,
      "created_at": 1770916097,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Register environment variable overrides for the two new fields so they can be set via PM_VALIDATION_MAX_COMMENT_LENGTH and PM_VALIDATION_MAX_SPRINT_NAME_LENGTH. Also update log_summary() to report the new values at startup.\n\n**File**: backend/crates/pm-config/src/config.rs\n\nAdd to apply_env_overrides() after the existing validation overrides (after line 367):\n\n```rust\nSelf::apply_env_parse(\n    &amp;quot;PM_VALIDATION_MAX_COMMENT_LENGTH&amp;quot;,\n    &amp;amp;mut self.validation.max_comment_length,\n);\nSelf::apply_env_parse(\n    &amp;quot;PM_VALIDATION_MAX_SPRINT_NAME_LENGTH&amp;quot;,\n    &amp;amp;mut self.validation.max_sprint_name_length,\n);\n```\n\nUpdate log_summary() to include the new fields. Change the existing validation log line (around line 247) from:\n\n```rust\ninfo!(\n    &amp;quot;  validation: title={}, desc={}, points={}&amp;quot;,\n    self.validation.max_title_length,\n    self.validation.max_description_length,\n    self.validation.max_story_points\n);\n```\n\nTo:\n\n```rust\ninfo!(\n    &amp;quot;  validation: title={}, desc={}, comment={}, sprint_name={}, points={}&amp;quot;,\n    self.validation.max_title_length,\n    self.validation.max_description_length,\n    self.validation.max_comment_length,\n    self.validation.max_sprint_name_length,\n    self.validation.max_story_points\n);\n```\n\nThis follows the established pattern ‚Äî every configurable field has an env override and appears in the startup log.\n\n**Dependencies**: Must run after PONE-105 (defines the struct fields that need env overrides).",
      "display_key": "PONE-106",
      "id": "c5277a1f-5c77-4838-b2c6-96d3733634a8",
      "item_number": 106,
      "item_type": "task",
      "parent_id": "46797433-f3ef-411d-841f-81da6cc1bd51",
      "position": 2,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Add environment variable overrides and logging for new fields",
      "updated_at": 1770932580,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 4
    },
    {
      "assignee_id": null,
      "created_at": 1770916131,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "WebSocketConnection creates HandlerContext for each incoming message. It needs to hold a ValidationConfig to pass into each HandlerContext::new() call.\n\n**File**: backend/crates/pm-ws/src/web_socket_connection.rs\n\nAdd ValidationConfig to both the params struct and the connection struct:\n\n```rust\nuse pm_config::ValidationConfig;\n\npub struct WebSocketConnectionParams {\n    pub connection_id: ConnectionId,\n    pub config: ConnectionConfig,\n    pub metrics: Metrics,\n    pub rate_limiter: ConnectionRateLimiter,\n    pub pool: SqlitePool,\n    pub circuit_breaker: Arc&amp;amp;lt;CircuitBreaker&amp;amp;gt;,\n    pub user_id: Uuid,\n    pub registry: ConnectionRegistry,\n    pub outgoing_rx: mpsc::Receiver&amp;amp;lt;Message&amp;amp;gt;,\n    pub outgoing_tx: mpsc::Sender&amp;amp;lt;Message&amp;amp;gt;,\n    pub validation: ValidationConfig,\n}\n\npub struct WebSocketConnection {\n    connection_id: ConnectionId,\n    config: ConnectionConfig,\n    metrics: Metrics,\n    rate_limiter: ConnectionRateLimiter,\n    pool: SqlitePool,\n    circuit_breaker: Arc&amp;amp;lt;CircuitBreaker&amp;amp;gt;,\n    user_id: Uuid,\n    subscriptions: ClientSubscriptions,\n    rate_limit_violations: u32,\n    registry: ConnectionRegistry,\n    outgoing_rx: mpsc::Receiver&amp;amp;lt;Message&amp;amp;gt;,\n    outgoing_tx: mpsc::Sender&amp;amp;lt;Message&amp;amp;gt;,\n    validation: ValidationConfig,\n}\n```\n\nThen update the HandlerContext::new() call (around line 272) to pass the validation config.\n\nNote: Since PONE-105 adds `#[derive(Copy)]` to ValidationConfig, use direct copy instead of `.clone()`:\n\n```rust\nlet ctx = HandlerContext::new(\n    msg.message_id.clone(),\n    self.user_id,\n    self.pool.clone(),\n    self.circuit_breaker.clone(),\n    self.connection_id.to_string(),\n    self.registry.clone(),\n    self.validation,  // Copy, not .clone()\n);\n```\n\nAlso update the WebSocketConnection::new() constructor to store params.validation (no clone needed ‚Äî it&amp;#x27;s Copy).\n\n**Dependencies**: Must run after PONE-109 (adds ValidationConfig to HandlerContext).",
      "display_key": "PONE-110",
      "id": "3b8974ea-ed74-4ad7-8cf3-26f7b9a261bb",
      "item_number": 110,
      "item_type": "task",
      "parent_id": "a836f879-9bd3-46de-8ac9-0ccdbbad06be",
      "position": 2,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Thread ValidationConfig through WebSocketConnection",
      "updated_at": 1770932580,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 7
    },
    {
      "assignee_id": null,
      "created_at": 1770916168,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Change validate_work_item_create() from hardcoded 200 (title) and 10000 (description) to reading from ValidationConfig. This fixes the original disconnect ‚Äî these values already existed in config but were never used.\n\n**BUG FIX: The inline description check must also use `.chars().count()` instead of `.len()`.**\n\nThe `validate_string` fix (PONE-113) handles the title check automatically, but the inline description length check uses `.len()` directly and must be fixed here.\n\n**File**: backend/crates/pm-ws/src/message_validator.rs\n\nBefore (lines 96-122):\n```rust\npub fn validate_work_item_create(\n    title: &amp;amp;str,\n    description: Option&amp;amp;lt;&amp;amp;str&amp;amp;gt;,\n    item_type: &amp;amp;str,\n) -&amp;amp;gt; WsErrorResult&amp;amp;lt;()&amp;amp;gt; {\n    Self::validate_string(title, &amp;quot;title&amp;quot;, 1, 200)?;\n\n    if let Some(desc) = description\n        &amp;amp;&amp;amp; desc.len() &amp;amp;gt; 10000\n    {\n        return Err(WsError::InvalidMessage {\n            message: &amp;quot;description exceeds maximum length (10000)&amp;quot;.to_string(),\n            location: ErrorLocation::from(Location::caller()),\n        });\n    }\n\n    match item_type { ... }\n}\n```\n\nAfter:\n```rust\npub fn validate_work_item_create(\n    title: &amp;amp;str,\n    description: Option&amp;amp;lt;&amp;amp;str&amp;amp;gt;,\n    item_type: &amp;amp;str,\n    config: &amp;amp;ValidationConfig,\n) -&amp;amp;gt; WsErrorResult&amp;amp;lt;()&amp;amp;gt; {\n    Self::validate_string(title, &amp;quot;title&amp;quot;, 1, config.max_title_length)?;\n\n    if let Some(desc) = description\n        &amp;amp;&amp;amp; desc.chars().count() &amp;amp;gt; config.max_description_length\n    {\n        return Err(WsError::InvalidMessage {\n            message: format!(\n                &amp;quot;description exceeds maximum length ({} characters)&amp;quot;,\n                config.max_description_length\n            ),\n            location: ErrorLocation::from(Location::caller()),\n        });\n    }\n\n    match item_type { ... }  // unchanged ‚Äî enum validation, not a limit\n}\n```\n\nNote: Error message now says &amp;quot;characters&amp;quot; which is accurate because we use `.chars().count()`.\n\n**Dependencies**: Must run after PONE-113 (fixes validate_string and establishes the config parameter pattern).",
      "display_key": "PONE-114",
      "id": "b43b86d7-3c7e-4dc4-94c2-bb061b24f4d5",
      "item_number": 114,
      "item_type": "task",
      "parent_id": "a1a87f55-5329-4051-b258-d7b055b651b3",
      "position": 2,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Update validate_work_item_create to use config title/description limits",
      "updated_at": 1770932580,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 6
    },
    {
      "assignee_id": null,
      "created_at": 1770916208,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Update all validation calls in the WebSocket work item handler. This includes both the MessageValidator calls AND the inline hardcoded description length check.\n\nCRITICAL: The apply_updates function is a standalone function that does NOT have access to HandlerContext. Its signature must be changed to accept &amp;amp;ValidationConfig.\n\n**BUG FIX: The inline description check in `apply_updates` must use `.chars().count()` instead of `.len()`, and the error message must accurately say &amp;quot;characters&amp;quot; (which is now correct since we use `.chars().count()`).**\n\n**File**: backend/crates/pm-ws/src/handlers/work_item.rs\n\nFour changes needed:\n\n1. Line 50 (handle_create ‚Äî calls validate_work_item_create):\nBefore:\n    MessageValidator::validate_work_item_create(&amp;amp;req.title, req.description.as_deref(), item_type.as_str())?;\nAfter:\n    MessageValidator::validate_work_item_create(&amp;amp;req.title, req.description.as_deref(), item_type.as_str(), &amp;amp;ctx.validation)?;\n\n2. Line 302 (handle_update ‚Äî calls apply_updates). Pass validation config:\nBefore:\n    apply_updates(&amp;amp;mut work_item, &amp;amp;req)?;\nAfter:\n    apply_updates(&amp;amp;mut work_item, &amp;amp;req, &amp;amp;ctx.validation)?;\n\n3. Line 475 (apply_updates function signature). Add ValidationConfig parameter:\nBefore:\n    fn apply_updates(work_item: &amp;amp;mut WorkItem, req: &amp;amp;UpdateWorkItemRequest) -&amp;amp;gt; Result&amp;amp;lt;(), WsError&amp;amp;gt; {\nAfter:\n    fn apply_updates(work_item: &amp;amp;mut WorkItem, req: &amp;amp;UpdateWorkItemRequest, validation: &amp;amp;ValidationConfig) -&amp;amp;gt; Result&amp;amp;lt;(), WsError&amp;amp;gt; {\n\nThen inside apply_updates:\n\n4a. Line 477 (title validation):\nBefore:\n    MessageValidator::validate_string(title, &amp;quot;title&amp;quot;, 1, 200)?;\nAfter:\n    MessageValidator::validate_string(title, &amp;quot;title&amp;quot;, 1, validation.max_title_length)?;\n\n4b. Line 481 (inline description check ‚Äî THE KEY FIX):\nBefore:\n    if desc.len() &amp;amp;gt; 10000 {\n        return Err(WsError::ValidationError {\n            message: &amp;quot;Description exceeds 10000 characters&amp;quot;.to_string(),\nAfter:\n    if desc.chars().count() &amp;amp;gt; validation.max_description_length {\n        return Err(WsError::ValidationError {\n            message: format!(&amp;quot;Description exceeds {} characters&amp;quot;, validation.max_description_length),\n\nAdd the import at top of file:\n    use pm_config::ValidationConfig;\n\n**Dependencies**: Must run after PONE-110 (threads config through WS connection) and PONE-114 (updates validator signature).",
      "display_key": "PONE-119",
      "id": "806d2f69-84a0-43e6-bc31-6d84e0fe9faa",
      "item_number": 119,
      "item_type": "task",
      "parent_id": "e83139bf-166b-41e6-ac23-323b8d1500a2",
      "position": 2,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Update WebSocket work_item handler to pass validation config",
      "updated_at": 1770932580,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 7
    },
    {
      "assignee_id": null,
      "created_at": 1770653980,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Display field changes with type-aware formatting (e.g., format dates properly, show enum values as labels, format JSON fields). Makes changes easier to understand at a glance.",
      "display_key": "PONE-4",
      "id": "b2cc0b5f-2bd5-4a39-a275-361cfb49029f",
      "item_number": 4,
      "item_type": "story",
      "parent_id": "8153adb6-3ac7-45c0-b88a-cdf6d5e3977d",
      "position": 3,
      "priority": "medium",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "backlog",
      "story_points": null,
      "title": "Implement rich field change formatting",
      "updated_at": 1770653980,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 1
    },
    {
      "assignee_id": null,
      "created_at": 1770654013,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Replace user_id display with UserAvatar component and user name in ActivityItem.razor",
      "display_key": "PONE-11",
      "id": "372b981e-6fd1-4c51-b575-c4c64bc890e5",
      "item_number": 11,
      "item_type": "task",
      "parent_id": "cd51931e-ddef-4a05-97b6-916779818b98",
      "position": 3,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "backlog",
      "story_points": null,
      "title": "Update ActivityItem to display user info",
      "updated_at": 1770654013,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 1
    },
    {
      "assignee_id": null,
      "created_at": 1770654013,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Add radio buttons or dropdown to allow grouping by date (today/yesterday/older) or by user",
      "display_key": "PONE-15",
      "id": "687cf1b1-542a-40a4-9794-e16159d567be",
      "item_number": 15,
      "item_type": "task",
      "parent_id": "160818dc-be06-4ff1-a980-1bc3db770161",
      "position": 3,
      "priority": "medium",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "backlog",
      "story_points": null,
      "title": "Add grouping controls to UI",
      "updated_at": 1770654013,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 1
    },
    {
      "assignee_id": null,
      "created_at": 1770654616,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "In pm-config/src/lib.rs: (1) Add &#x27;mod port_file;&#x27; declaration, (2) Add &#x27;pub use port_file::PortFileInfo;&#x27; re-export, (3) Change DEFAULT_PORT from 8000 to 0. In pm-config/src/server_config.rs: Update validation to allow port 0 as special auto-assign value: &#x27;if self.port \\!= 0 &amp;&amp; self.port &amp;lt; MIN_PORT&#x27;. Steps 3 &amp; 4 of 120.1",
      "display_key": "PONE-31",
      "id": "9ed72a6c-21e4-49ef-a5ad-c42117293124",
      "item_number": 31,
      "item_type": "task",
      "parent_id": "52d13747-5d19-4772-b74e-f290238b1ee1",
      "position": 3,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Update DEFAULT_PORT to 0",
      "updated_at": 1770654808,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 2
    },
    {
      "assignee_id": null,
      "created_at": 1770654624,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Update .pm/config.toml port from 8000 to 0 with same documentation as config.example.toml (port 0 auto-assign vs specific port tradeoffs). Step 5 of 120.2",
      "display_key": "PONE-35",
      "id": "b50776b0-1cb7-4beb-b0a2-5c502a3562f4",
      "item_number": 35,
      "item_type": "task",
      "parent_id": "ea1ace0b-1cfd-45f2-b5a8-c2a68a265915",
      "position": 3,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Update .pm/config.toml for port 0",
      "updated_at": 1770654792,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 2
    },
    {
      "assignee_id": null,
      "created_at": 1770655288,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "## ‚úÖ STATUS: COMPLETE - 2026-02-09\n\n**All stories complete and verified.**\n\nStories completed:\n- ‚úÖ **PONE-40**: Foundation - MarkdownRenderer component and packages\n- ‚úÖ **PONE-41**: Work item description markdown editor\n- ‚úÖ **PONE-42**: Comment markdown editor and viewer\n- ‚úÖ **PONE-43**: Markdown styling and polish (syntax highlighting)\n\nBuild status: ‚úÖ Clean\nTest status: ‚úÖ Clean\n\n**Scope changes during audit:**\n- Removed JavaScript-dependent features (toolbar, keyboard shortcuts, help cheatsheet)\n- Replaced Highlight.js with Markdown.ColorCode for zero-JS compliance\n- All functionality implemented in pure .NET\n\n---\n\n## PONE-39: Markdown Editor/Viewer for Descriptions and Comments\n\n### Overview\nAdd GitHub-style markdown support for work item descriptions and comments. Authors write in markdown with live preview, consumers see rendered HTML. Supports headings, bold/italic, code blocks (with syntax highlighting), tables, lists, links, blockquotes, images.\n\n### Architecture\n- **Frontend-only change** ‚Äî backend stores description/content as plain strings (no DB or API changes)\n- **Markdig** for markdown‚ÜíHTML conversion\n- **HtmlSanitizer** for XSS protection (whitelist-based, strips script/iframe/event handlers)\n- **Markdown.ColorCode** for code block syntax highlighting (pure .NET, no JavaScript)\n- **Blazor scoped CSS** for markdown styling using existing --rz-* theme variables\n\n### Story dependency chain\n1. **PONE-40** (Foundation) ‚Äî Installs packages, creates MarkdownRenderer\n2. **PONE-41** (Descriptions) and **PONE-42** (Comments) ‚Äî Run in parallel after PONE-40\n3. **PONE-43** (Polish) ‚Äî Syntax highlighting integration\n\n### Files created (4 new)\n- Shared/MarkdownRenderer.razor + .css\n- Shared/MarkdownEditor.razor + .css\n\n### Files modified (5 existing)\n- ProjectManagement.Components.csproj (add Markdig + HtmlSanitizer + Markdown.ColorCode)\n- WorkItems/WorkItemDialog.razor (swap textarea for MarkdownEditor)\n- Comments/CommentEditor.razor + .css (add Write/Preview tabs)\n- Comments/CommentList.razor + .css (swap plain text for MarkdownRenderer)\n- Pages/WorkItemDetail.razor (swap plain text for MarkdownRenderer)\n\n### Technology Replacements (Audit 2026-02-09)\n\n| Original | Replacement | Reason |\n|----------|-------------|--------|\n| Highlight.js (CDN) | Markdown.ColorCode | Pure .NET, runs in Blazor WASM, zero JS |\n| JSInterop cursor manipulation | Manual typing | User has full cursor control via mouse/keyboard |\n| Toolbar formatting buttons | None | Users type markdown manually |\n| Keyboard shortcuts (Ctrl+B/I/K) | None | No cursor position API without JS |\n| In-app help cheatsheet | External docs | User preference |\n\n### Implementation Impact\n\n**Reduced scope:**\n- 7 new files ‚Üí 4 new files\n- 7 modified files ‚Üí 5 modified files\n- Zero JavaScript files created\n- Zero CDN dependencies\n\n**User experience:**\n- Users type markdown manually in Write tab\n- Full cursor control via mouse/HOME/END/arrows\n- Preview tab shows rendered output with syntax highlighting\n- Reference external markdown guides for syntax help\n\n### What&#x27;s Now Available\n\nUsers can:\n- ‚úÖ Write markdown in work item descriptions and comments\n- ‚úÖ Preview markdown before saving (Write/Preview tabs)\n- ‚úÖ View rendered markdown with syntax highlighting (40+ languages)\n- ‚úÖ Use all standard markdown features (headings, lists, tables, links, images, code blocks)\n- ‚úÖ All features work in pure .NET (zero JavaScript)\n\n### Verification\n`just build-cs-components &amp;&amp; just build-cs-wasm`",
      "display_key": "PONE-39",
      "id": "27a7518a-3840-4aa6-9458-55df2e92ff47",
      "item_number": 39,
      "item_type": "epic",
      "parent_id": null,
      "position": 3,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Markdown Editor/Viewer for Descriptions and Comments",
      "updated_at": 1770676098,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 6
    },
    {
      "assignee_id": null,
      "created_at": 1770655300,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "## ‚úÖ STATUS: COMPLETE - 2026-02-09\n\n**All tasks complete and verified.**\n\nTasks completed:\n- ‚úÖ **PONE-48**: MarkdownEditor component created\n- ‚úÖ **PONE-49**: WorkItemDialog and WorkItemDetail updated\n\nBuild status: ‚úÖ Clean\nTest status: ‚úÖ Clean\n\n---\n\n## PONE-41: Work item description markdown editor\n\n### Summary\nReplace the plain RadzenTextArea in WorkItemDialog with a Write/Preview tabbed MarkdownEditor. Update WorkItemDetail to render descriptions as markdown.\n\n### Tasks\n- **PONE-48**: Create `Shared/MarkdownEditor.razor` + CSS (Write/Preview tabs, two-way binding, char count, monospace source font)\n- **PONE-49**: Swap RadzenTextArea for MarkdownEditor in WorkItemDialog.razor (lines 84-99). Also swap plain text rendering in WorkItemDetail.razor (lines 109-117) for MarkdownRenderer.\n\n### New files created\n- `frontend/ProjectManagement.Components/Shared/MarkdownEditor.razor`\n- `frontend/ProjectManagement.Components/Shared/MarkdownEditor.razor.css`\n\n### Files modified\n- `frontend/ProjectManagement.Components/WorkItems/WorkItemDialog.razor` (description section, lines 84-99)\n- `frontend/ProjectManagement.Wasm/Pages/WorkItemDetail.razor` (description display, lines 109-117)\n\n### Dependencies\nRequires PONE-40 (MarkdownRenderer must exist first).\n\n### Verification\n`just build-cs-components &amp;&amp; just build-cs-wasm`",
      "display_key": "PONE-41",
      "id": "cc67ae6d-6f7d-47da-9b05-1de8433933c7",
      "item_number": 41,
      "item_type": "story",
      "parent_id": "27a7518a-3840-4aa6-9458-55df2e92ff47",
      "position": 3,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Work item description markdown editor",
      "updated_at": 1770676098,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 5
    },
    {
      "assignee_id": null,
      "created_at": 1770655317,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "## ‚ö†Ô∏è TASK OBSOLETE (2026-02-09)\n\n**This task is NO LONGER NEEDED.**\n\n**Why:**\nWe removed HtmlSanitizer entirely from the project due to:\n1. Dependency conflicts with bUnit (testing framework)\n2. Security vulnerabilities in all available versions\n\n**What we&#x27;re doing instead:**\nUsing Markdig&#x27;s built-in `.DisableHtml()` method:\n- Escapes all HTML tags as plain text (no XSS risk)\n- More secure than post-processing sanitization\n- Zero external dependencies\n- Simpler implementation\n\n**For PONE-45 implementation:**\nWhen creating MarkdownRenderer component, use:\n```csharp\nvar pipeline = new MarkdownPipelineBuilder()\n    .DisableHtml()  // ‚Üê This replaces all HtmlSanitizer functionality\n    .Build();\n```\n\n**No whitelist configuration needed** - Markdig automatically escapes all HTML.\n\n---\n\n## ORIGINAL PLAN (obsolete)\n\n## PONE-46: Configure HtmlSanitizer whitelist\n\nNOTE: This task is now merged into PONE-45. The MarkdownRenderer component (PONE-45) includes the full sanitizer configuration with CreateSanitizer() method. The whitelist config lives inside the component as a static factory method.\n\n### What the whitelist allows\n**Tags**: h1-h6, p, a, strong, em, br, hr, img, del, pre, code, blockquote, table/thead/tbody/tr/th/td, ul/ol/li\n**Attributes**: class (for code highlighting), href (links), src/alt/title (images)\n**Schemes**: https, http only (no javascript: or data: URIs)\n\n### What the whitelist blocks\n- script, iframe, object, embed, form, input\n- Event handler attributes (onclick, onerror, onload, etc.)\n- javascript: and data: URI schemes\n- Any tag/attribute not explicitly whitelisted\n\n### Verification\nThis is verified as part of PONE-45. Can be independently tested by passing XSS payloads to MarkdownRenderer:\n- `&amp;lt;script&amp;gt;alert(1)&amp;lt;/script&amp;gt;` ‚Üí stripped entirely\n- `&amp;lt;img src=x onerror=alert(1)&amp;gt;` ‚Üí onerror attribute stripped\n- `[link](javascript:alert(1))` ‚Üí javascript: scheme blocked",
      "display_key": "PONE-46",
      "id": "d1fec8d5-477f-4c04-a542-f8abce4fd32f",
      "item_number": 46,
      "item_type": "task",
      "parent_id": "c81fc7d7-6aab-4fc8-bfa5-ed1a5e8fba5a",
      "position": 3,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Configure HtmlSanitizer whitelist",
      "updated_at": 1770676098,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 6
    },
    {
      "assignee_id": null,
      "created_at": 1770656663,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Handle work items with no parents (direct children of project), missing parents in cache (graceful degradation), and orphaned work items. Add component tests for parent chain building logic. Test navigation through breadcrumb links. Verify breadcrumbs update when navigating between work items.\n\nTASK SUMMARY:\n1. **PONE-65**: Verify work items with no parents display correctly (empty parent chain)\n2. **PONE-66**: Verify missing parents in cache are handled gracefully (partial chain shown)\n3. **PONE-67**: Add unit tests for BuildParentChain (3-level, 2-level, 1-level, no parent, missing parent)\n4. **PONE-68**: Integration testing - create full hierarchy, test navigation, verify breadcrumb updates\n\nEDGE CASES COVERED:\n- ParentId = null ‚Üí returns empty list, breadcrumb shows only current item\n- GetById(ParentId) returns null ‚Üí stops traversal, logs warning, shows partial chain\n- Different hierarchy depths: Epic only, Epic&amp;gt;Story, Epic&amp;gt;Story&amp;gt;Task\n- Navigation between items ‚Üí breadcrumb updates dynamically\n- Keyboard navigation and screen reader compatibility\n\nTESTING APPROACH:\n- Unit tests in ProjectManagement.Components.Tests/Pages/WorkItemDetailTests.cs\n- Mock AppState with test work item hierarchies\n- Verify BuildParentChain returns correct order and count\n- Integration tests create real hierarchy in UI, verify breadcrumb rendering and navigation\n\nOUTPUT: Comprehensive test coverage ensuring robust breadcrumb behavior",
      "display_key": "PONE-59",
      "id": "e2608c93-c96c-437a-bc14-b79a2487d7a2",
      "item_number": 59,
      "item_type": "story",
      "parent_id": "5773eef4-fabb-436a-879b-49c14e94a3ae",
      "position": 3,
      "priority": "medium",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Handle edge cases and add tests",
      "updated_at": 1770663298,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 4
    },
    {
      "assignee_id": null,
      "created_at": 1770656679,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "In LoadWorkItemAsync method (after loading _workItem), call _parentChain = BuildParentChain(_workItem). This populates the parent chain every time a work item is loaded. Happens before StateHasChanged() so breadcrumbs render with new data.\n\nCODE SNIPPET:\n```csharp\n// In LoadWorkItemAsync, add after line 274 (after loading children):\n// Build parent chain for breadcrumbs\n_parentChain = BuildParentChain(_workItem);\n```\n\nLOCATION: Inside LoadWorkItemAsync method, right after:\n```csharp\n// Load children\nvar children = AppState.WorkItems.GetChildren(WorkItemId);\n_children = ViewModelFactory.CreateMany(children).ToList();\n\n// ADD THIS LINE HERE:\n_parentChain = BuildParentChain(_workItem);\n```",
      "display_key": "PONE-62",
      "id": "cb00bec1-2e0c-4c28-8b39-78cdaf8885c8",
      "item_number": 62,
      "item_type": "task",
      "parent_id": "641e3412-3333-4f7d-b604-7736401a2651",
      "position": 3,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Call BuildParentChain in LoadWorkItemAsync",
      "updated_at": 1770663298,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 4
    },
    {
      "assignee_id": null,
      "created_at": 1770656695,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "DEPENDS ON: PONE-61 complete. Create unit tests for BuildParentChain method: 3-level (Epic&amp;gt;Story&amp;gt;Task), 2-level (Epic&amp;gt;Story), 1-level (Epic only), no parent (direct child), missing parent in cache, and MAX_DEPTH limit. Verify list order and content. Can be done in PARALLEL with PONE-63/64.\n\nNOTE: No need to test circular references - backend prevents those at data layer (work_item.rs:check_circular_reference). Frontend only tests depth limit for defensive programming.\n\nCODE SNIPPET (add to ProjectManagement.Components.Tests):\n```csharp\n// File: frontend/ProjectManagement.Components.Tests/Pages/WorkItemDetailTests.cs\nusing Xunit;\nusing FluentAssertions;\nusing ProjectManagement.Core.ViewModels;\nusing ProjectManagement.Wasm.Pages;\nusing Microsoft.Extensions.Logging;\nusing Moq;\n\npublic class WorkItemDetailBreadcrumbTests\n{\n    [Fact]\n    public void BuildParentChain_ThreeLevel_ReturnsCorrectOrder()\n    {\n        // Arrange: Epic -&amp;gt; Story -&amp;gt; Task\n        // Act: Call BuildParentChain on Task\n        // Assert: chain should be [Epic, Story] in that order\n    }\n    \n    [Fact]\n    public void BuildParentChain_TwoLevel_ReturnsCorrectOrder()\n    {\n        // Arrange: Epic -&amp;gt; Story\n        // Act: Call BuildParentChain on Story\n        // Assert: chain should be [Epic]\n    }\n    \n    [Fact]\n    public void BuildParentChain_NoParent_ReturnsEmptyList()\n    {\n        // Arrange: Epic with ParentId = null\n        // Act: Call BuildParentChain on Epic\n        // Assert: chain should be []\n    }\n    \n    [Fact]\n    public void BuildParentChain_MissingParent_StopsGracefully()\n    {\n        // Arrange: Task with ParentId pointing to non-existent item in AppState\n        // Act: Call BuildParentChain\n        // Assert: chain stops at last valid parent, logs warning\n    }\n    \n    [Fact]\n    public void BuildParentChain_MaxDepthReached_StopsAndLogs()\n    {\n        // Arrange: Create hierarchy deeper than MAX_DEPTH (20)\n        // Act: Call BuildParentChain\n        // Assert: chain stops at MAX_DEPTH, logs warning about potential corruption\n        // Note: This shouldn&#x27;t happen in production (backend prevents it)\n    }\n}\n```\n\nTEST FOCUS:\n- Verify correct parent chain order (root -&amp;gt; current)\n- Verify edge cases handled (null parent, missing cache entry)\n- Verify depth limit prevents runaway loops\n- Verify proper logging on edge cases\n- NO circular reference tests (backend responsibility)",
      "display_key": "PONE-67",
      "id": "770ddaed-a213-44e8-9104-288035fe9bbd",
      "item_number": 67,
      "item_type": "task",
      "parent_id": "e2608c93-c96c-437a-bc14-b79a2487d7a2",
      "position": 3,
      "priority": "low",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Add component tests for parent chain logic",
      "updated_at": 1770663298,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 6
    },
    {
      "assignee_id": null,
      "created_at": 1770916051,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Add ValidationConfig to the chain: AppState -&amp;gt; WebSocketConnectionParams -&amp;gt; WebSocketConnection -&amp;gt; HandlerContext. This makes the config values accessible from every WebSocket handler and REST API handler.\n\nWhy second: MessageValidator methods (Story 3) need to receive config values. Those values come from HandlerContext (WS) or AppState (REST). This story builds the plumbing so Story 3 and 4 can consume it.\n\nAcceptance Criteria:\n- HandlerContext has a validation: ValidationConfig field\n- WebSocketConnectionParams/WebSocketConnection carry ValidationConfig\n- AppState has a validation: ValidationConfig field\n- Server startup passes config.validation into AppState\n- All existing tests still pass (constructor signatures change)\n\nFiles: context.rs, web_socket_connection.rs, app_state.rs, pm-server/src/main.rs",
      "display_key": "PONE-102",
      "id": "a836f879-9bd3-46de-8ac9-0ccdbbad06be",
      "item_number": 102,
      "item_type": "story",
      "parent_id": "bca827a0-798d-4d46-b3a6-8fbee3e562bb",
      "position": 3,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Thread ValidationConfig Through the Handler Pipeline",
      "updated_at": 1770932580,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 4
    },
    {
      "assignee_id": null,
      "created_at": 1770916097,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Add documentation for the new configurable validation fields to the example config file. This is the primary user-facing documentation for config options.\n\n**File**: backend/config.example.toml\n\nAdd after the existing max_story_points line (around line 203), before max_error_message_length:\n\n```toml\n# Maximum length for comment content (range: 1-50000, default: 5000)\n# Controls the character limit for comments on work items\nmax_comment_length = 5000\n\n# Maximum length for sprint names (range: 1-500, default: 100)\n# Controls the character limit for sprint name fields\nmax_sprint_name_length = 100\n```\n\nAlso update the header comment at the top of the file (around line 10) to include the new env var examples:\n\n```toml\n#   PM_VALIDATION_MAX_COMMENT_LENGTH=10000  overrides [validation].max_comment_length\n```\n\n**Dependencies**: Must run after PONE-105 (defines the fields being documented).",
      "display_key": "PONE-107",
      "id": "5053cb12-a15a-46b0-8f76-ca125ca68217",
      "item_number": 107,
      "item_type": "task",
      "parent_id": "46797433-f3ef-411d-841f-81da6cc1bd51",
      "position": 3,
      "priority": "medium",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Document new validation fields in config.example.toml",
      "updated_at": 1770932580,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 4
    },
    {
      "assignee_id": null,
      "created_at": 1770916131,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "AppState is the shared state for both WebSocket upgrade handling and REST API handlers. It needs a ValidationConfig field so:\n1. The WS upgrade path can pass it into WebSocketConnectionParams\n2. REST API handlers can access it directly via State(state)\n\n**File**: backend/crates/pm-ws/src/app_state.rs\n\nAdd the field to AppState:\n\n```rust\nuse pm_config::{ApiConfig, ValidationConfig};\n\npub struct AppState {\n    pub pool: SqlitePool,\n    pub circuit_breaker: Arc&amp;lt;CircuitBreaker&amp;gt;,\n    pub jwt_validator: Option&amp;lt;Arc&amp;lt;JwtValidator&amp;gt;&amp;gt;,\n    pub desktop_user_id: String,\n    pub rate_limiter_factory: RateLimiterFactory,\n    pub registry: ConnectionRegistry,\n    pub metrics: Metrics,\n    pub shutdown: ShutdownCoordinator,\n    pub config: ConnectionConfig,\n    pub api_config: ApiConfig,\n    pub validation: ValidationConfig,\n}\n```\n\nUpdate handle_socket() to pass validation config when creating WebSocketConnectionParams (around line 101):\n\n```rust\nlet connection = WebSocketConnection::new(WebSocketConnectionParams {\n    connection_id,\n    config: state.config,\n    metrics: state.metrics.clone(),\n    rate_limiter,\n    pool: state.pool.clone(),\n    circuit_breaker: state.circuit_breaker.clone(),\n    user_id,\n    registry: state.registry.clone(),\n    outgoing_rx: rx,\n    outgoing_tx: tx,\n    validation: state.validation,  // Copy, not .clone()\n});\n```\n\nNote: Since PONE-105 adds `#[derive(Copy)]`, use direct copy ‚Äî no `.clone()` needed. This requires updating wherever AppState is constructed (in pm-server main.rs) to include the validation field. That is PONE-112.\n\n**Dependencies**: Must run after PONE-109 (adds ValidationConfig to HandlerContext, which AppState feeds into).",
      "display_key": "PONE-111",
      "id": "978cad54-1509-4cba-bb7f-4696970453db",
      "item_number": 111,
      "item_type": "task",
      "parent_id": "a836f879-9bd3-46de-8ac9-0ccdbbad06be",
      "position": 3,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Add ValidationConfig to AppState and wire to WebSocketConnection",
      "updated_at": 1770932580,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 5
    },
    {
      "assignee_id": null,
      "created_at": 1770916168,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Change validate_sprint_create() from hardcoded 100 to reading from ValidationConfig. The date validation stays hardcoded ‚Äî those are sanity checks, not configurable limits.\n\n**File**: backend/crates/pm-ws/src/message_validator.rs\n\nBefore (line 131-134):\n```rust\npub fn validate_sprint_create(name: &amp;amp;str, start_date: i64, end_date: i64) -&amp;amp;gt; WsErrorResult&amp;amp;lt;()&amp;amp;gt; {\n    Self::validate_string(name, &amp;quot;name&amp;quot;, 1, 100)?;\n    // ... date validation unchanged\n}\n```\n\nAfter:\n```rust\npub fn validate_sprint_create(\n    name: &amp;amp;str,\n    start_date: i64,\n    end_date: i64,\n    config: &amp;amp;ValidationConfig,\n) -&amp;amp;gt; WsErrorResult&amp;amp;lt;()&amp;amp;gt; {\n    Self::validate_string(name, &amp;quot;name&amp;quot;, 1, config.max_sprint_name_length)?;\n    // ... date validation unchanged\n}\n```\n\nOnly the name limit changes. Start/end date validation (one year ago to five years future) stays hardcoded as structural sanity checks.\n\n**Dependencies**: Must run after PONE-113 (fixes validate_string and establishes the config parameter pattern).",
      "display_key": "PONE-115",
      "id": "9f88d12c-2748-4a83-b873-b0a28c13ee20",
      "item_number": 115,
      "item_type": "task",
      "parent_id": "a1a87f55-5329-4051-b258-d7b055b651b3",
      "position": 3,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Update validate_sprint_create to use config.max_sprint_name_length",
      "updated_at": 1770932580,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 5
    },
    {
      "assignee_id": null,
      "created_at": 1770916208,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Update the MessageValidator calls in the WebSocket sprint handler. There are two call sites ‚Äî one in create, one in update.\n\n**File**: backend/crates/pm-ws/src/handlers/sprint.rs\n\n1. Line 58 (handle_create_sprint):\nBefore:\n```rust\nMessageValidator::validate_sprint_create(&amp;amp;req.name, req.start_date, req.end_date)?;\n```\nAfter:\n```rust\nMessageValidator::validate_sprint_create(&amp;amp;req.name, req.start_date, req.end_date, &amp;amp;ctx.validation)?;\n```\n\n2. Line 231 (handle_update_sprint ‚Äî name validation):\nBefore:\n```rust\nMessageValidator::validate_string(name, &amp;quot;name&amp;quot;, 1, 100)?;\n```\nAfter:\n```rust\nMessageValidator::validate_string(name, &amp;quot;name&amp;quot;, 1, ctx.validation.max_sprint_name_length)?;\n```\n\nNote: The update handler calls validate_string directly (not validate_sprint_create) because it only validates changed fields. The hardcoded 100 here must match the config value.\n\n**Dependencies**: Must run after PONE-110 (threads config through WS connection) and PONE-115 (updates validator signature).",
      "display_key": "PONE-120",
      "id": "08663e6d-de8e-4509-91c1-cdc39b6e5d25",
      "item_number": 120,
      "item_type": "task",
      "parent_id": "e83139bf-166b-41e6-ac23-323b8d1500a2",
      "position": 3,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Update WebSocket sprint handler to pass validation config",
      "updated_at": 1770932580,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 5
    },
    {
      "assignee_id": null,
      "created_at": 1770653982,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Implement search functionality to find specific activity entries by action, field name, or value. Essential for auditing and reviewing specific changes.",
      "display_key": "PONE-5",
      "id": "7886389c-e4e6-4a0d-b5fe-207091f84980",
      "item_number": 5,
      "item_type": "story",
      "parent_id": "8153adb6-3ac7-45c0-b88a-cdf6d5e3977d",
      "position": 4,
      "priority": "medium",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "backlog",
      "story_points": null,
      "title": "Add activity search capability",
      "updated_at": 1770653982,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 1
    },
    {
      "assignee_id": null,
      "created_at": 1770654013,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Add in-memory cache for user data to avoid repeated backend calls for the same users",
      "display_key": "PONE-12",
      "id": "7d0abbd5-52bb-4f71-9a19-afe9faf414d5",
      "item_number": 12,
      "item_type": "task",
      "parent_id": "cd51931e-ddef-4a05-97b6-916779818b98",
      "position": 4,
      "priority": "medium",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "backlog",
      "story_points": null,
      "title": "Implement user data caching",
      "updated_at": 1770654013,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 1
    },
    {
      "assignee_id": null,
      "created_at": 1770654015,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Group activity entries by selected criteria and render group headers in the activity list",
      "display_key": "PONE-16",
      "id": "abdd25b0-e314-4c79-9b2d-b102f801c7be",
      "item_number": 16,
      "item_type": "task",
      "parent_id": "160818dc-be06-4ff1-a980-1bc3db770161",
      "position": 4,
      "priority": "medium",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "backlog",
      "story_points": null,
      "title": "Implement grouping logic and display",
      "updated_at": 1770654015,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 1
    },
    {
      "assignee_id": null,
      "created_at": 1770654618,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Create pm-config/src/tests/port_file.rs with 12 comprehensive tests: write/read tests (2), read_live PID liveness tests (3), remove tests (2), race condition protection tests (2), edge case tests (3 including directory creation, malformed JSON). Also add 2 port 0 validation tests to pm-config/src/tests/server.rs. Total: 14 tests. Steps 5 &amp; 6 of 120.1",
      "display_key": "PONE-32",
      "id": "d05b9918-6956-471e-974e-ec2c34481cf6",
      "item_number": 32,
      "item_type": "task",
      "parent_id": "52d13747-5d19-4772-b74e-f290238b1ee1",
      "position": 4,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Write comprehensive port_file tests",
      "updated_at": 1770654812,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 2
    },
    {
      "assignee_id": null,
      "created_at": 1770654779,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Update pm-cli/src/cli.rs help text from &#x27;Server URL (default: http://127.0.0.1:8000)&#x27; to &#x27;Server URL (auto-discovered from server.json, or specify manually)&#x27;. Step 3 of 120.2",
      "display_key": "PONE-37",
      "id": "47b3187d-37fb-44a8-86d7-4572c12e0693",
      "item_number": 37,
      "item_type": "task",
      "parent_id": "ea1ace0b-1cfd-45f2-b5a8-c2a68a265915",
      "position": 4,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Update CLI help text for --server flag",
      "updated_at": 1770654779,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 1
    },
    {
      "assignee_id": null,
      "created_at": 1770655305,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "## ‚úÖ STATUS: COMPLETE - 2026-02-09\n\n**All tasks complete and verified.**\n\nTasks completed:\n- ‚úÖ **PONE-54**: Syntax highlighting for code blocks implemented\n- ‚ùå **PONE-52**: Markdown toolbar (removed - JavaScript constraint)\n- ‚ùå **PONE-53**: Keyboard shortcuts (removed - JavaScript constraint)\n- ‚ùå **PONE-55**: Help cheatsheet (removed - user preference)\n\nBuild status: ‚úÖ Clean\nTest status: ‚úÖ Clean\n\n---\n\n## PONE-43: Markdown styling and polish\n\n**Updated during audit (2026-02-09):** Scope reduced to syntax highlighting only. Toolbar (PONE-52), keyboard shortcuts (PONE-53), and help cheatsheet (PONE-55) removed to maintain zero-JS constraint.\n\n### Summary\nAdd syntax highlighting for code blocks in markdown preview using Markdown.ColorCode (pure .NET, no JavaScript).\n\n### Tasks\n- ~~**PONE-52**: Markdown toolbar component~~ (removed - requires JavaScript cursor API)\n- ~~**PONE-53**: Keyboard shortcuts for markdown~~ (removed - requires JSInterop)\n- **PONE-54**: Syntax highlighting for code blocks (Markdown.ColorCode)\n- ~~**PONE-55**: Markdown help cheatsheet~~ (removed - user preference: external docs)\n\n### Scope After Audit\n\n**What&#x27;s included:**\n- ‚úÖ Syntax highlighting for code blocks using Markdown.ColorCode\n- ‚úÖ Support for 40+ languages (C#, JavaScript, Python, SQL, Rust, etc.)\n- ‚úÖ GitHub-style code block styling with CSS\n- ‚úÖ Pure .NET implementation (runs in Blazor WASM)\n\n**What&#x27;s excluded:**\n- ‚ùå Toolbar formatting buttons (requires JavaScript cursor API)\n- ‚ùå Keyboard shortcuts (requires JSInterop)\n- ‚ùå In-app help cheatsheet (user preference: external docs)\n\n### User Experience\n\n**Write tab:**\n- Users type markdown manually with full cursor control (mouse, HOME, END, arrows)\n- Standard markdown code fence syntax works automatically\n\n**Preview tab:**\n- Code blocks rendered with syntax highlighting\n- Colors follow existing Radzen theme\n- Supports inline `code` and fenced ```blocks```\n\n### Files Modified\n- `frontend/ProjectManagement.Components/Shared/MarkdownRenderer.razor` (add ColorCode highlighting)\n- `frontend/ProjectManagement.Components/Shared/MarkdownRenderer.razor.css` (add code block styling)\n\n### Dependencies\nRequires PONE-41 (MarkdownEditor must exist for integration testing, though ColorCode itself only depends on PONE-40).\n\n### Verification\n`just build-cs-components &amp;&amp; just build-cs-wasm`",
      "display_key": "PONE-43",
      "id": "73e4ae98-43aa-4ebf-aca0-1ed435b9a2b8",
      "item_number": 43,
      "item_type": "story",
      "parent_id": "27a7518a-3840-4aa6-9458-55df2e92ff47",
      "position": 4,
      "priority": "medium",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Markdown styling and polish",
      "updated_at": 1770676098,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 6
    },
    {
      "assignee_id": null,
      "created_at": 1770655320,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "## ‚ö†Ô∏è ACTUAL IMPLEMENTATION (2026-02-09)\n\n**What we did:**\n‚úÖ Created `frontend/ProjectManagement.Components/Shared/MarkdownRenderer.razor.css` (78 lines)\n\n**Implementation matches original plan:**\n- Scoped CSS using `.razor.css`\n- Radzen theme variables (`--rz-*`)\n- Styles for all markdown elements (headings, code, tables, lists, blockquotes, etc.)\n\n**Minor differences from plan:**\n- Slightly different font-size values (2rem vs 1.5em for h1)\n- Added more spacing and layout refinements\n- All changes maintain same visual goals\n\n**Files created:**\n`Shared/MarkdownRenderer.razor.css` - Complete markdown styling\n\n**Verification:** ‚úÖ `just build-cs-components` succeeds with 0 errors, 0 warnings\n\n---\n\n## ORIGINAL PLAN\n\n## PONE-47: Add basic markdown CSS styles\n\n### New file\n`frontend/ProjectManagement.Components/Shared/MarkdownRenderer.razor.css`\n\n### Implementation\n```css\n.markdown-body {\n    line-height: 1.6;\n    word-wrap: break-word;\n}\n\n.markdown-body h1,\n.markdown-body h2,\n.markdown-body h3,\n.markdown-body h4,\n.markdown-body h5,\n.markdown-body h6 {\n    margin-top: 1.25em;\n    margin-bottom: 0.5em;\n    font-weight: 600;\n    line-height: 1.25;\n}\n\n.markdown-body h1 { font-size: 1.5em; border-bottom: 1px solid var(--rz-border-color); padding-bottom: 0.3em; }\n.markdown-body h2 { font-size: 1.3em; border-bottom: 1px solid var(--rz-border-color); padding-bottom: 0.3em; }\n.markdown-body h3 { font-size: 1.15em; }\n.markdown-body h4 { font-size: 1em; }\n\n.markdown-body p {\n    margin-top: 0;\n    margin-bottom: 0.75em;\n}\n\n.markdown-body code {\n    padding: 0.2em 0.4em;\n    font-size: 85%;\n    background-color: var(--rz-base-200);\n    border-radius: 4px;\n    font-family: var(--rz-font-family-monospace, &#x27;Courier New&#x27;, Courier, monospace);\n}\n\n.markdown-body pre {\n    padding: 1rem;\n    overflow-x: auto;\n    background-color: var(--rz-base-200);\n    border-radius: 6px;\n    margin-bottom: 0.75em;\n}\n\n.markdown-body pre code {\n    padding: 0;\n    background: none;\n    font-size: 85%;\n}\n\n.markdown-body blockquote {\n    margin: 0 0 0.75em 0;\n    padding: 0.5em 1em;\n    border-left: 4px solid var(--rz-primary);\n    color: var(--rz-text-secondary-color);\n    background-color: var(--rz-base-100);\n}\n\n.markdown-body table {\n    border-collapse: collapse;\n    width: 100%;\n    margin-bottom: 0.75em;\n}\n\n.markdown-body th,\n.markdown-body td {\n    padding: 0.5em 0.75em;\n    border: 1px solid var(--rz-border-color);\n    text-align: left;\n}\n\n.markdown-body th {\n    font-weight: 600;\n    background-color: var(--rz-base-200);\n}\n\n.markdown-body ul,\n.markdown-body ol {\n    padding-left: 2em;\n    margin-bottom: 0.75em;\n}\n\n.markdown-body li + li {\n    margin-top: 0.25em;\n}\n\n.markdown-body a {\n    color: var(--rz-primary);\n    text-decoration: none;\n}\n\n.markdown-body a:hover {\n    text-decoration: underline;\n}\n\n.markdown-body img {\n    max-width: 100%;\n    height: auto;\n    border-radius: 4px;\n}\n\n.markdown-body hr {\n    border: none;\n    border-top: 2px solid var(--rz-border-color);\n    margin: 1.5em 0;\n}\n\n.markdown-body del {\n    color: var(--rz-text-secondary-color);\n}\n```\n\n### Key design decisions\n- Uses Radzen CSS variables (--rz-*) to stay consistent with the existing theme\n- Scoped CSS via .razor.css so styles only apply within MarkdownRenderer component\n- Code blocks use the same monospace font var as existing WorkItemDetail sidebar\n- Blockquote uses --rz-primary for the left border accent\n\n### Verification\nRun: `just build-cs-components`\nThen visually verify by rendering markdown with headings, code blocks, tables, lists, blockquotes.",
      "display_key": "PONE-47",
      "id": "939d422a-bdb7-40dd-bc0b-b1ccdcba4ac3",
      "item_number": 47,
      "item_type": "task",
      "parent_id": "c81fc7d7-6aab-4fc8-bfa5-ed1a5e8fba5a",
      "position": 4,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Add basic markdown CSS styles",
      "updated_at": 1770676098,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 5
    },
    {
      "assignee_id": null,
      "created_at": 1770656635,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Add full parent hierarchy to breadcrumbs. Currently shows &#x27;Home &amp;gt; Project &amp;gt; TASK-123&#x27;, should show &#x27;Home &amp;gt; Project &amp;gt; Epic &amp;gt; Story &amp;gt; Task&#x27;. All data already cached in AppState, just need to walk parent chain using ParentId. Zero performance impact - O(depth) where depth = 3-4 max. Frontend-only change in WorkItemDetail.razor.\n\n## Backend Protection (IMPORTANT)\n\n**Circular references are IMPOSSIBLE in production data:**\n- Backend validates parent changes in `backend/crates/pm-ws/src/handlers/work_item.rs:586-634`\n- `check_circular_reference` function walks parent chain before accepting parent updates\n- MAX_DEPTH = 100 on backend prevents excessively deep hierarchies\n- Any attempt to create A‚ÜíB‚ÜíC‚ÜíA cycle is REJECTED server-side with validation error\n\n**Frontend Implementation:**\n- NO cycle detection needed (backend guarantees data integrity)\n- Simple MAX_DEPTH = 20 limit for defensive programming only\n- Handles edge cases: missing parents, race conditions, corrupted state\n- Uses ILogger for warnings, not Console.WriteLine\n\n## Implementation Details\n\n**Stories:**\n1. **PONE-57**: Parent chain traversal logic (BuildParentChain method with depth limit)\n2. **PONE-58**: Breadcrumb rendering HTML (loop through parents, show keys with title tooltips)\n3. **PONE-59**: Edge cases and tests (depth limit, missing parents, integration tests)\n\n**Breadcrumb Display:**\n- Shows work item keys (PONE-57) instead of full titles for compact display\n- Hover tooltips show full titles (title=&quot;{work item title}&quot; attribute)\n- Example: Home / P1 / PONE-56 / PONE-57 / PONE-60\n- All parent links clickable, current item non-clickable with class=&quot;current&quot;\n\n**Performance:**\n- O(depth) where depth ‚â§ 4 typical, ‚â§ 20 enforced by frontend limit\n- All lookups from in-memory AppState cache\n- Zero DB queries, zero WebSocket calls\n- Breadcrumb updates dynamically on navigation",
      "display_key": "PONE-56",
      "id": "5773eef4-fabb-436a-879b-49c14e94a3ae",
      "item_number": 56,
      "item_type": "epic",
      "parent_id": null,
      "position": 4,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Fix work item breadcrumb hierarchy navigation",
      "updated_at": 1770663298,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 4
    },
    {
      "assignee_id": null,
      "created_at": 1770656697,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "DEPENDS ON: ALL other tasks complete (PONE-60 through PONE-67). Final integration testing: create Epic&amp;gt;Story&amp;gt;Task hierarchy, navigate to Task, verify breadcrumb shows full path with work item keys. Click each parent link, verify navigation. Test breadcrumb updates when navigating between items. Verify tooltips show full titles on hover. Test different hierarchy depths. THIS IS THE LAST TASK.\n\nINTEGRATION TEST PLAN:\n1. Create test hierarchy:\n   - Epic: &quot;User Authentication&quot; (PONE-1)\n   - Story: &quot;OAuth Integration&quot; (PONE-2, parent=PONE-1)\n   - Task: &quot;Add Google provider&quot; (PONE-3, parent=PONE-2)\n\n2. Navigate to Task (PONE-3)\n   - Verify breadcrumb shows: Home / P1 / PONE-1 / PONE-2 / PONE-3\n   - Verify PONE-1 and PONE-2 are clickable links\n   - Verify PONE-3 is non-clickable (class=&quot;current&quot;)\n   - **Hover over PONE-1**: tooltip shows &quot;User Authentication&quot;\n   - **Hover over PONE-2**: tooltip shows &quot;OAuth Integration&quot;\n   - **Hover over PONE-3**: tooltip shows &quot;Add Google provider&quot;\n\n3. Click PONE-2 link\n   - Verify navigation to Story page\n   - Verify breadcrumb shows: Home / P1 / PONE-1 / PONE-2\n   - Verify tooltip on PONE-2 shows &quot;OAuth Integration&quot;\n\n4. Click PONE-1 link\n   - Verify navigation to Epic page\n   - Verify breadcrumb shows: Home / P1 / PONE-1\n   - Verify tooltip on PONE-1 shows &quot;User Authentication&quot;\n\n5. Test direct child of project\n   - Navigate to Epic (PONE-1, no parent)\n   - Verify breadcrumb shows: Home / P1 / PONE-1\n   - No intermediate parents shown\n\n6. Test different depths\n   - 1-level: Epic only (shows key)\n   - 2-level: Epic &amp;gt; Story (both show keys)\n   - 3-level: Epic &amp;gt; Story &amp;gt; Task (all show keys)\n\nACCEPTANCE CRITERIA:\n‚úÖ All parent links show work item keys (PONE-XX), not titles\n‚úÖ All work items have title tooltips on hover\n‚úÖ All parent links are clickable and navigate correctly\n‚úÖ Current item is non-clickable with .current class\n‚úÖ Separators appear between all items\n‚úÖ Breadcrumb updates dynamically when navigating\n‚úÖ Tooltips persist across navigation\n‚úÖ No console errors or warnings (except intentional missing parent test)",
      "display_key": "PONE-68",
      "id": "2fc28251-f9cf-48dd-81b1-4aa3047779b8",
      "item_number": 68,
      "item_type": "task",
      "parent_id": "e2608c93-c96c-437a-bc14-b79a2487d7a2",
      "position": 4,
      "priority": "low",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Test breadcrumb navigation and updates",
      "updated_at": 1770663298,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 6
    },
    {
      "assignee_id": null,
      "created_at": 1770916051,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Change MessageValidator static methods to accept a &amp;ValidationConfig parameter instead of using hardcoded literals. Each validation method reads the relevant limit from the config struct. The generic validate_string() stays unchanged (it already takes explicit min/max params).\n\nWhy third: Depends on Story 1 (fields exist) and Story 2 (config is accessible). This story changes the validator API, which Story 4 then consumes at every call site.\n\nAcceptance Criteria:\n- validate_comment_create() uses config.max_comment_length\n- validate_work_item_create() uses config.max_title_length and config.max_description_length\n- validate_sprint_create() uses config.max_sprint_name_length\n- validate_project_create() uses config.max_title_length and config.max_description_length\n- All MessageValidator unit tests updated to pass ValidationConfig::default()\n\nFiles: message_validator.rs, tests/message_validator.rs",
      "display_key": "PONE-103",
      "id": "a1a87f55-5329-4051-b258-d7b055b651b3",
      "item_number": 103,
      "item_type": "story",
      "parent_id": "bca827a0-798d-4d46-b3a6-8fbee3e562bb",
      "position": 4,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Update MessageValidator to Accept Config Values",
      "updated_at": 1770932580,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 4
    },
    {
      "assignee_id": null,
      "created_at": 1770916097,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Add tests verifying that the new fields reject out-of-bounds values and accept valid overrides. Follow the exact pattern used by the existing tests in this file.\n\n**BUG FIX: Also add tests for invalid (non-numeric) environment variable values.**\n\nThe existing tests only check numeric out-of-bounds. They should also verify behavior when env vars contain non-numeric strings (e.g., &quot;abc&quot;), empty strings, or negative numbers.\n\n**File**: backend/crates/pm-config/src/tests/validation.rs\n\nNote: Use the renamed constants from PONE-105 (`MIN_CONFIGURABLE_*` / `MAX_CONFIGURABLE_*`) in test boundary values. The test values (0, 50001, 501) remain the same since they test just outside the valid range.\n\nAdd these tests after the existing ones:\n\n```rust\n#[test]\n#[serial]\nfn given_max_comment_length_zero_when_validate_then_error() {\n    let _temp = setup_config_dir();\n    let _length = EnvGuard::set(&quot;PM_VALIDATION_MAX_COMMENT_LENGTH&quot;, &quot;0&quot;);\n    let config = Config::load().unwrap();\n    let result = config.validate();\n    assert_that!(result, err(anything()));\n}\n\n#[test]\n#[serial]\nfn given_max_comment_length_over_max_when_validate_then_error() {\n    let _temp = setup_config_dir();\n    let _length = EnvGuard::set(&quot;PM_VALIDATION_MAX_COMMENT_LENGTH&quot;, &quot;50001&quot;);\n    let config = Config::load().unwrap();\n    let result = config.validate();\n    assert_that!(result, err(anything()));\n}\n\n#[test]\n#[serial]\nfn given_max_sprint_name_length_zero_when_validate_then_error() {\n    let _temp = setup_config_dir();\n    let _length = EnvGuard::set(&quot;PM_VALIDATION_MAX_SPRINT_NAME_LENGTH&quot;, &quot;0&quot;);\n    let config = Config::load().unwrap();\n    let result = config.validate();\n    assert_that!(result, err(anything()));\n}\n\n#[test]\n#[serial]\nfn given_max_sprint_name_length_over_max_when_validate_then_error() {\n    let _temp = setup_config_dir();\n    let _length = EnvGuard::set(&quot;PM_VALIDATION_MAX_SPRINT_NAME_LENGTH&quot;, &quot;501&quot;);\n    let config = Config::load().unwrap();\n    let result = config.validate();\n    assert_that!(result, err(anything()));\n}\n```\n\n**New tests for invalid env var values:**\n\n```rust\n#[test]\n#[serial]\nfn given_non_numeric_max_comment_length_when_load_then_error() {\n    let _temp = setup_config_dir();\n    let _length = EnvGuard::set(&quot;PM_VALIDATION_MAX_COMMENT_LENGTH&quot;, &quot;abc&quot;);\n    let result = Config::load();\n    // Should fail at deserialization, not validation\n    assert!(result.is_err());\n}\n\n#[test]\n#[serial]\nfn given_negative_max_comment_length_when_load_then_error() {\n    let _temp = setup_config_dir();\n    let _length = EnvGuard::set(&quot;PM_VALIDATION_MAX_COMMENT_LENGTH&quot;, &quot;-1&quot;);\n    let result = Config::load();\n    // usize cannot be negative ‚Äî should fail at deserialization\n    assert!(result.is_err());\n}\n\n#[test]\n#[serial]\nfn given_empty_max_sprint_name_length_when_load_then_error() {\n    let _temp = setup_config_dir();\n    let _length = EnvGuard::set(&quot;PM_VALIDATION_MAX_SPRINT_NAME_LENGTH&quot;, &quot;&quot;);\n    let result = Config::load();\n    assert!(result.is_err());\n}\n```\n\nAlso update the existing valid_validation_config test to include the new fields:\n\n```rust\n#[test]\n#[serial]\nfn given_valid_validation_config_when_validate_then_ok() {\n    let _temp = setup_config_dir();\n    let _title = EnvGuard::set(&quot;PM_VALIDATION_MAX_TITLE_LENGTH&quot;, &quot;300&quot;);\n    let _desc = EnvGuard::set(&quot;PM_VALIDATION_MAX_DESCRIPTION_LENGTH&quot;, &quot;50000&quot;);\n    let _points = EnvGuard::set(&quot;PM_VALIDATION_MAX_STORY_POINTS&quot;, &quot;200&quot;);\n    let _comment = EnvGuard::set(&quot;PM_VALIDATION_MAX_COMMENT_LENGTH&quot;, &quot;10000&quot;);\n    let _sprint = EnvGuard::set(&quot;PM_VALIDATION_MAX_SPRINT_NAME_LENGTH&quot;, &quot;250&quot;);\n\n    let config = Config::load().unwrap();\n    let result = config.validate();\n    assert_that!(result, ok(anything()));\n}\n```\n\nVerify: just test-rs-config\n\n**Dependencies**: Must run after PONE-105 (defines the constants and fields) and PONE-106 (registers the env var overrides being tested).",
      "display_key": "PONE-108",
      "id": "01967d35-fb04-4009-9ea7-bb263cd6292e",
      "item_number": 108,
      "item_type": "task",
      "parent_id": "46797433-f3ef-411d-841f-81da6cc1bd51",
      "position": 4,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Add bounds validation tests for new config fields",
      "updated_at": 1770932580,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 5
    },
    {
      "assignee_id": null,
      "created_at": 1770916131,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "The final wiring step: where AppState is constructed during server startup, pass config.validation into the new field.\n\n**File**: backend/pm-server/src/main.rs (or wherever AppState is constructed)\n\nFind the AppState construction (search for &amp;quot;AppState {&amp;quot; in pm-server/src/) and add the validation field:\n\n```rust\nlet state = AppState {\n    pool: pool.clone(),\n    circuit_breaker: circuit_breaker.clone(),\n    jwt_validator,\n    desktop_user_id: config.auth.desktop_user_id.clone().unwrap_or_default(),\n    rate_limiter_factory,\n    registry: registry.clone(),\n    metrics: metrics.clone(),\n    shutdown: shutdown.clone(),\n    config: connection_config,\n    api_config: config.api.clone(),\n    validation: config.validation,  // Copy, not .clone()\n};\n```\n\nNote: Since PONE-105 adds `#[derive(Copy)]` to ValidationConfig, use direct copy assignment instead of `.clone()`. The struct is all primitive types (usize, i32) so Copy is zero-cost.\n\nAfter this task, the full pipeline is wired: Config -&amp;amp;gt; AppState -&amp;amp;gt; WebSocketConnectionParams -&amp;amp;gt; WebSocketConnection -&amp;amp;gt; HandlerContext. Every handler can access validation limits.\n\nVerify: just check-backend (should compile with unused field warnings, which is fine ‚Äî Story 3 and 4 will consume them)\n\n**Dependencies**: Must run after PONE-111 (adds ValidationConfig to AppState).",
      "display_key": "PONE-112",
      "id": "b0cd6cfa-a79a-48f7-8a7e-18e741619f5c",
      "item_number": 112,
      "item_type": "task",
      "parent_id": "a836f879-9bd3-46de-8ac9-0ccdbbad06be",
      "position": 4,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Pass config.validation when constructing AppState in server startup",
      "updated_at": 1770932580,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 5
    },
    {
      "assignee_id": null,
      "created_at": 1770916168,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Change validate_project_create() from hardcoded 200 (title) and 10000 (description) to reading from ValidationConfig. The key validation (2-20 chars, alphanumeric) stays hardcoded ‚Äî it is a format constraint, not a configurable content limit.\n\n**BUG FIX: The inline description check must also use `.chars().count()` instead of `.len()`.**\n\nSame fix as PONE-114 ‚Äî the title goes through `validate_string` (already fixed in PONE-113), but the inline description check uses `.len()` directly.\n\n**File**: backend/crates/pm-ws/src/message_validator.rs\n\nBefore (lines 168-202):\n```rust\npub fn validate_project_create(\n    title: &amp;amp;str,\n    description: Option&amp;amp;lt;&amp;amp;str&amp;amp;gt;,\n    key: &amp;amp;str,\n) -&amp;amp;gt; WsErrorResult&amp;amp;lt;()&amp;amp;gt; {\n    Self::validate_string(title, &amp;quot;title&amp;quot;, 1, 200)?;\n\n    if let Some(desc) = description\n        &amp;amp;&amp;amp; desc.len() &amp;amp;gt; 10000\n    { ... }\n\n    // key validation stays hardcoded\n}\n```\n\nAfter:\n```rust\npub fn validate_project_create(\n    title: &amp;amp;str,\n    description: Option&amp;amp;lt;&amp;amp;str&amp;amp;gt;,\n    key: &amp;amp;str,\n    config: &amp;amp;ValidationConfig,\n) -&amp;amp;gt; WsErrorResult&amp;amp;lt;()&amp;amp;gt; {\n    Self::validate_string(title, &amp;quot;title&amp;quot;, 1, config.max_title_length)?;\n\n    if let Some(desc) = description\n        &amp;amp;&amp;amp; desc.chars().count() &amp;amp;gt; config.max_description_length\n    {\n        return Err(WsError::InvalidMessage {\n            message: format!(\n                &amp;quot;description exceeds maximum length ({} characters)&amp;quot;,\n                config.max_description_length\n            ),\n            location: ErrorLocation::from(Location::caller()),\n        });\n    }\n\n    // key validation (2-20, alphanumeric + underscore) ‚Äî unchanged\n    if key.len() &amp;amp;lt; 2 || key.len() &amp;amp;gt; 20 { ... }\n    if !key.chars().all(|c| c.is_ascii_alphanumeric() || c == &amp;#x27;_&amp;#x27;) { ... }\n    Ok(())\n}\n```\n\nNote: key.len() stays as `.len()` because project keys are ASCII-only (enforced by the alphanumeric check). Bytes == chars for ASCII.\n\n**Dependencies**: Must run after PONE-113 (fixes validate_string and establishes the config parameter pattern).",
      "display_key": "PONE-116",
      "id": "90984899-3ff9-455b-8812-0398ca1179ef",
      "item_number": 116,
      "item_type": "task",
      "parent_id": "a1a87f55-5329-4051-b258-d7b055b651b3",
      "position": 4,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Update validate_project_create to use config title/description limits",
      "updated_at": 1770932580,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 6
    },
    {
      "assignee_id": null,
      "created_at": 1770916208,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Update all validation calls in the WebSocket project handler. This includes the MessageValidator call AND inline description checks.\n\n**BUG FIX: The inline description check must use `.chars().count()` instead of `.len()`, consistent with the same fix applied in PONE-114, PONE-116, and PONE-119.**\n\n**File**: backend/crates/pm-ws/src/handlers/project.rs\n\nThree locations to update:\n\n1. Line 43 (handle_create):\nBefore:\n```rust\nMessageValidator::validate_project_create(&amp;amp;req.title, req.description.as_deref(), &amp;amp;req.key)?;\n```\nAfter:\n```rust\nMessageValidator::validate_project_create(&amp;amp;req.title, req.description.as_deref(), &amp;amp;req.key, &amp;amp;ctx.validation)?;\n```\n\n2. Line 196 (handle_update ‚Äî title validation):\nBefore:\n```rust\nMessageValidator::validate_string(title, &amp;quot;title&amp;quot;, 1, 200)?;\n```\nAfter:\n```rust\nMessageValidator::validate_string(title, &amp;quot;title&amp;quot;, 1, ctx.validation.max_title_length)?;\n```\n\n3. Lines 198-206 (handle_update ‚Äî inline description check):\nBefore:\n```rust\nif desc.len() &amp;amp;gt; 10000 {\n    return Err(WsError::InvalidMessage {\n        message: &amp;quot;description exceeds maximum length (10000)&amp;quot;.to_string(),\n        ...\n    });\n}\n```\nAfter:\n```rust\nif desc.chars().count() &amp;amp;gt; ctx.validation.max_description_length {\n    return Err(WsError::InvalidMessage {\n        message: format!(\n            &amp;quot;description exceeds maximum length ({} characters)&amp;quot;,\n            ctx.validation.max_description_length\n        ),\n        ...\n    });\n}\n```\n\nCRITICAL: Use `.chars().count()`, NOT `.len()`. This matches the fix in PONE-119 (work_item handler apply_updates), PONE-114 (validate_work_item_create), and PONE-116 (validate_project_create).\n\n**Dependencies**: Must run after PONE-110 (threads config through WS connection) and PONE-116 (updates validator signature).",
      "display_key": "PONE-121",
      "id": "03f4e05d-8e0f-4c20-9526-52d5bd6ca7f1",
      "item_number": 121,
      "item_type": "task",
      "parent_id": "e83139bf-166b-41e6-ac23-323b8d1500a2",
      "position": 4,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Update WebSocket project handler to pass validation config",
      "updated_at": 1770932580,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 6
    },
    {
      "assignee_id": null,
      "created_at": 1770653985,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Allow users to export activity log data as JSON or CSV for external analysis, reporting, or compliance requirements.",
      "display_key": "PONE-6",
      "id": "a1887679-8040-4b45-8715-9834972ed50a",
      "item_number": 6,
      "item_type": "story",
      "parent_id": "8153adb6-3ac7-45c0-b88a-cdf6d5e3977d",
      "position": 5,
      "priority": "low",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "backlog",
      "story_points": null,
      "title": "Export activity history",
      "updated_at": 1770653985,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 1
    },
    {
      "assignee_id": null,
      "created_at": 1770654776,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Add &#x27;mod port_file;&#x27; declaration to pm-config/src/tests/mod.rs in alphabetical order (between handler and retry modules). Step 7 of 120.1",
      "display_key": "PONE-36",
      "id": "656894b8-99c2-4347-84ac-e1d56284ae6a",
      "item_number": 36,
      "item_type": "task",
      "parent_id": "52d13747-5d19-4772-b74e-f290238b1ee1",
      "position": 5,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Register port_file test module",
      "updated_at": 1770654776,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 1
    },
    {
      "assignee_id": null,
      "created_at": 1770654782,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Update config.example.toml port documentation with comprehensive explanation of port 0 auto-assign vs specific port tradeoffs (multi-repo, webhooks, debugging). Change port from 8000 to 0. Step 4 of 120.2",
      "display_key": "PONE-38",
      "id": "dbaf4326-3c1d-4385-835b-7f9731047c8c",
      "item_number": 38,
      "item_type": "task",
      "parent_id": "ea1ace0b-1cfd-45f2-b5a8-c2a68a265915",
      "position": 5,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Update backend/config.example.toml for port 0",
      "updated_at": 1770654782,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 1
    },
    {
      "assignee_id": null,
      "created_at": 1770655331,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "## ‚úÖ STATUS: COMPLETE - 2026-02-09\n\n**Implementation verified and complete.**\n\nFiles modified:\n- ‚úÖ `frontend/ProjectManagement.Components/Comments/CommentList.razor` - MarkdownRenderer added\n- ‚úÖ `frontend/ProjectManagement.Components/Comments/CommentList.razor.css` - Removed white-space:pre-wrap\n\nBuild status: ‚úÖ Clean\nTest status: ‚úÖ Clean\n\n---\n\n## PONE-51: Update CommentList to render markdown\n\n### File to modify\n`frontend/ProjectManagement.Components/Comments/CommentList.razor`\n\n### Current code (lines 42-46)\n```razor\nelse\n{\n    &amp;lt;RadzenText TextStyle=&quot;TextStyle.Body2&quot; class=&quot;comment-content&quot;&amp;gt;\n        @comment.Content\n    &amp;lt;/RadzenText&amp;gt;\n```\n\n### Replace with\n```razor\nelse\n{\n    &amp;lt;div class=&quot;comment-content&quot;&amp;gt;\n        &amp;lt;MarkdownRenderer Content=&quot;@comment.Content&quot; /&amp;gt;\n    &amp;lt;/div&amp;gt;\n```\n\n### Add using directive at top of file\n```razor\n@using ProjectManagement.Components.Shared\n```\n\n### Update CommentList.razor.css\n**Current (lines 32-35)**:\n```css\n.comment-content {\n    white-space: pre-wrap;\n    word-break: break-word;\n}\n```\n\n**Replace with**:\n```css\n.comment-content {\n    word-break: break-word;\n}\n```\n\nRemove `white-space: pre-wrap` ‚Äî no longer needed because MarkdownRenderer converts line breaks to HTML `&amp;lt;br&amp;gt;` and `&amp;lt;p&amp;gt;` tags. Keeping `pre-wrap` would add double spacing.\n\n### Backward compatibility\nExisting plain-text comments (no markdown syntax) will render identically ‚Äî Markdig wraps plain text in `&amp;lt;p&amp;gt;` tags and converts line breaks to `&amp;lt;br&amp;gt;`, which matches the old `pre-wrap` behavior visually.\n\n### Verification\nRun: `just build-cs-components`\nTest with existing comments to ensure they still display correctly.",
      "display_key": "PONE-51",
      "id": "2b2dacda-73f2-4909-89f4-d85d883781d5",
      "item_number": 51,
      "item_type": "task",
      "parent_id": "6dc1836f-3162-4047-a54c-3205a8e0c805",
      "position": 5,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Update CommentList to render markdown",
      "updated_at": 1770676098,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 5
    },
    {
      "assignee_id": null,
      "created_at": 1770665182,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "## Problem\n\nThe pm-cli `work-item update` command has no `--position` flag. The position field exists in the database (`pm_work_items.position` INTEGER) and is returned in API responses, but cannot be set via the CLI.\n\nThis forced a direct SQLite hack during PONE-39 audit to reorder tasks by implementation priority.\n\n## Scope\n\nAdd `--position &amp;lt;INT&amp;gt;` as an optional parameter to `pm work-item update`. Should follow the same patterns as `--story-points` (optional integer, passed through to the update request).\n\n## Likely touchpoints\n- `pm-cli` argument parsing (clap struct for work-item update)\n- `UpdateWorkItemRequest` protobuf message (may need a new field)\n- Backend handler for work item updates (pm-ws or pm-api)\n- Position validation (non-negative integer)\n\n## Out of scope (for now)\n- Drag-and-drop reordering (bulk position updates)\n- Auto-gapping positions (e.g., positions 10, 20, 30 for easy insertion)\n- Position constraints (uniqueness within parent)",
      "display_key": "PONE-69",
      "id": "69bb85db-2369-48ba-a2cf-12d81ed5c6bf",
      "item_number": 69,
      "item_type": "epic",
      "parent_id": null,
      "position": 5,
      "priority": "medium",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Add --position flag to pm-cli work-item update",
      "updated_at": 1770862695,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 2
    },
    {
      "assignee_id": null,
      "created_at": 1770916052,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Update every WebSocket handler and REST API handler that calls MessageValidator to pass &amp;ctx.validation (WS) or &amp;state.validation (REST). Also replace inline hardcoded description length checks (desc.len() &amp;gt; 10000) with config values.\n\nWhy last: This is purely mechanical ‚Äî every call site needs to pass the config reference. Depends on Story 2 (config accessible) and Story 3 (methods accept config).\n\nAcceptance Criteria:\n- All WS handlers pass &amp;ctx.validation to MessageValidator methods\n- All REST handlers pass &amp;state.validation to MessageValidator methods\n- Inline desc.len() &amp;gt; 10000 checks replaced with ctx.validation.max_description_length\n- All handler integration tests pass\n- Full test suite green: just test-backend\n\nFiles: handlers/comment.rs, handlers/work_item.rs, handlers/sprint.rs, handlers/project.rs, api/comments/comments.rs, api/work_items/work_items.rs",
      "display_key": "PONE-104",
      "id": "e83139bf-166b-41e6-ac23-323b8d1500a2",
      "item_number": 104,
      "item_type": "story",
      "parent_id": "bca827a0-798d-4d46-b3a6-8fbee3e562bb",
      "position": 5,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Update All Handler Call Sites",
      "updated_at": 1770932580,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 4
    },
    {
      "assignee_id": null,
      "created_at": 1770916168,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "All existing MessageValidator tests call the methods without a config parameter. Update them to pass ValidationConfig::default() so they continue testing the same default limits.\n\n**BUG FIX: Add Unicode/emoji test cases to verify `.chars().count()` works correctly.**\n\nThe validate_string fix (PONE-113) changes `.len()` to `.chars().count()`. Tests must verify this works for multi-byte UTF-8 input, not just ASCII.\n\n**File**: backend/crates/pm-ws/src/tests/message_validator.rs\n\nAdd the import:\n\n```rust\nuse pm_config::ValidationConfig;\n```\n\nUpdate each existing test that calls the changed methods to pass `&amp;amp;ValidationConfig::default()`. For example:\n\nBefore:\n```rust\n#[test]\nfn given_valid_comment_when_validated_then_succeeds() {\n    let result = MessageValidator::validate_comment_create(&amp;quot;Good work!&amp;quot;);\n    assert!(result.is_ok());\n}\n```\n\nAfter:\n```rust\n#[test]\nfn given_valid_comment_when_validated_then_succeeds() {\n    let config = ValidationConfig::default();\n    let result = MessageValidator::validate_comment_create(&amp;quot;Good work!&amp;quot;, &amp;amp;config);\n    assert!(result.is_ok());\n}\n```\n\nApply the same pattern to every test calling validate_work_item_create, validate_sprint_create, and validate_project_create.\n\n**New test: custom config limits are respected:**\n\n```rust\n#[test]\nfn given_custom_comment_limit_when_exceeded_then_fails() {\n    let mut config = ValidationConfig::default();\n    config.max_comment_length = 10;\n    let content = &amp;quot;a&amp;quot;.repeat(11);\n    let result = MessageValidator::validate_comment_create(&amp;amp;content, &amp;amp;config);\n    assert!(result.is_err());\n}\n\n#[test]\nfn given_custom_comment_limit_when_within_then_succeeds() {\n    let mut config = ValidationConfig::default();\n    config.max_comment_length = 10;\n    let content = &amp;quot;a&amp;quot;.repeat(10);\n    let result = MessageValidator::validate_comment_create(&amp;amp;content, &amp;amp;config);\n    assert!(result.is_ok());\n}\n```\n\n**New tests: Unicode/emoji character counting (verifies PONE-113 `.chars().count()` fix):**\n\n```rust\n#[test]\nfn given_emoji_title_within_char_limit_when_validated_then_succeeds() {\n    // 5 emoji = 5 characters (but 20 bytes in UTF-8)\n    let config = ValidationConfig::default();\n    let title = &amp;quot;Hello&amp;quot;;  // 5 chars, 5 bytes ‚Äî baseline\n    let result = MessageValidator::validate_work_item_create(title, None, &amp;quot;task&amp;quot;, &amp;amp;config);\n    assert!(result.is_ok());\n}\n\n#[test]\nfn given_emoji_title_at_char_limit_when_validated_then_succeeds() {\n    // Title limit is 200 characters. 200 emoji = 200 chars but 800 bytes.\n    // With .len() this would FAIL (800 &amp;amp;gt; 200). With .chars().count() it passes.\n    let mut config = ValidationConfig::default();\n    config.max_title_length = 200;\n    let title: String = std::iter::repeat(&amp;#x27;üî•&amp;#x27;).take(200).collect();\n    assert_eq!(title.chars().count(), 200);\n    assert!(title.len() &amp;amp;gt; 200);  // bytes &amp;amp;gt; chars for emoji\n    let result = MessageValidator::validate_work_item_create(&amp;amp;title, None, &amp;quot;task&amp;quot;, &amp;amp;config);\n    assert!(result.is_ok());\n}\n\n#[test]\nfn given_emoji_title_over_char_limit_when_validated_then_fails() {\n    let mut config = ValidationConfig::default();\n    config.max_title_length = 10;\n    let title: String = std::iter::repeat(&amp;#x27;üî•&amp;#x27;).take(11).collect();\n    let result = MessageValidator::validate_work_item_create(&amp;amp;title, None, &amp;quot;task&amp;quot;, &amp;amp;config);\n    assert!(result.is_err());\n}\n\n#[test]\nfn given_cjk_description_within_char_limit_when_validated_then_succeeds() {\n    // CJK characters are 3 bytes each in UTF-8\n    let mut config = ValidationConfig::default();\n    config.max_description_length = 10;\n    let desc: String = std::iter::repeat(&amp;#x27;Êó•&amp;#x27;).take(10).collect();  // 10 chars, 30 bytes\n    assert_eq!(desc.chars().count(), 10);\n    assert_eq!(desc.len(), 30);\n    let result = MessageValidator::validate_work_item_create(&amp;quot;title&amp;quot;, Some(&amp;amp;desc), &amp;quot;task&amp;quot;, &amp;amp;config);\n    assert!(result.is_ok());\n}\n\n#[test]\nfn given_cjk_description_over_char_limit_when_validated_then_fails() {\n    let mut config = ValidationConfig::default();\n    config.max_description_length = 10;\n    let desc: String = std::iter::repeat(&amp;#x27;Êó•&amp;#x27;).take(11).collect();  // 11 chars, 33 bytes\n    let result = MessageValidator::validate_work_item_create(&amp;quot;title&amp;quot;, Some(&amp;amp;desc), &amp;quot;task&amp;quot;, &amp;amp;config);\n    assert!(result.is_err());\n}\n```\n\nThese tests would FAIL with the old `.len()` implementation and PASS with `.chars().count()`.\n\nVerify: just test-rs-ws\n\n**Dependencies**: Must run after PONE-113, 114, 115, 116 (all validator signatures must be updated before tests can be rewritten).",
      "display_key": "PONE-117",
      "id": "4a91d2c1-45ba-46f6-bc40-7b1330eb7053",
      "item_number": 117,
      "item_type": "task",
      "parent_id": "a1a87f55-5329-4051-b258-d7b055b651b3",
      "position": 5,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Update MessageValidator unit tests to pass ValidationConfig",
      "updated_at": 1770932580,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 6
    },
    {
      "assignee_id": null,
      "created_at": 1770916209,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Update the REST API comment handlers. These use State(state) instead of HandlerContext, so they pass &amp;amp;state.validation.\n\n**File**: backend/pm-server/src/api/comments/comments.rs\n\nTwo call sites to update:\n\n1. Line 59 (create_comment):\nBefore:\n```rust\nMessageValidator::validate_comment_create(&amp;amp;req.content).map_err(|e| ApiError::Validation {\n    message: e.to_string(),\n    field: Some(&amp;quot;content&amp;quot;.into()),\n    location: ErrorLocation::from(Location::caller()),\n})?;\n```\nAfter:\n```rust\nMessageValidator::validate_comment_create(&amp;amp;req.content, &amp;amp;state.validation).map_err(|e| ApiError::Validation {\n    message: e.to_string(),\n    field: Some(&amp;quot;content&amp;quot;.into()),\n    location: ErrorLocation::from(Location::caller()),\n})?;\n```\n\n2. Line 140 (update_comment):\nBefore:\n```rust\nMessageValidator::validate_comment_create(&amp;amp;req.content).map_err(|e| ApiError::Validation {\n    message: e.to_string(),\n    field: Some(&amp;quot;content&amp;quot;.into()),\n    location: ErrorLocation::from(Location::caller()),\n})?;\n```\nAfter:\n```rust\nMessageValidator::validate_comment_create(&amp;amp;req.content, &amp;amp;state.validation).map_err(|e| ApiError::Validation {\n    message: e.to_string(),\n    field: Some(&amp;quot;content&amp;quot;.into()),\n    location: ErrorLocation::from(Location::caller()),\n})?;\n```\n\nThe pattern is the same ‚Äî just add &amp;amp;state.validation as the second argument.\n\n**Dependencies**: Must run after PONE-111 (adds config to AppState) and PONE-113 (updates validator signature).",
      "display_key": "PONE-122",
      "id": "3b5d3f41-c752-443e-95f3-3e2e09643180",
      "item_number": 122,
      "item_type": "task",
      "parent_id": "e83139bf-166b-41e6-ac23-323b8d1500a2",
      "position": 5,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Update REST API comment handlers to pass validation config",
      "updated_at": 1770932580,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 5
    },
    {
      "assignee_id": null,
      "created_at": 1770653987,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Automatically update relative timestamps (e.g., &#x27;5m ago&#x27; ‚Üí &#x27;6m ago&#x27;) without page reload. Improves UX and keeps information current.",
      "display_key": "PONE-7",
      "id": "df6baf30-bcdf-49f4-9e31-248b676dbf92",
      "item_number": 7,
      "item_type": "story",
      "parent_id": "8153adb6-3ac7-45c0-b88a-cdf6d5e3977d",
      "position": 6,
      "priority": "low",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "backlog",
      "story_points": null,
      "title": "Auto-refresh relative timestamps",
      "updated_at": 1770653987,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 1
    },
    {
      "assignee_id": null,
      "created_at": 1770655329,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "## ‚úÖ STATUS: COMPLETE - 2026-02-09\n\n**Implementation verified and complete.**\n\nFiles modified:\n- ‚úÖ `frontend/ProjectManagement.Components/Comments/CommentEditor.razor` - Write/Preview tabs added\n- ‚úÖ `frontend/ProjectManagement.Components/Comments/CommentEditor.razor.css` - Tab styling added\n\n---\n\n## PONE-50: Update CommentEditor with preview toggle\n\n### File to modify\n`frontend/ProjectManagement.Components/Comments/CommentEditor.razor`\n\n### Current code (lines 1-24)\n```razor\n&amp;lt;div class=&quot;comment-editor&quot;&amp;gt;\n  &amp;lt;RadzenTextArea @bind-Value=&quot;_content&quot;\n                  Placeholder=&quot;@Placeholder&quot;\n                  Rows=&quot;@Rows&quot;\n                  @onkeydown=&quot;HandleKeyDown&quot; /&amp;gt;\n\n  &amp;lt;div class=&quot;editor-actions&quot;&amp;gt;\n      &amp;lt;RadzenText TextStyle=&quot;TextStyle.Caption&quot; class=&quot;char-count&quot;&amp;gt;\n          @_content.Length / 5000\n      &amp;lt;/RadzenText&amp;gt;\n      ...buttons...\n  &amp;lt;/div&amp;gt;\n&amp;lt;/div&amp;gt;\n```\n\n### Replace with\n```razor\n&amp;lt;div class=&quot;comment-editor&quot;&amp;gt;\n  &amp;lt;div class=&quot;editor-tabs&quot;&amp;gt;\n      &amp;lt;button class=&quot;tab @(!_previewMode ? &quot;active&quot; : &quot;&quot;)&quot;\n              @onclick=&quot;() =&amp;gt; _previewMode = false&quot;&amp;gt;Write&amp;lt;/button&amp;gt;\n      &amp;lt;button class=&quot;tab @(_previewMode ? &quot;active&quot; : &quot;&quot;)&quot;\n              @onclick=&quot;() =&amp;gt; _previewMode = true&quot;&amp;gt;Preview&amp;lt;/button&amp;gt;\n  &amp;lt;/div&amp;gt;\n\n  @if (_previewMode)\n  {\n      &amp;lt;div class=&quot;preview-pane&quot;&amp;gt;\n          @if (string.IsNullOrWhiteSpace(_content))\n          {\n              &amp;lt;RadzenText class=&quot;text-muted&quot;&amp;gt;Nothing to preview&amp;lt;/RadzenText&amp;gt;\n          }\n          else\n          {\n              &amp;lt;MarkdownRenderer Content=&quot;@_content&quot; /&amp;gt;\n          }\n      &amp;lt;/div&amp;gt;\n  }\n  else\n  {\n      &amp;lt;RadzenTextArea @bind-Value=&quot;_content&quot;\n                      Placeholder=&quot;@Placeholder&quot;\n                      Rows=&quot;@Rows&quot;\n                      @onkeydown=&quot;HandleKeyDown&quot; /&amp;gt;\n  }\n\n  &amp;lt;div class=&quot;editor-actions&quot;&amp;gt;\n      &amp;lt;RadzenText TextStyle=&quot;TextStyle.Caption&quot; class=&quot;char-count&quot;&amp;gt;\n          @_content.Length / 5000 ¬∑ Markdown supported\n      &amp;lt;/RadzenText&amp;gt;\n      ...buttons remain unchanged...\n  &amp;lt;/div&amp;gt;\n&amp;lt;/div&amp;gt;\n```\n\n### Add to @code block\n```csharp\nprivate bool _previewMode;\n```\n\n### Add using directive at top\n```razor\n@using ProjectManagement.Components.Shared\n```\n\n### Update CommentEditor.razor.css ‚Äî append\n```css\n.editor-tabs {\n    display: flex;\n    gap: 0;\n    border-bottom: 1px solid var(--rz-border-color);\n    margin-bottom: 0.25rem;\n}\n\n.tab {\n    padding: 0.3rem 0.6rem;\n    border: none;\n    background: none;\n    cursor: pointer;\n    color: var(--rz-text-secondary-color);\n    font-size: 0.8rem;\n    border-bottom: 2px solid transparent;\n}\n\n.tab.active {\n    color: var(--rz-primary);\n    border-bottom-color: var(--rz-primary);\n}\n\n.preview-pane {\n    min-height: 60px;\n    padding: 0.5rem;\n    border: 1px solid var(--rz-border-color);\n    border-radius: 4px;\n    background: var(--rz-base-100);\n}\n```\n\n### Key decisions\n- Write/Preview tabs directly in CommentEditor rather than using MarkdownEditor component. CommentEditor has its own Ctrl+Enter submit logic, action buttons, and cancel flow that don&#x27;t fit MarkdownEditor&#x27;s generic interface.\n- Preview pane is smaller (min-height: 60px) since comments are typically shorter than descriptions.\n- Ctrl+Enter submit shortcut preserved ‚Äî only fires in Write mode (textarea must be present).\n\n### Verification\nRun: `just build-cs-components`",
      "display_key": "PONE-50",
      "id": "0d0638fc-e098-429b-bc2c-c616f80b856c",
      "item_number": 50,
      "item_type": "task",
      "parent_id": "6dc1836f-3162-4047-a54c-3205a8e0c805",
      "position": 6,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Update CommentEditor with preview toggle",
      "updated_at": 1770676098,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 5
    },
    {
      "assignee_id": null,
      "created_at": 1770854487,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Allow changing a work item&#x27;s parent after creation. Currently must delete and recreate to move items between epics/stories. Add --parent-id support to work-item update command. Priority: High.",
      "display_key": "PONE-70",
      "id": "d2216597-cf35-4f7a-ac7c-5333f9989153",
      "item_number": 70,
      "item_type": "epic",
      "parent_id": null,
      "position": 6,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Update parent_id After Creation",
      "updated_at": 1770858522,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 4
    },
    {
      "assignee_id": null,
      "created_at": 1770916209,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Update BOTH the create and update REST API work item handlers. The original task only covered create ‚Äî the update handler also has a hardcoded limit.\n\n**BUG FIX: Add description length validation to the REST update handler.**\n\nThe REST update handler validates title length but does NOT validate description length ‚Äî it only sanitizes. This is inconsistent with both the WS handler and the REST create handler. Fix this by adding description length validation.\n\n**File**: backend/pm-server/src/api/work_items/work_items.rs\n\nThree call sites to update:\n\n1. Create handler ‚Äî update validate_work_item_create call to pass config:\nBefore:\n    MessageValidator::validate_work_item_create(\n        &amp;amp;req.title,\n        req.description.as_deref(),\n        item_type.as_str(),\n    ).map_err(...)?;\nAfter:\n    MessageValidator::validate_work_item_create(\n        &amp;amp;req.title,\n        req.description.as_deref(),\n        item_type.as_str(),\n        &amp;amp;state.validation,\n    ).map_err(...)?;\n\n2. Update handler ‚Äî update validate_string call to use config:\nBefore:\n    MessageValidator::validate_string(title, &amp;quot;title&amp;quot;, 1, 200).map_err(|e| {\nAfter:\n    MessageValidator::validate_string(title, &amp;quot;title&amp;quot;, 1, state.validation.max_title_length).map_err(|e| {\n\n3. Update handler ‚Äî ADD description length validation (currently missing).\nInsert after the title validation block, matching the existing `ApiError::Validation` pattern:\n\n```rust\nif let Some(ref description) = req.description {\n    if description.chars().count() &amp;amp;gt; state.validation.max_description_length {\n        return Err(ApiError::Validation {\n            message: format!(\n                &amp;quot;Description exceeds maximum length ({} characters)&amp;quot;,\n                state.validation.max_description_length\n            ),\n            field: Some(&amp;quot;description&amp;quot;.into()),\n            location: ErrorLocation::from(Location::caller()),\n        });\n    }\n}\n```\n\nThis matches the existing pattern used for title validation (ApiError::Validation with message and field), NOT a bare StatusCode::BAD_REQUEST.\n\nThis ensures the REST update handler validates description length consistently with:\n- The WS update handler (apply_updates in work_item.rs)\n- The REST create handler (via validate_work_item_create)\n- The WS create handler (via validate_work_item_create)\n\n**Dependencies**: Must run after PONE-111 (adds config to AppState) and PONE-114 (updates validator signature).",
      "display_key": "PONE-123",
      "id": "68211c6d-483f-4084-a8c1-695d9295f266",
      "item_number": 123,
      "item_type": "task",
      "parent_id": "e83139bf-166b-41e6-ac23-323b8d1500a2",
      "position": 6,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Update REST API work_items handlers (create AND update) to pass validation config",
      "updated_at": 1770932580,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 8
    },
    {
      "assignee_id": null,
      "created_at": 1770653991,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Move activity feed CSS from global app.css to component-scoped styles. Follows Blazor best practices and prevents style conflicts.",
      "display_key": "PONE-8",
      "id": "f904052a-8898-4c6e-b7f3-5b4bddf23a88",
      "item_number": 8,
      "item_type": "story",
      "parent_id": "8153adb6-3ac7-45c0-b88a-cdf6d5e3977d",
      "position": 7,
      "priority": "low",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "backlog",
      "story_points": null,
      "title": "Migrate to scoped component CSS",
      "updated_at": 1770653991,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 1
    },
    {
      "assignee_id": null,
      "created_at": 1770655323,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "## ‚úÖ STATUS: COMPLETE - 2026-02-09\n\n**Component already existed and verified complete.**\n\nFiles created:\n- ‚úÖ `frontend/ProjectManagement.Components/Shared/MarkdownEditor.razor` - Write/Preview tabs with two-way binding\n- ‚úÖ `frontend/ProjectManagement.Components/Shared/MarkdownEditor.razor.css` - Tab and preview styling\n\n---\n\n## PONE-48: Create MarkdownEditor component\n\n### Files created\n- `frontend/ProjectManagement.Components/Shared/MarkdownEditor.razor`\n- `frontend/ProjectManagement.Components/Shared/MarkdownEditor.razor.css`\n\n### Implementation features\n- **Write/Preview tabs**: Simple tab interface matching GitHub style\n- **Two-way binding**: Uses @bind-Value with ValueChanged callback\n- **Monospace font**: Textarea uses monospace for markdown syntax visibility\n- **MarkdownRenderer integration**: Preview tab uses existing MarkdownRenderer\n- **Responsive**: Works on all screen sizes\n\n### Key design decisions\n- **Write/Preview tabs** (not split pane): Simpler, works on all screen sizes, matches GitHub style.\n- **Monospace font in Write mode**: Helps users see markdown syntax alignment.\n- **Two-way binding**: Uses @bind-Value pattern with ValueChanged callback for parent form integration.\n\n### Verification\nRun: `just build-cs-components`",
      "display_key": "PONE-48",
      "id": "247c1cf6-c5dc-4795-93bd-0520c9bd73b8",
      "item_number": 48,
      "item_type": "task",
      "parent_id": "cc67ae6d-6f7d-47da-9b05-1de8433933c7",
      "position": 7,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Create MarkdownEditor component",
      "updated_at": 1770676098,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 5
    },
    {
      "assignee_id": null,
      "created_at": 1770854488,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "# WON&#x27;T FIX\n\nAlready covered by `work-item update --parent-id &amp;lt;UUID&amp;gt; --update-parent --version &amp;lt;N&amp;gt;`. A dedicated move command would be redundant syntactic sugar wrapping the same API call.",
      "display_key": "PONE-71",
      "id": "daf437b0-1a1e-4a75-90ea-66c61f40ee2c",
      "item_number": 71,
      "item_type": "epic",
      "parent_id": null,
      "position": 7,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Dedicated Move Command",
      "updated_at": 1770862455,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 2
    },
    {
      "assignee_id": null,
      "created_at": 1770916824,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Adding the `validation` field to `HandlerContext` and `AppState` will break every test fixture that constructs them. There are 10 `HandlerContext::new` calls and 4 `AppState` constructions in test code that all need updating.\n\nThe fix is the same everywhere: add `ValidationConfig::default()` as the new parameter/field.\n\n## HandlerContext::new calls\n\nAdd `ValidationConfig::default()` as the last argument to every call.\n\nAll in `backend/crates/pm-ws/tests/`:\n- `comment_handler_tests.rs:138` (create_context)\n- `comment_handler_tests.rs:150` (create_context_as)\n- `sprint_handler_tests.rs:103` (create_context)\n- `time_entry_handler_tests.rs:139` (create_context)\n- `time_entry_handler_tests.rs:151` (create_context_as)\n- `dependency_handler_tests.rs:144` (create_context)\n- `activity_log_handler_tests.rs:98` (ctx)\n- `llm_context_handler_tests.rs:39` (ctx)\n- `dispatcher_integration.rs:119` (create_context)\n- `subscription_handler_tests.rs:17`\n\nBefore (same pattern at all 10 sites):\n\n```rust\nHandlerContext::new(\n    msg_id.to_string(),\n    self.user_id,\n    self.pool.clone(),\n    self.circuit_breaker.clone(),\n    &amp;quot;test-connection&amp;quot;.to_string(),\n    registry,\n)\n```\n\nAfter:\n\n```rust\nuse pm_config::ValidationConfig;\n\nHandlerContext::new(\n    msg_id.to_string(),\n    self.user_id,\n    self.pool.clone(),\n    self.circuit_breaker.clone(),\n    &amp;quot;test-connection&amp;quot;.to_string(),\n    registry,\n    ValidationConfig::default(),\n)\n```\n\n## AppState constructions\n\nAdd `validation: ValidationConfig::default()` field to every struct literal.\n\nLocations:\n- `backend/crates/pm-ws/tests/common/test_server.rs:143`\n- `backend/pm-server/tests/common/mod.rs:37`\n- `backend/pm-server/src/tests/api/extractors/user_id.rs:27`\n- `backend/pm-server/src/tests/api/extractors/user_id.rs:111`\n\nBefore (same pattern at all 4 sites):\n\n```rust\nAppState {\n    pool,\n    circuit_breaker,\n    jwt_validator: None,\n    desktop_user_id: &amp;quot;test-user&amp;quot;.to_string(),\n    rate_limiter_factory: RateLimiterFactory::default(),\n    registry,\n    metrics: Metrics::new(),\n    shutdown,\n    config: ConnectionConfig::default(),\n    api_config: ApiConfig::default(),\n}\n```\n\nAfter:\n\n```rust\nuse pm_config::ValidationConfig;\n\nAppState {\n    pool,\n    circuit_breaker,\n    jwt_validator: None,\n    desktop_user_id: &amp;quot;test-user&amp;quot;.to_string(),\n    rate_limiter_factory: RateLimiterFactory::default(),\n    registry,\n    metrics: Metrics::new(),\n    shutdown,\n    config: ConnectionConfig::default(),\n    api_config: ApiConfig::default(),\n    validation: ValidationConfig::default(),\n}\n```\n\nThis is a mechanical change but critical ‚Äî without it, no tests compile.\n\nVerify: `just test-backend` (all tests must compile and pass)\n\n**Dependencies**: Must run after ALL other tasks ‚Äî this fixes test compilation broken by PONE-109 and PONE-111. Last task in the epic.",
      "display_key": "PONE-125",
      "id": "f18e9e80-f40d-4293-955a-15553d1fd6e2",
      "item_number": 125,
      "item_type": "task",
      "parent_id": "e83139bf-166b-41e6-ac23-323b8d1500a2",
      "position": 7,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Update all test fixtures: add ValidationConfig to HandlerContext and AppState constructors",
      "updated_at": 1770932580,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 4
    },
    {
      "assignee_id": null,
      "created_at": 1770655326,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "## ‚úÖ STATUS: COMPLETE - 2026-02-09\n\n**Implementation verified and complete.**\n\nFiles modified:\n- ‚úÖ `frontend/ProjectManagement.Components/WorkItems/WorkItemDialog.razor` - MarkdownEditor integrated\n- ‚úÖ `frontend/ProjectManagement.Wasm/Pages/WorkItemDetail.razor` - MarkdownRenderer for display\n\nBuild status: ‚úÖ Clean\nTest status: ‚úÖ Clean\n\n---\n\n## PONE-49: Update WorkItemDialog to use MarkdownEditor\n\n### Files modified\n\n**1. WorkItemDialog.razor (lines 84-99)**\n- Replaced RadzenTextArea with MarkdownEditor\n- Kept character count below editor\n- Preserved FormField wrapper for consistency\n\n**2. WorkItemDetail.razor (line 116)**\n- Replaced plain text RadzenText with MarkdownRenderer\n- Removed white-space: pre-wrap (no longer needed)\n- Preserved empty state handling\n\n### What changes\n- Users can now write markdown in work item descriptions\n- Preview tab shows rendered markdown before saving\n- Existing plain-text descriptions still render correctly\n- Character count and dirty tracking preserved\n\n### Verification\nRun: `just build-cs-components &amp;&amp; just build-cs-wasm`",
      "display_key": "PONE-49",
      "id": "05cbe958-fb21-4eab-a167-269633c787fb",
      "item_number": 49,
      "item_type": "task",
      "parent_id": "cc67ae6d-6f7d-47da-9b05-1de8433933c7",
      "position": 8,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Update WorkItemDialog to use MarkdownEditor",
      "updated_at": 1770676098,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 5
    },
    {
      "assignee_id": null,
      "created_at": 1770854490,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Add ability to find work items with parent_id = NULL using CLI. Add --orphaned flag to work-item list command with optional --type filter. Essential for quality assurance, cleanup before sprints, and post-import validation. Priority: High.",
      "display_key": "PONE-72",
      "id": "df4b2c03-ad0a-4e0c-a661-aee54ea9e596",
      "item_number": 72,
      "item_type": "epic",
      "parent_id": null,
      "position": 8,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Query Orphaned Items",
      "updated_at": 1770859289,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 2
    },
    {
      "assignee_id": null,
      "created_at": 1770655386,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "## ‚ö†Ô∏è NOT IMPLEMENTING - VIOLATES ZERO-JS CONSTRAINT\n\n**Reason:** This project has a strict ZERO JavaScript policy. Toolbar buttons require cursor position detection, which needs JavaScript DOM APIs. User will type markdown manually or Google the syntax.\n\n**Audit Decision (2026-02-09):** Removed from PONE-39 epic scope. Users will format text manually.\n\n---\n\n## PONE-52: Add markdown toolbar component\n\n### New file\n`frontend/ProjectManagement.Components/Shared/MarkdownToolbar.razor`\n\n### Implementation\n```razor\n&amp;lt;div class=&quot;markdown-toolbar&quot;&amp;gt;\n    &amp;lt;button type=&quot;button&quot; title=&quot;Bold (Ctrl+B)&quot; @onclick=&quot;() =&amp;gt; InsertSyntax(&quot;**&quot;, &quot;**&quot;)&quot;&amp;gt;\n        &amp;lt;strong&amp;gt;B&amp;lt;/strong&amp;gt;\n    &amp;lt;/button&amp;gt;\n    &amp;lt;button type=&quot;button&quot; title=&quot;Italic (Ctrl+I)&quot; @onclick=&#x27;() =&amp;gt; InsertSyntax(&quot;_&quot;, &quot;_&quot;)&#x27;&amp;gt;\n        &amp;lt;em&amp;gt;I&amp;lt;/em&amp;gt;\n    &amp;lt;/button&amp;gt;\n    &amp;lt;button type=&quot;button&quot; title=&quot;Code&quot; @onclick=&#x27;() =&amp;gt; InsertSyntax(&quot;`&quot;, &quot;`&quot;)&#x27;&amp;gt;\n        &amp;lt;code&amp;gt;&amp;lt;/&amp;gt;&amp;lt;/code&amp;gt;\n    &amp;lt;/button&amp;gt;\n    &amp;lt;button type=&quot;button&quot; title=&quot;Link (Ctrl+K)&quot; @onclick=&quot;InsertLink&quot;&amp;gt;\n        üîó\n    &amp;lt;/button&amp;gt;\n    &amp;lt;button type=&quot;button&quot; title=&quot;Bulleted list&quot; @onclick=&#x27;() =&amp;gt; InsertPrefix(&quot;- &quot;)&#x27;&amp;gt;\n        ‚ò∞\n    &amp;lt;/button&amp;gt;\n    &amp;lt;button type=&quot;button&quot; title=&quot;Code block&quot; @onclick=&quot;InsertCodeBlock&quot;&amp;gt;\n        ‚å®\n    &amp;lt;/button&amp;gt;\n    &amp;lt;button type=&quot;button&quot; title=&quot;Heading&quot; @onclick=&#x27;() =&amp;gt; InsertPrefix(&quot;## &quot;)&#x27;&amp;gt;\n        H\n    &amp;lt;/button&amp;gt;\n&amp;lt;/div&amp;gt;\n\n@code {\n    [Parameter] public EventCallback&amp;lt;ToolbarAction&amp;gt; OnAction { get; set; }\n\n    public record ToolbarAction(string Prefix, string Suffix, bool IsBlock = false);\n\n    private async Task InsertSyntax(string prefix, string suffix)\n        =&amp;gt; await OnAction.InvokeAsync(new ToolbarAction(prefix, suffix));\n\n    private async Task InsertPrefix(string prefix)\n        =&amp;gt; await OnAction.InvokeAsync(new ToolbarAction(prefix, &quot;&quot;, IsBlock: true));\n\n    private async Task InsertLink()\n        =&amp;gt; await OnAction.InvokeAsync(new ToolbarAction(&quot;[&quot;, &quot;](url)&quot;));\n\n    private async Task InsertCodeBlock()\n        =&amp;gt; await OnAction.InvokeAsync(new ToolbarAction(&quot;```\\n&quot;, &quot;\\n```&quot;, IsBlock: true));\n}\n```\n\n### Integration with MarkdownEditor\nThe toolbar emits ToolbarAction events. MarkdownEditor handles these via JSInterop to insert at cursor position or wrap the current selection. This decouples the toolbar from DOM manipulation.\n\n### CSS (MarkdownToolbar.razor.css)\n```css\n.markdown-toolbar {\n    display: flex;\n    gap: 0.25rem;\n    padding: 0.25rem;\n    border-bottom: 1px solid var(--rz-border-color);\n}\n\n.markdown-toolbar button {\n    padding: 0.25rem 0.5rem;\n    border: 1px solid transparent;\n    border-radius: 4px;\n    background: none;\n    cursor: pointer;\n    font-size: 0.85rem;\n    color: var(--rz-text-secondary-color);\n}\n\n.markdown-toolbar button:hover {\n    background: var(--rz-base-200);\n    border-color: var(--rz-border-color);\n    color: var(--rz-text-color);\n}\n```\n\n### Verification\nRun: `just build-cs-components`",
      "display_key": "PONE-52",
      "id": "7c31ed33-aced-48d7-8b6e-43c9e499d888",
      "item_number": 52,
      "item_type": "task",
      "parent_id": "73e4ae98-43aa-4ebf-aca0-1ed435b9a2b8",
      "position": 9,
      "priority": "medium",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Add markdown toolbar component",
      "updated_at": 1770676098,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 5
    },
    {
      "assignee_id": null,
      "created_at": 1770854493,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Add pm work-item import command to create work items from structured JSON/YAML files. Support nested hierarchy (epics &amp;gt; stories &amp;gt; tasks), dry-run mode, and automatic parent_id linking. Importing a 47-task plan currently requires 100+ individual CLI commands. Priority: Medium.",
      "display_key": "PONE-73",
      "id": "e8caf69d-debc-40e3-83c3-ed7116ce9964",
      "item_number": 73,
      "item_type": "epic",
      "parent_id": null,
      "position": 9,
      "priority": "medium",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "backlog",
      "story_points": null,
      "title": "Bulk Import from Structured File",
      "updated_at": 1770854493,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 1
    },
    {
      "assignee_id": null,
      "created_at": 1770655389,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "## ‚ö†Ô∏è NOT IMPLEMENTING - VIOLATES ZERO-JS CONSTRAINT\n\n**Reason:** This project has a strict ZERO JavaScript policy. This task explicitly requires JSInterop and a JavaScript module (`markdownEditor.js`) for cursor manipulation. This is forbidden.\n\n**Audit Decision (2026-02-09):** Removed from PONE-39 epic scope. No keyboard shortcuts will be implemented.\n\n---\n\n## PONE-53: Add keyboard shortcuts for markdown\n\n### Requires JSInterop module\nCreate `frontend/ProjectManagement.Components/wwwroot/js/markdownEditor.js`:\n\n```javascript\nexport function getSelectionRange(textarea) {\n    return {\n        start: textarea.selectionStart,\n        end: textarea.selectionEnd,\n        text: textarea.value.substring(textarea.selectionStart, textarea.selectionEnd)\n    };\n}\n\nexport function insertAtCursor(textarea, prefix, suffix, isBlock) {\n    const start = textarea.selectionStart;\n    const end = textarea.selectionEnd;\n    const selected = textarea.value.substring(start, end);\n    const before = textarea.value.substring(0, start);\n    const after = textarea.value.substring(end);\n\n    let insertion;\n    if (isBlock &amp;&amp; start &amp;gt; 0 &amp;&amp; before[before.length - 1] \\!== &#x27;\\n&#x27;) {\n        insertion = &#x27;\\n&#x27; + prefix + (selected || &#x27;text&#x27;) + suffix;\n    } else {\n        insertion = prefix + (selected || &#x27;text&#x27;) + suffix;\n    }\n\n    textarea.value = before + insertion + after;\n\n    // Position cursor after prefix, selecting the placeholder/selected text\n    const newCursorStart = start + prefix.length + (isBlock &amp;&amp; start &amp;gt; 0 ? 1 : 0);\n    const newCursorEnd = newCursorStart + (selected || &#x27;text&#x27;).length;\n    textarea.setSelectionRange(newCursorStart, newCursorEnd);\n    textarea.focus();\n\n    // Trigger input event so Blazor picks up the change\n    textarea.dispatchEvent(new Event(&#x27;input&#x27;, { bubbles: true }));\n    textarea.dispatchEvent(new Event(&#x27;change&#x27;, { bubbles: true }));\n}\n```\n\n### MarkdownEditor keyboard handling (add to @code block)\n```csharp\n[Inject] private IJSRuntime JS { get; set; } = default\\!;\nprivate IJSObjectReference? _jsModule;\nprivate ElementReference _textareaRef;\n\nprotected override async Task OnAfterRenderAsync(bool firstRender)\n{\n    if (firstRender)\n    {\n        _jsModule = await JS.InvokeAsync&amp;lt;IJSObjectReference&amp;gt;(\n            &quot;import&quot;, &quot;./_content/ProjectManagement.Components/js/markdownEditor.js&quot;);\n    }\n}\n\nprivate async Task HandleKeyDown(KeyboardEventArgs e)\n{\n    if (_jsModule is null) return;\n\n    if (e.CtrlKey || e.MetaKey)\n    {\n        switch (e.Key)\n        {\n            case &quot;b&quot;: // Bold\n                await _jsModule.InvokeVoidAsync(&quot;insertAtCursor&quot;, _textareaRef, &quot;**&quot;, &quot;**&quot;, false);\n                break;\n            case &quot;i&quot;: // Italic\n                await _jsModule.InvokeVoidAsync(&quot;insertAtCursor&quot;, _textareaRef, &quot;_&quot;, &quot;_&quot;, false);\n                break;\n            case &quot;k&quot;: // Link\n                await _jsModule.InvokeVoidAsync(&quot;insertAtCursor&quot;, _textareaRef, &quot;[&quot;, &quot;](url)&quot;, false);\n                break;\n        }\n    }\n}\n\npublic async ValueTask DisposeAsync()\n{\n    if (_jsModule is not null)\n        await _jsModule.DisposeAsync();\n}\n```\n\n### Key decisions\n- JSInterop is required because Blazor cannot access textarea.selectionStart/End from C#\n- Module loaded lazily on first render, disposed on component teardown\n- Ctrl+B/I/K match GitHub/VS Code conventions; Cmd variants handled via e.MetaKey for macOS\n\n### Verification\nRun: `just build-cs-components`\nThen test Ctrl+B, Ctrl+I, Ctrl+K in the editor textarea.",
      "display_key": "PONE-53",
      "id": "792ff8f7-7909-4013-969b-695a51f4993d",
      "item_number": 53,
      "item_type": "task",
      "parent_id": "73e4ae98-43aa-4ebf-aca0-1ed435b9a2b8",
      "position": 10,
      "priority": "medium",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Add keyboard shortcuts for markdown",
      "updated_at": 1770676098,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 5
    },
    {
      "assignee_id": null,
      "created_at": 1770854496,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Add --with-children and --with-descendants flags to work-item get command. Return nested JSON showing full hierarchy tree in a single API call instead of requiring multiple requests. Useful for viewing epic structure, exporting sections, and generating reports. Priority: Medium.",
      "display_key": "PONE-74",
      "id": "23330fb5-5cfa-4977-b94b-11fe569e9c42",
      "item_number": 74,
      "item_type": "epic",
      "parent_id": null,
      "position": 10,
      "priority": "medium",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Get Item with Descendants",
      "updated_at": 1770859608,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 2
    },
    {
      "assignee_id": null,
      "created_at": 1770655392,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "## ‚úÖ STATUS: COMPLETE - 2026-02-09\n\n**Implementation verified and complete.**\n\nFiles modified:\n- ‚úÖ `frontend/ProjectManagement.Components/Shared/MarkdownRenderer.razor` - Added .UseColorCode() extension\n- ‚úÖ `frontend/ProjectManagement.Components/Shared/MarkdownRenderer.razor.css` - Added syntax highlighting styles\n\nBuild status: ‚úÖ Clean\nTest status: ‚úÖ Clean\n\n---\n\n## PONE-54: Add syntax highlighting for code blocks\n\n**Updated during audit (2026-02-09):** Changed from Highlight.js CDN (JavaScript) to Markdown.ColorCode (pure .NET) to maintain zero-JS constraint.\n\n### Implementation\n\n**Package used:** `Markdown.ColorCode` (already installed in PONE-40)\n\nThis is a Markdig extension that integrates ColorCode for automatic syntax highlighting.\n\n### Changes Made\n\n**MarkdownRenderer.razor:**\n- Added `@using Markdown.ColorCode` directive\n- Added `.UseColorCode()` to Markdig pipeline\n- Preserves `.DisableHtml()` for XSS protection\n\n**MarkdownRenderer.razor.css:**\n- Code block styling (background, border, padding)\n- Monospace font family\n- Inline code styling\n- Syntax highlighting colors (keyword, string, comment, className, typeName, number, method, preprocessorKeyword)\n\n### Supported Languages\n\nColorCode automatically detects language from fenced code blocks:\n- C# (`csharp`, `cs`)\n- JavaScript (`javascript`, `js`)\n- TypeScript (`typescript`, `ts`)\n- Python (`python`, `py`)\n- SQL, Rust, HTML, CSS, XML, and more\n\n### Verification\n`just build-cs-components &amp;&amp; just build-cs-wasm`",
      "display_key": "PONE-54",
      "id": "40a91996-f81c-4413-b501-432bd350f620",
      "item_number": 54,
      "item_type": "task",
      "parent_id": "73e4ae98-43aa-4ebf-aca0-1ed435b9a2b8",
      "position": 11,
      "priority": "medium",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Add syntax highlighting for code blocks",
      "updated_at": 1770676098,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 6
    },
    {
      "assignee_id": null,
      "created_at": 1770854497,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "# WON&#x27;T FIX\n\nMost checks are already enforced at write time by the server:\n- Orphaned items: use `--orphaned` flag on `work-item list`\n- Circular dependencies: enforced by `check_circular_reference` in WebSocket handler\n- Invalid parent references: validated on create/update\n- Version conflicts: optimistic locking by design\n- Invalid status transitions: validated on every update\n\nA post-hoc validation command would mostly check for things that can&#x27;t happen.\n\n---\n\nOriginal description: Add pm project validate command to check project health. Detect orphaned work items, circular dependencies, invalid parent references, version conflicts, items in deleted sprints, and invalid status transitions. Return structured JSON with errors and warnings. Priority: Medium.",
      "display_key": "PONE-75",
      "id": "2f73c3ae-73aa-4412-af3e-495667bd11a2",
      "item_number": 75,
      "item_type": "epic",
      "parent_id": null,
      "position": 11,
      "priority": "medium",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Project Validation Command",
      "updated_at": 1770860020,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 2
    },
    {
      "assignee_id": null,
      "created_at": 1770655395,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "## ‚ö†Ô∏è NOT IMPLEMENTING - USER PREFERENCE\n\n**Reason:** User prefers &quot;Google it&quot; approach for markdown syntax help rather than in-app cheatsheet. Since toolbar (PONE-52) and keyboard shortcuts (PONE-53) are also removed, the help popup mentioning them would be misleading.\n\n**Audit Decision (2026-02-09):** Removed from PONE-39 epic scope. Users will reference external markdown guides.\n\n**Note:** This task DOES NOT violate zero-JS constraint (it&#x27;s pure Blazor). It&#x27;s removed due to user preference for minimal UI.\n\n---\n\n## PONE-55: Add markdown help cheatsheet\n\n### New component\n`frontend/ProjectManagement.Components/Shared/MarkdownHelp.razor`\n\n### Implementation\n```razor\n&amp;lt;div class=&quot;markdown-help&quot;&amp;gt;\n    &amp;lt;button type=&quot;button&quot; class=&quot;help-toggle&quot; @onclick=&quot;() =&amp;gt; _showHelp = !_showHelp&quot;\n            title=&quot;Markdown help&quot;&amp;gt;\n        ?\n    &amp;lt;/button&amp;gt;\n\n    @if (_showHelp)\n    {\n        &amp;lt;div class=&quot;help-popup&quot;&amp;gt;\n            &amp;lt;table&amp;gt;\n                &amp;lt;tr&amp;gt;&amp;lt;td&amp;gt;&amp;lt;code&amp;gt;**bold**&amp;lt;/code&amp;gt;&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;&amp;lt;strong&amp;gt;bold&amp;lt;/strong&amp;gt;&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;\n                &amp;lt;tr&amp;gt;&amp;lt;td&amp;gt;&amp;lt;code&amp;gt;_italic_&amp;lt;/code&amp;gt;&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;&amp;lt;em&amp;gt;italic&amp;lt;/em&amp;gt;&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;\n                &amp;lt;tr&amp;gt;&amp;lt;td&amp;gt;&amp;lt;code&amp;gt;\\`code\\`&amp;lt;/code&amp;gt;&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;&amp;lt;code&amp;gt;code&amp;lt;/code&amp;gt;&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;\n                &amp;lt;tr&amp;gt;&amp;lt;td&amp;gt;&amp;lt;code&amp;gt;[link](url)&amp;lt;/code&amp;gt;&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;link&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;\n                &amp;lt;tr&amp;gt;&amp;lt;td&amp;gt;&amp;lt;code&amp;gt;## Heading&amp;lt;/code&amp;gt;&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;Heading&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;\n                &amp;lt;tr&amp;gt;&amp;lt;td&amp;gt;&amp;lt;code&amp;gt;- item&amp;lt;/code&amp;gt;&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;Bullet list&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;\n                &amp;lt;tr&amp;gt;&amp;lt;td&amp;gt;&amp;lt;code&amp;gt;1. item&amp;lt;/code&amp;gt;&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;Numbered list&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;\n                &amp;lt;tr&amp;gt;&amp;lt;td&amp;gt;&amp;lt;code&amp;gt;&amp;gt; quote&amp;lt;/code&amp;gt;&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;Blockquote&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;\n                &amp;lt;tr&amp;gt;&amp;lt;td&amp;gt;&amp;lt;code&amp;gt;\\`\\`\\`code\\`\\`\\`&amp;lt;/code&amp;gt;&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;Code block&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;\n                &amp;lt;tr&amp;gt;&amp;lt;td&amp;gt;&amp;lt;code&amp;gt;---&amp;lt;/code&amp;gt;&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;Horizontal rule&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;\n            &amp;lt;/table&amp;gt;\n            &amp;lt;div class=&quot;help-shortcuts&quot;&amp;gt;\n                &amp;lt;RadzenText TextStyle=&quot;TextStyle.Caption&quot;&amp;gt;&amp;lt;strong&amp;gt;Shortcuts:&amp;lt;/strong&amp;gt; Ctrl+B bold ¬∑ Ctrl+I italic ¬∑ Ctrl+K link&amp;lt;/RadzenText&amp;gt;\n            &amp;lt;/div&amp;gt;\n        &amp;lt;/div&amp;gt;\n    }\n&amp;lt;/div&amp;gt;\n\n@code {\n    private bool _showHelp;\n}\n```\n\n### CSS (MarkdownHelp.razor.css)\n```css\n.markdown-help {\n    position: relative;\n    display: inline-block;\n}\n\n.help-toggle {\n    width: 1.5rem;\n    height: 1.5rem;\n    border-radius: 50%;\n    border: 1px solid var(--rz-border-color);\n    background: var(--rz-base-200);\n    cursor: pointer;\n    font-size: 0.75rem;\n    font-weight: bold;\n    color: var(--rz-text-secondary-color);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.help-toggle:hover {\n    background: var(--rz-base-300);\n}\n\n.help-popup {\n    position: absolute;\n    bottom: 2rem;\n    right: 0;\n    z-index: 100;\n    background: var(--rz-base-background-color);\n    border: 1px solid var(--rz-border-color);\n    border-radius: 8px;\n    padding: 0.75rem;\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n    min-width: 280px;\n}\n\n.help-popup table {\n    width: 100%;\n    font-size: 0.8rem;\n}\n\n.help-popup td {\n    padding: 0.2rem 0.5rem;\n}\n\n.help-popup td:first-child {\n    color: var(--rz-text-secondary-color);\n    white-space: nowrap;\n}\n\n.help-shortcuts {\n    margin-top: 0.5rem;\n    padding-top: 0.5rem;\n    border-top: 1px solid var(--rz-border-color);\n}\n```\n\n### Integration\nAdd `&amp;lt;MarkdownHelp /&amp;gt;` to the MarkdownEditor footer, next to the character count and &quot;Markdown supported&quot; text. Also add to CommentEditor footer.\n\n### Verification\nRun: `just build-cs-components`\nClick the &quot;?&quot; button ‚Äî popup should appear with syntax reference and keyboard shortcuts.",
      "display_key": "PONE-55",
      "id": "bc464316-575c-420d-aa59-59e1658b55ab",
      "item_number": 55,
      "item_type": "task",
      "parent_id": "73e4ae98-43aa-4ebf-aca0-1ed435b9a2b8",
      "position": 12,
      "priority": "low",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Add markdown help cheatsheet",
      "updated_at": 1770676098,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 5
    },
    {
      "assignee_id": null,
      "created_at": 1770854500,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "Added `sync export work-item &amp;lt;GUID&amp;gt;` subcommand with opt-in related data flags: --descendant-levels (0-2), --comments, --sprints, --dependencies, --time-entries. Reuses existing ExportData format. Also fixed display_key bug (was hardcoded &quot;UNKNOWN&quot;, now resolves project key from DB).",
      "display_key": "PONE-76",
      "id": "8e60f18b-7f78-4c7e-a540-7e6863057c3d",
      "item_number": 76,
      "item_type": "epic",
      "parent_id": null,
      "position": 12,
      "priority": "low",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Scoped Work Item Export",
      "updated_at": 1770862268,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 2
    },
    {
      "assignee_id": null,
      "created_at": 1770916008,
      "created_by": "00000000-0000-0000-0000-000000000001",
      "description": "## Summary\n\nThe `MessageValidator` in `pm-ws` hardcodes all field length limits (comment=5000, title=200, description=10000, sprint name=100). Meanwhile, `ValidationConfig` in `pm-config` already defines `max_title_length` and `max_description_length` as configurable fields ‚Äî but they are **never wired to the validator**. The validator ignores them entirely and uses its own hardcoded values.\n\n## Goals\n\n1. Add `max_comment_length` and `max_sprint_name_length` as new configurable fields in `ValidationConfig`\n2. Wire `ValidationConfig` through the handler pipeline so `MessageValidator` uses config values instead of hardcoded literals\n3. Fix the existing disconnect where `max_title_length` and `max_description_length` exist in config but are never consumed\n\n## Scope\n\n**Making configurable** (content/text limits users may want to adjust):\n- Comment content: 5,000 chars (new field)\n- Sprint name: 100 chars (new field)\n- Work item title: 200 chars (already in config ‚Äî wire it up)\n- Work item description: 10,000 chars (already in config ‚Äî wire it up)\n\n**Keeping hardcoded** (structural/format constraints, not content limits):\n- Project key: 2-20 chars (format constraint with alphanumeric rules)\n- Pagination: max 1,000 (operational limit)\n- UUID/subscription fields (protocol constraints)\n\n## Key Files\n\n- `backend/crates/pm-config/src/validation_config.rs` ‚Äî Config struct + defaults + bounds\n- `backend/crates/pm-config/src/config.rs` ‚Äî Env overrides + logging\n- `backend/crates/pm-ws/src/message_validator.rs` ‚Äî All validation logic (currently hardcoded)\n- `backend/crates/pm-ws/src/handlers/context.rs` ‚Äî HandlerContext (needs ValidationConfig)\n- `backend/crates/pm-ws/src/app_state.rs` ‚Äî AppState (needs ValidationConfig)\n- `backend/crates/pm-ws/src/web_socket_connection.rs` ‚Äî WebSocketConnection (threads config)\n- `backend/crates/pm-ws/src/handlers/{comment,work_item,sprint,project}.rs` ‚Äî All callers\n- `backend/pm-server/src/api/{comments,work_items}/` ‚Äî REST API callers\n- `backend/config.example.toml` ‚Äî User-facing config docs",
      "display_key": "PONE-99",
      "id": "bca827a0-798d-4d46-b3a6-8fbee3e562bb",
      "item_number": 99,
      "item_type": "epic",
      "parent_id": null,
      "position": 13,
      "priority": "high",
      "project_id": "8d96310e-1e69-4dc5-9529-5c173674ab90",
      "sprint_id": null,
      "status": "done",
      "story_points": null,
      "title": "Make Validation Limits Configurable via pm-config",
      "updated_at": 1770932580,
      "updated_by": "00000000-0000-0000-0000-000000000001",
      "version": 3
    }
  ]
}