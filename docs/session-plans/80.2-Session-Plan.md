# Session 80.2: DependencyRow Component + Tests

**Parent Plan**: `80-Session-Plan-Teaching.md`
**Target**: ~35-45k tokens
**Prerequisites**: Session 80.1 complete

---

## Scope

Create the smallest reusable UI unit (`DependencyRow`) and verify it with bUnit tests.

1. **DependencyRow component**
2. **Pending state and a11y labels**
3. **Unit tests for rendering and disablement**

---

## Teaching Goals

- Build a focused component with explicit dependencies.
- Use store state to drive UI affordances.
- Write minimal but high-value bUnit tests.

---

## Implementation Order

### Step 1: Create DependencyRow

**File**: `frontend/ProjectManagement.Components/Dependencies/DependencyRow.razor`

Key behaviors:
- Derive display title from `WorkItemLookup`.
- Render type label and badge.
- Disable delete while pending.
- Provide `aria-label` for delete button.

Reference snippet in `docs/session-plans/80-Session-Plan-Initial.md`.

---

### Step 2: Add Unit Tests

Create/extend bUnit tests to validate:
- Pending state disables delete button
- Title fallback when lookup is missing
- Type label changes for Blocks vs Relates

Use `IDependencyStore.IsPending` stubs and a simple lookup lambda.

---

## Completion Checklist

- [ ] `DependencyRow` renders correctly for both types
- [ ] Pending state disables delete
- [ ] bUnit tests added and pass
- [ ] `just build-cs-components` passes
- [ ] `just test-cs-components` passes

---

## Next Session

**Session 80.3** builds `AddDependencyDialog` with accessibility and validation handling.
