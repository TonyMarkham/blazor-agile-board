# Session 80.1: Contracts + CSS Integration

**Parent Plan**: `80-Session-Plan-Teaching.md`
**Target**: ~20-30k tokens
**Prerequisites**: `just build-cs-components` succeeds

---

## Scope

This session verifies all required frontend contracts and ensures dependency styles are bundled. No UI components are created yet.

1. **API Contract Verification**
2. **Connectivity Source Identification**
3. **RCL CSS Import Validation**

---

## Teaching Goals

- Learn how to verify dependencies before writing UI.
- Identify and document authoritative connectivity state.
- Confirm style bundle wiring to prevent invisible UI regressions.

---

## Implementation Order

### Step 1: Verify Store and AppState Contracts

Document exact locations (file + namespace) and signatures for:

- `IDependencyStore`:
  - `GetBlocking`, `GetBlocked`, `IsPending`, `CreateAsync`, `DeleteAsync`, `RefreshAsync`, `OnChanged`.
- Store dependency for fetch (likely `IWebSocketClient.GetDependenciesAsync`).
- `AppState.WorkItems`: `GetByProject(Guid)` and `GetById(Guid)` (or approved alternatives).
- `ViewModelFactory.Create` and `CreateMany`.
- `DialogService` usage pattern in existing dialogs.

**Deliverable:** a short note (inline in your session log or commit message) listing the exact locations and any missing contracts.

---

### Step 2: Identify Connectivity Source

Locate the authoritative online/offline source used elsewhere in the UI. Examples:

- `IConnectivityService.IsOnline`
- `IWebSocketClient.IsConnected`
- `AppState.Connection.IsOnline`

**Deliverable:** confirmed source name and usage pattern to apply in later sessions.

---

### Step 3: Ensure CSS Is Bundled

Verify `dependencies.css` is imported into the RCL bundle. If missing, add:

```css
@import "../../Dependencies/dependencies.css";
```

**Deliverable:** CSS import present in the correct bundle file (document path).

---

## Completion Checklist

- [x] All required contract signatures located and documented
- [x] Connectivity source identified
- [x] `dependencies.css` bundled
- [x] `just build-cs-components` passes

**Verification:** `just build-cs-components` (2026-01-31) âœ…

---

## Next Session

**Session 80.2** builds `DependencyRow` and its unit tests.
